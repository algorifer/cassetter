var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function i(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}const l="undefined"!=typeof window;let u=l?()=>window.performance.now():()=>Date.now(),c=l?t=>requestAnimationFrame(t):t;const h=new Set;function d(t){h.forEach(e=>{e.c(t)||(h.delete(e),e.f())}),0!==h.size&&c(d)}function p(t){let e;return 0===h.size&&c(d),{promise:new Promise(n=>{h.add(e={c:t,f:n})}),abort(){h.delete(e)}}}function f(t,e){t.appendChild(e)}function m(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function y(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function x(){return b(" ")}function k(){return b("")}function w(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function S(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e,n){t.classList[n?"add":"remove"](e)}let A,E,C=0,P={};function O(t,e,n,i,s,r,a,o=0){const l=16.666/i;let u="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*r(t);u+=100*t+`%{${a(i,1-i)}}\n`}const c=u+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${o}`;if(!P[h]){if(!A){const t=g("style");document.head.appendChild(t),A=t.sheet}P[h]=!0,A.insertRule(`@keyframes ${h} ${c}`,A.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${h} ${i}ms linear ${s}ms 1 both`,C+=1,h}function q(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--C&&c(()=>{if(C)return;let t=A.cssRules.length;for(;t--;)A.deleteRule(t);P={}})}function M(t){E=t}function L(){if(!E)throw new Error("Function called outside component initialization");return E}function R(t){L().$$.on_mount.push(t)}const N=[],I=[],F=[],D=[],B=Promise.resolve();let V,j=!1;function U(t){F.push(t)}function G(){const t=new Set;do{for(;N.length;){const t=N.shift();M(t),W(t.$$)}for(;I.length;)I.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];t.has(n)||(n(),t.add(n))}F.length=0}while(N.length);for(;D.length;)D.pop()();j=!1}function W(t){null!==t.fragment&&(t.update(),s(t.before_update),t.fragment&&t.fragment.p(t.ctx,t.dirty),t.dirty=[-1],t.after_update.forEach(U))}function z(){return V||(V=Promise.resolve(),V.then(()=>{V=null})),V}function H(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const Q=new Set;let Y;function X(){Y={r:0,c:[],p:Y}}function Z(){Y.r||s(Y.c),Y=Y.p}function J(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function K(t,e,n,i){if(t&&t.o){if(Q.has(t))return;Q.add(t),Y.c.push(()=>{Q.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}const tt={duration:0};function et(t){t&&t.c()}function nt(t,e,i){const{fragment:a,on_mount:o,on_destroy:l,after_update:u}=t.$$;a&&a.m(e,i),U(()=>{const e=o.map(n).filter(r);l?l.push(...e):s(e),t.$$.on_mount=[]}),u.forEach(U)}function it(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(N.push(t),j||(j=!0,B.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,r,a,o,l,u=[-1]){const c=E;M(e);const h=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:o,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:u};let p=!1;d.ctx=r?r(e,h,(t,n,i=n)=>(d.ctx&&o(d.ctx[t],d.ctx[t]=i)&&(d.bound[t]&&d.bound[t](i),p&&st(e,t)),n)):[],d.update(),p=!0,s(d.before_update),d.fragment=!!a&&a(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):d.fragment&&d.fragment.c(),n.intro&&J(e.$$.fragment),nt(e,n.target,n.anchor),G()),M(c)}class at{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const ot=[];function lt(e,n=t){let i;const s=[];function r(t){if(a(e,t)&&(e=t,i)){const t=!ot.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),ot.push(n,e)}if(t){for(let t=0;t<ot.length;t+=2)ot[t][0](ot[t+1]);ot.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(a,o=t){const l=[a,o];return s.push(l),1===s.length&&(i=n(r)||t),a(e),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(i(),i=null)}}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function ut(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ct(t,e){return t(e={exports:{}},e.exports),e.exports}var ht=ct((function(t,e){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=148)}([function(t,e,n){n.r(e),function(t){var i=n(93),s=function(){if(!(this instanceof s))throw new Error("constructor needs to be called with the 'new' keyword")};
/**
     *  Tone.js
     *  @author Yotam Mann
     *  @license http://opensource.org/licenses/MIT MIT License
     *  @copyright 2014-2019 Yotam Mann
     */s.prototype.toString=function(){for(var t in s){var e=t[0].match(/^[A-Z]$/),n=s[t]===this.constructor;if(s.isFunction(s[t])&&e&&n)return t}return"Tone"},s.prototype.dispose=function(){return this},s.prototype.set=function(t,e){if(s.isString(t)){var n={};n[t]=e,t=n}t:for(var i in t){e=t[i];var r=this;if(-1!==i.indexOf(".")){for(var a=i.split("."),o=0;o<a.length-1;o++)if((r=r[a[o]])instanceof s){a.splice(0,o+1);var l=a.join(".");r.set(l,e);continue t}i=a[a.length-1]}var u=r[i];s.isUndef(u)||(s.Signal&&u instanceof s.Signal||s.Param&&u instanceof s.Param?u.value!==e&&(u.value=e):u instanceof AudioParam?u.value!==e&&(u.value=e):s.TimeBase&&u instanceof s.TimeBase?r[i]=e:u instanceof s?u.set(e):u!==e&&(r[i]=e))}return this},s.prototype.get=function(t){s.isUndef(t)?t=this._collectDefaults(this.constructor):s.isString(t)&&(t=[t]);for(var e={},n=0;n<t.length;n++){var i=t[n],r=this,a=e;if(-1!==i.indexOf(".")){for(var o=i.split("."),l=0;l<o.length-1;l++){var u=o[l];a[u]=a[u]||{},a=a[u],r=r[u]}i=o[o.length-1]}var c=r[i];s.isObject(t[i])?a[i]=c.get():s.Signal&&c instanceof s.Signal?a[i]=c.value:s.Param&&c instanceof s.Param?a[i]=c.value:c instanceof AudioParam?a[i]=c.value:c instanceof s?a[i]=c.get():!s.isFunction(c)&&s.isDefined(c)&&(a[i]=c)}return e},s.prototype._collectDefaults=function(t){var e=[];if(s.isDefined(t.defaults)&&(e=Object.keys(t.defaults)),s.isDefined(t._super))for(var n=this._collectDefaults(t._super),i=0;i<n.length;i++)-1===e.indexOf(n[i])&&e.push(n[i]);return e},s.defaults=function(t,e,n){var i={};if(1===t.length&&s.isObject(t[0]))i=t[0];else for(var r=0;r<e.length;r++)i[e[r]]=t[r];return s.isDefined(n.defaults)?s.defaultArg(i,n.defaults):s.isObject(n)?s.defaultArg(i,n):i},s.defaultArg=function(t,e){if(s.isObject(t)&&s.isObject(e)){var n={};for(var i in t)n[i]=s.defaultArg(e[i],t[i]);for(var r in e)n[r]=s.defaultArg(t[r],e[r]);return n}return s.isUndef(t)?e:t},s.prototype.log=function(){if(this.debug||this.toString()===s.global.TONE_DEBUG_CLASS){var t=Array.from(arguments);t.unshift(this.toString()+":"),console.log.apply(void 0,t)}},s.prototype.assert=function(t,e){if(!t)throw new Error(e)},s.connectSeries=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];s.connect(t,n),t=n}return s},s.connect=function(t,e,n,i){for(;s.isDefined(e.input);)s.isArray(e.input)?(i=s.defaultArg(i,0),e=e.input[i],i=0):e.input&&(e=e.input);return e instanceof AudioParam?t.connect(e,n):e instanceof AudioNode&&t.connect(e,n,i),s},s.disconnect=function(t,e,n,i){if(e){for(var r=!1;!r;)s.isArray(e.input)?(s.isDefined(i)?s.disconnect(t,e.input[i],n):e.input.forEach((function(e){try{s.disconnect(t,e,n)}catch(t){}})),r=!0):e.input?e=e.input:r=!0;e instanceof AudioParam?t.disconnect(e,n):e instanceof AudioNode&&t.disconnect(e,n,i)}else t.disconnect();return s},s.isUndef=function(t){return void 0===t},s.isDefined=function(t){return!s.isUndef(t)},s.isFunction=function(t){return"function"==typeof t},s.isNumber=function(t){return"number"==typeof t},s.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},s.isBoolean=function(t){return"boolean"==typeof t},s.isArray=function(t){return Array.isArray(t)},s.isString=function(t){return"string"==typeof t},s.isNote=function(t){return s.isString(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)},s.noOp=function(){},s.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},s.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},s.State={Started:"started",Stopped:"stopped",Paused:"paused"},s.global=s.isUndef(t)?window:t,s.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},s.dbToGain=function(t){return Math.pow(10,t/20)},s.gainToDb=function(t){return Math.log(t)/Math.LN10*20},s.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},s.prototype.now=function(){return s.context.now()},s.now=function(){return s.context.now()},s.prototype.immediate=function(){return s.context.currentTime},s.immediate=function(){return s.context.currentTime},s.extend=function(t,e){function n(){}s.isUndef(e)&&(e=s),n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t._super=e},s._audioContext=null,s.start=function(){return s.context.resume()},Object.defineProperty(s,"context",{get:function(){return s._audioContext},set:function(t){t.isContext?s._audioContext=t:s._audioContext=new s.Context(t),s.Context.emit("init",s._audioContext)}}),Object.defineProperty(s.prototype,"context",{get:function(){return s.context}}),s.setContext=function(t){s.context=t},Object.defineProperty(s.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(s.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(s,"supported",{get:function(){var t=s.global.hasOwnProperty("AudioContext")||s.global.hasOwnProperty("webkitAudioContext"),e=s.global.hasOwnProperty("Promise");return t&&e}}),Object.defineProperty(s,"initialized",{get:function(){return Boolean(s.context)}}),s.getContext=function(t){if(s.initialized)t(s.context);else{var e=function(){t(s.context),s.Context.off("init",e)};s.Context.on("init",e)}return s},s.version=i.a,e.default=s}.call(this,n(147))},function(t,e,n){n.r(e);var i=n(0);if(n(20),i.default.supported){var s=new OfflineAudioContext(2,1,44100),r=s.createGain(),a=s.createGain();if(r.connect(a)!==a){var o=AudioNode.prototype.connect;AudioNode.prototype.connect=function(){return o.apply(this,arguments),arguments[0]}}}i.default.AudioNode=function(){i.default.call(this);var t=i.default.defaults(arguments,["context"],{context:i.default.context});this._context=t.context},i.default.extend(i.default.AudioNode),Object.defineProperty(i.default.AudioNode.prototype,"context",{get:function(){return this._context}}),i.default.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(e))},Object.defineProperty(i.default.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}}),Object.defineProperty(i.default.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}}),Object.defineProperty(i.default.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}}),Object.defineProperty(i.default.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?i.default.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(i.default.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?i.default.isArray(this.output)?this.output.length:1:0}}),i.default.AudioNode.prototype.connect=function(t,e,n){return i.default.isArray(this.output)?(e=i.default.defaultArg(e,0),this.output[e].connect(t,0,n)):i.default.connect(this.output,t,e,n),this},i.default.AudioNode.prototype.disconnect=function(t,e,n){return i.default.isArray(this.output)?(e=i.default.defaultArg(e,0),this.output[e].disconnect(t,0,n)):i.default.disconnect(this.output,t,e,n),this},i.default.AudioNode.prototype.chain=function(){var t=Array.from(arguments);return t.unshift(this),i.default.connectSeries.apply(void 0,t),this},i.default.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},i.default.AudioNode.prototype.dispose=function(){return i.default.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),i.default.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},e.default=i.default.AudioNode},function(t,e,n){n.r(e);var i=n(0);if(n(4),n(14),n(30),n(44),n(20),n(3),i.default.supported&&!i.default.global.AudioContext.prototype.createConstantSource){var s=function(t){this.context=t;for(var e=t.createBuffer(1,128,t.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=1;this._bufferSource=t.createBufferSource(),this._bufferSource.channelCount=1,this._bufferSource.channelCountMode="explicit",this._bufferSource.buffer=e,this._bufferSource.loop=!0;var s=this._output=t.createGain();this.offset=s.gain,this._bufferSource.connect(s)};s.prototype.start=function(t){return this._bufferSource.start(t),this},s.prototype.stop=function(t){return this._bufferSource.stop(t),this},s.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},s.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new s(this)},i.default.Context.prototype.createConstantSource=function(){return new s(this)}}i.default.Signal=function(){var t=i.default.defaults(arguments,["value","units"],i.default.Signal);i.default.Param.call(this,t),this._constantSource=this.context.createConstantSource(),this._constantSource.start(0),this._param=this._constantSource.offset,this.value=t.value,this.output=this._constantSource,this.input=this._param=this.output.offset},i.default.extend(i.default.Signal,i.default.Param),i.default.Signal.defaults={value:0,units:i.default.Type.Default,convert:!0},i.default.Signal.prototype.connect=i.default.SignalBase.prototype.connect,i.default.Signal.prototype.disconnect=i.default.SignalBase.prototype.disconnect,i.default.Signal.prototype.getValueAtTime=function(t){return this._param.getValueAtTime?this._param.getValueAtTime(t):i.default.Param.prototype.getValueAtTime.call(this,t)},i.default.Signal.prototype.dispose=function(){return i.default.Param.prototype.dispose.call(this),this._constantSource.stop(),this._constantSource.disconnect(),this._constantSource=null,this},e.default=i.default.Signal},function(t,e,n){n.r(e);var i=n(0);n(14),n(4),n(1),i.default.Gain=function(){var t=i.default.defaults(arguments,["gain","units"],i.default.Gain);i.default.AudioNode.call(this,t),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new i.default.Param({param:this._gainNode.gain,units:t.units,value:t.gain,convert:t.convert}),this._readOnly("gain")},i.default.extend(i.default.Gain,i.default.AudioNode),i.default.Gain.defaults={gain:1,convert:!0},i.default.Gain.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},e.default=i.default.Gain},function(t,e,n){n.r(e);var i=n(0);n(63),n(46),n(45),n(20),i.default.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},i.default.prototype.toSeconds=function(t){return i.default.isNumber(t)?t:i.default.isUndef(t)?this.now():i.default.isString(t)||i.default.isObject(t)?new i.default.Time(t).toSeconds():t instanceof i.default.TimeBase?t.toSeconds():void 0},i.default.prototype.toFrequency=function(t){return i.default.isNumber(t)?t:i.default.isString(t)||i.default.isUndef(t)||i.default.isObject(t)?new i.default.Frequency(t).valueOf():t instanceof i.default.TimeBase?t.toFrequency():void 0},i.default.prototype.toTicks=function(t){return i.default.isNumber(t)||i.default.isString(t)||i.default.isObject(t)?new i.default.TransportTime(t).toTicks():i.default.isUndef(t)?i.default.Transport.ticks:t instanceof i.default.TimeBase?t.toTicks():void 0},e.default=i.default},function(t,e,n){n.r(e);var i=n(0);n(14),n(3),n(30),i.default.Multiply=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new i.default.Gain,this._param=this.input[1]=this.output.gain,this.value=i.default.defaultArg(t,0)},i.default.extend(i.default.Multiply,i.default.Signal),i.default.Multiply.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},e.default=i.default.Multiply},function(t,e,n){n.r(e);var i=n(0);n(16),n(27),n(40),n(4),n(34),n(2),n(1),i.default.Source=function(t){t=i.default.defaultArg(t,i.default.Source.defaults),i.default.AudioNode.call(this),this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new i.default.TimelineState(i.default.State.Stopped),this._state.memory=100,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=t.mute},i.default.extend(i.default.Source,i.default.AudioNode),i.default.Source.defaults={volume:0,mute:!1},Object.defineProperty(i.default.Source.prototype,"state",{get:function(){return this._synced?i.default.Transport.state===i.default.State.Started?this._state.getValueAtTime(i.default.Transport.seconds):i.default.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(i.default.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.Source.prototype._start=i.default.noOp,i.default.Source.prototype.restart=i.default.noOp,i.default.Source.prototype._stop=i.default.noOp,i.default.Source.prototype.start=function(t,e,n){if(i.default.isUndef(t)&&this._synced?t=i.default.Transport.seconds:(t=this.toSeconds(t),t=Math.max(t,this.context.currentTime)),this._state.getValueAtTime(t)===i.default.State.Started)this._state.cancel(t),this._state.setStateAtTime(i.default.State.Started,t),this.restart(t,e,n);else if(this._state.setStateAtTime(i.default.State.Started,t),this._synced){var s=this._state.get(t);s.offset=i.default.defaultArg(e,0),s.duration=n;var r=i.default.Transport.schedule(function(t){this._start(t,e,n)}.bind(this),t);this._scheduled.push(r),i.default.Transport.state===i.default.State.Started&&this._syncedStart(this.now(),i.default.Transport.seconds)}else this._start.apply(this,arguments);return this},i.default.Source.prototype.stop=function(t){if(i.default.isUndef(t)&&this._synced?t=i.default.Transport.seconds:(t=this.toSeconds(t),t=Math.max(t,this.context.currentTime)),this._synced){var e=i.default.Transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop.apply(this,arguments);return this._state.cancel(t),this._state.setStateAtTime(i.default.State.Stopped,t),this},i.default.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(t,e){if(e>0){var n=this._state.get(e);if(n&&n.state===i.default.State.Started&&n.time!==e){var s,r=e-this.toSeconds(n.time);n.duration&&(s=this.toSeconds(n.duration)-r),this._start(t,this.toSeconds(n.offset)+r,s)}}}.bind(this),this._syncedStop=function(t){var e=i.default.Transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)===i.default.State.Started&&this._stop(t)}.bind(this),i.default.Transport.on("start loopStart",this._syncedStart),i.default.Transport.on("stop pause loopEnd",this._syncedStop),this},i.default.Source.prototype.unsync=function(){this._synced&&(i.default.Transport.off("stop pause loopEnd",this._syncedStop),i.default.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var t=0;t<this._scheduled.length;t++){var e=this._scheduled[t];i.default.Transport.clear(e)}return this._scheduled=[],this._state.cancel(0),this},i.default.Source.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},e.default=i.default.Source},function(t,e,n){n.r(e);var i=n(0);if(n(30),n(44),i.default.supported&&!i.default.global.AudioContext.prototype._native_createWaveShaper){var s=navigator.userAgent.toLowerCase();if(s.includes("safari")&&!s.includes("chrome")){var r=function(t){for(var e in this._internalNode=this.input=this.output=t._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,e)};Object.defineProperty(r.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1),e[0]=t[0],this._internalNode.curve=e}}),r.prototype._defineProperty=function(t,e){i.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return"function"==typeof t[e]?t[e].bind(t):t[e]},set:function(n){t[e]=n}})},i.default.global.AudioContext.prototype._native_createWaveShaper=i.default.global.AudioContext.prototype.createWaveShaper,i.default.global.AudioContext.prototype.createWaveShaper=function(){return new r(this)}}}i.default.WaveShaper=function(t,e){i.default.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||i.default.isUndef(t)?this._curve=new Float32Array(i.default.defaultArg(t,1024)):i.default.isFunction(t)&&(this._curve=new Float32Array(i.default.defaultArg(e,1024)),this.setMap(t))},i.default.extend(i.default.WaveShaper,i.default.SignalBase),i.default.WaveShaper.prototype.setMap=function(t){for(var e=new Array(this._curve.length),n=0,i=this._curve.length;n<i;n++){var s=n/(i-1)*2-1;e[n]=t(s,n)}return this.curve=e,this},Object.defineProperty(i.default.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(i.default.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(!["none","2x","4x"].includes(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),i.default.WaveShaper.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},e.default=i.default.WaveShaper},function(t,e,n){n.r(e);var i=n(0);n(23),n(1),i.default.Effect=function(){var t=i.default.defaults(arguments,["wet"],i.default.Effect);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new i.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this.effectSend=new i.default.Gain,this.effectReturn=new i.default.Gain,i.default.connect(this.input,this._dryWet.a),i.default.connect(this.input,this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},i.default.extend(i.default.Effect,i.default.AudioNode),i.default.Effect.defaults={wet:1},i.default.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},i.default.Effect.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},e.default=i.default.Effect},function(t,e,n){n.r(e);var i=n(0);n(2),n(1),i.default.Filter=function(){var t=i.default.defaults(arguments,["frequency","type","rolloff"],i.default.Filter);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(0,i.default.Type.Cents),this.gain=new i.default.Signal({value:t.gain,convert:!0,type:i.default.Type.Decibels}),this.Q=new i.default.Signal(t.Q),this._type=t.type,this._rolloff=t.rolloff,this.rolloff=t.rolloff,this._readOnly(["detune","frequency","gain","Q"])},i.default.extend(i.default.Filter,i.default.AudioNode),i.default.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(i.default.Filter.prototype,"type",{get:function(){return this._type},set:function(t){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var e=0;e<this._filters.length;e++)this._filters[e].type=t}}),Object.defineProperty(i.default.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){t=parseInt(t,10);var e=[-12,-24,-48,-96].indexOf(t);if(-1===e)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");e+=1,this._rolloff=t,this.input.disconnect();for(var n=0;n<this._filters.length;n++)this._filters[n].disconnect(),this._filters[n]=null;this._filters=new Array(e);for(var s=0;s<e;s++){var r=this.context.createBiquadFilter();r.type=this._type,this.frequency.connect(r.frequency),this.detune.connect(r.detune),this.Q.connect(r.Q),this.gain.connect(r.gain),this._filters[s]=r}var a=[this.input].concat(this._filters).concat([this.output]);i.default.connectSeries.apply(i.default,a)}}),i.default.Filter.prototype.getFrequencyResponse=function(t){t=i.default.defaultArg(t,128);for(var e=new Float32Array(t).map((function(){return 1})),n=new Float32Array(t),s=0;s<t;s++){var r=19980*Math.pow(s/t,2)+20;n[s]=r}var a=new Float32Array(t),o=new Float32Array(t);return this._filters.forEach(function(){var t=this.context.createBiquadFilter();t.type=this._type,t.Q.value=this.Q.value,t.frequency.value=this.frequency.value,t.gain.value=this.gain.value,t.getFrequencyResponse(n,a,o),a.forEach((function(t,n){e[n]*=t}))}.bind(this)),e},i.default.Filter.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this);for(var t=0;t<this._filters.length;t++)this._filters[t].disconnect(),this._filters[t]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},e.default=i.default.Filter},function(t,e,n){n.r(e);var i=n(0);n(1),i.default.Merge=function(t){t=i.default.defaultArg(t,2),i.default.AudioNode.call(this),this.createInsOuts(t,0),this._merger=this.output=this.context.createChannelMerger(t);for(var e=0;e<t;e++)this.input[e]=new i.default.Gain,this.input[e].connect(this._merger,0,e),this.input[e].channelCount=1,this.input[e].channelCountMode="explicit";this.left=this.input[0],this.right=this.input[1]},i.default.extend(i.default.Merge,i.default.AudioNode),i.default.Merge.prototype.dispose=function(){return this.input.forEach((function(t){t.dispose()})),i.default.AudioNode.prototype.dispose.call(this),this.left=null,this.right=null,this._merger.disconnect(),this._merger=null,this},e.default=i.default.Merge},function(t,e,n){n.r(e);var i=n(0);n(35),n(4),i.default.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var s=0;s<i.length;s++)i[s+n]=t[s]},AudioBuffer.prototype.copyFromChannel=function(t,e,n){var i=this.getChannelData(e);n=n||0;for(var s=0;s<t.length;s++)t[s]=i[s+n]})),i.default.Buffer=function(){var t=i.default.defaults(arguments,["url","onload","onerror"],i.default.Buffer);i.default.call(this),this._buffer=null,this._reversed=t.reverse,this._xhr=null,this.onload=i.default.noOp,t.url instanceof AudioBuffer||t.url instanceof i.default.Buffer?(this.set(t.url),this.loaded||(this.onload=t.onload)):i.default.isString(t.url)&&this.load(t.url).then(t.onload).catch(t.onerror)},i.default.extend(i.default.Buffer),i.default.Buffer.defaults={url:void 0,reverse:!1,onload:i.default.noOp,onerror:i.default.noOp},i.default.Buffer.prototype.set=function(t){return t instanceof i.default.Buffer?t.loaded?this._buffer=t.get():t.onload=function(){this.set(t),this.onload(this)}.bind(this):this._buffer=t,this._reversed&&this._reverse(),this},i.default.Buffer.prototype.get=function(){return this._buffer},i.default.Buffer.prototype.load=function(t,e,n){return new Promise(function(s,r){this._xhr=i.default.Buffer.load(t,function(t){this._xhr=null,this.set(t),s(this),this.onload(this),e&&e(this)}.bind(this),function(t){this._xhr=null,r(t),n&&n(t)}.bind(this))}.bind(this))},i.default.Buffer.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this._buffer=null,this._xhr&&(i.default.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(i.default.Buffer.prototype,"loaded",{get:function(){return this.length>0}}),Object.defineProperty(i.default.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(i.default.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(i.default.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),i.default.Buffer.prototype.fromArray=function(t){var e=t[0].length>0,n=e?t.length:1,i=e?t[0].length:t.length,s=this.context.createBuffer(n,i,this.context.sampleRate);e||1!==n||(t=[t]);for(var r=0;r<n;r++)s.copyToChannel(t[r],r);return this._buffer=s,this},i.default.Buffer.prototype.toMono=function(t){if(i.default.isNumber(t))this.fromArray(this.toArray(t));else{for(var e=new Float32Array(this.length),n=this.numberOfChannels,s=0;s<n;s++)for(var r=this.toArray(s),a=0;a<r.length;a++)e[a]+=r[a];e=e.map((function(t){return t/n})),this.fromArray(e)}return this},i.default.Buffer.prototype.toArray=function(t){if(i.default.isNumber(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);for(var e=[],n=0;n<this.numberOfChannels;n++)e[n]=this.getChannelData(n);return e},i.default.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},i.default.Buffer.prototype.slice=function(t,e){e=i.default.defaultArg(e,this.duration);for(var n=Math.floor(this.context.sampleRate*this.toSeconds(t)),s=Math.floor(this.context.sampleRate*this.toSeconds(e)),r=[],a=0;a<this.numberOfChannels;a++)r[a]=this.toArray(a).slice(n,s);return(new i.default.Buffer).fromArray(r)},i.default.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(i.default.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),i.default.Emitter.mixin(i.default.Buffer),i.default.Buffer._downloadQueue=[],i.default.Buffer.baseUrl="",i.default.Buffer.fromArray=function(t){return(new i.default.Buffer).fromArray(t)},i.default.Buffer.fromUrl=function(t){var e=new i.default.Buffer;return e.load(t).then((function(){return e}))},i.default.Buffer._removeFromDownloadQueue=function(t){var e=i.default.Buffer._downloadQueue.indexOf(t);-1!==e&&i.default.Buffer._downloadQueue.splice(e,1)},i.default.Buffer.load=function(t,e,n){e=i.default.defaultArg(e,i.default.noOp);var s=t.match(/\[(.+\|?)+\]$/);if(s){for(var r=s[1].split("|"),a=r[0],o=0;o<r.length;o++)if(i.default.Buffer.supportsType(r[o])){a=r[o];break}t=t.replace(s[0],a)}function l(t){if(i.default.Buffer._removeFromDownloadQueue(c),i.default.Buffer.emit("error",t),!n)throw t;n(t)}function u(){for(var t=0,e=0;e<i.default.Buffer._downloadQueue.length;e++)t+=i.default.Buffer._downloadQueue[e].progress;i.default.Buffer.emit("progress",t/i.default.Buffer._downloadQueue.length)}var c=new XMLHttpRequest;return c.open("GET",i.default.Buffer.baseUrl+t,!0),c.responseType="arraybuffer",c.progress=0,i.default.Buffer._downloadQueue.push(c),c.addEventListener("load",(function(){200===c.status?i.default.context.decodeAudioData(c.response).then((function(t){c.progress=1,u(),e(t),i.default.Buffer._removeFromDownloadQueue(c),0===i.default.Buffer._downloadQueue.length&&i.default.Buffer.emit("load")})).catch((function(){i.default.Buffer._removeFromDownloadQueue(c),l("Tone.Buffer: could not decode audio data: "+t)})):l("Tone.Buffer: could not locate file: "+t)})),c.addEventListener("error",l),c.addEventListener("progress",(function(t){t.lengthComputable&&(c.progress=t.loaded/t.total*.95,u())})),c.send(),c},i.default.Buffer.cancelDownloads=function(){return i.default.Buffer._downloadQueue.slice().forEach((function(t){i.default.Buffer._removeFromDownloadQueue(t),t.abort()})),i.default.Buffer},i.default.Buffer.supportsType=function(t){var e=t.split(".");return e=e[e.length-1],""!==document.createElement("audio").canPlayType("audio/"+e)},i.default.loaded=function(){var t,e;function n(){i.default.Buffer.off("load",t),i.default.Buffer.off("error",e)}return new Promise((function(n,s){t=function(){n()},e=function(){s()},i.default.Buffer.on("load",t),i.default.Buffer.on("error",e)})).then(n).catch((function(t){throw n(),new Error(t)}))},e.default=i.default.Buffer},function(t,e,n){n.r(e);var i=n(0);n(17),n(26),n(1),n(2),n(22),n(4),n(28),i.default.LFO=function(){var t=i.default.defaults(arguments,["frequency","min","max"],i.default.LFO);i.default.AudioNode.call(this),this._oscillator=new i.default.Oscillator({frequency:t.frequency,type:t.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=i.default.Type.NormalRange,this.amplitude.value=t.amplitude,this._stoppedSignal=new i.default.Signal(0,i.default.Type.AudioRange),this._zeros=new i.default.Zero,this._stoppedValue=0,this._a2g=new i.default.AudioToGain,this._scaler=this.output=new i.default.Scale(t.min,t.max),this._units=i.default.Type.Default,this.units=t.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=t.phase},i.default.extend(i.default.LFO,i.default.AudioNode),i.default.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:i.default.Type.Default},i.default.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},i.default.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},i.default.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},i.default.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(i.default.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(i.default.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(i.default.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(i.default.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(i.default.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}}),Object.defineProperty(i.default.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),i.default.LFO.prototype.connect=function(t){return t.constructor!==i.default.Signal&&t.constructor!==i.default.Param||(this.convert=t.convert,this.units=t.units),i.default.SignalBase.prototype.connect.apply(this,arguments),this},i.default.LFO.prototype._fromUnits=i.default.Param.prototype._fromUnits,i.default.LFO.prototype._toUnits=i.default.Param.prototype._toUnits,i.default.LFO.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},e.default=i.default.LFO},function(t,e,n){n.r(e);var i=n(0);n(29),n(90),n(2),n(3),i.default.Subtract=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new i.default.Gain,this._neg=new i.default.Negate,this._param=this.input[1]=new i.default.Signal(t),this._param.chain(this._neg,this._sum)},i.default.extend(i.default.Subtract,i.default.Signal),i.default.Subtract.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},e.default=i.default.Subtract},function(t,e,n){n.r(e);var i=n(0);n(4),n(1),n(24),i.default.Param=function(){var t=i.default.defaults(arguments,["param","units","convert"],i.default.Param);i.default.AudioNode.call(this,t),this._param=this.input=t.param,this.units=t.units,this.convert=t.convert,this.overridden=!1,this._events=new i.default.Timeline(1e3),i.default.isDefined(t.value)&&this._param&&this.setValueAtTime(t.value,0)},i.default.extend(i.default.Param,i.default.AudioNode),i.default.Param.defaults={units:i.default.Type.Default,convert:!0,param:void 0},Object.defineProperty(i.default.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t),this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}}),Object.defineProperty(i.default.Param.prototype,"minValue",{get:function(){return this.units===i.default.Type.Time||this.units===i.default.Type.Frequency||this.units===i.default.Type.NormalRange||this.units===i.default.Type.Positive||this.units===i.default.Type.BPM?0:this.units===i.default.Type.AudioRange?-1:this.units===i.default.Type.Decibels?-1/0:this._param.minValue}}),Object.defineProperty(i.default.Param.prototype,"maxValue",{get:function(){return this.units===i.default.Type.NormalRange||this.units===i.default.Type.AudioRange?1:this._param.maxValue}}),i.default.Param.prototype._fromUnits=function(t){if(!this.convert&&!i.default.isUndef(this.convert)||this.overridden)return t;switch(this.units){case i.default.Type.Time:return this.toSeconds(t);case i.default.Type.Frequency:return this.toFrequency(t);case i.default.Type.Decibels:return i.default.dbToGain(t);case i.default.Type.NormalRange:return Math.min(Math.max(t,0),1);case i.default.Type.AudioRange:return Math.min(Math.max(t,-1),1);case i.default.Type.Positive:return Math.max(t,0);default:return t}},i.default.Param.prototype._toUnits=function(t){if(!this.convert&&!i.default.isUndef(this.convert))return t;switch(this.units){case i.default.Type.Decibels:return i.default.gainToDb(t);default:return t}},i.default.Param.prototype._minOutput=1e-5,i.default.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"},i.default.Param.prototype.setValueAtTime=function(t,e){return e=this.toSeconds(e),t=this._fromUnits(t),this._events.add({type:i.default.Param.AutomationType.SetValue,value:t,time:e}),this.log(i.default.Param.AutomationType.SetValue,t,e),this._param.setValueAtTime(t,e),this},i.default.Param.prototype.getValueAtTime=function(t){t=this.toSeconds(t);var e=this._events.getAfter(t),n=this._events.get(t),s=i.default.defaultArg(this._initialValue,this._param.defaultValue),r=s;if(null===n)r=s;else if(n.type===i.default.Param.AutomationType.Target){var a,o=this._events.getBefore(n.time);a=null===o?s:o.value,r=this._exponentialApproach(n.time,a,n.value,n.constant,t)}else r=null===e?n.value:e.type===i.default.Param.AutomationType.Linear?this._linearInterpolate(n.time,n.value,e.time,e.value,t):e.type===i.default.Param.AutomationType.Exponential?this._exponentialInterpolate(n.time,n.value,e.time,e.value,t):n.value;return r},i.default.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===e&&(e=this._minOutput),this.setValueAtTime(this._toUnits(e),t),this},i.default.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),e=this.toSeconds(e),this._events.add({type:i.default.Param.AutomationType.Linear,value:t,time:e}),this.log(i.default.Param.AutomationType.Linear,t,e),this._param.linearRampToValueAtTime(t,e),this},i.default.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),e=this.toSeconds(e),this._events.add({type:i.default.Param.AutomationType.Exponential,time:e,value:t}),this.log(i.default.Param.AutomationType.Exponential,t,e),this._param.exponentialRampToValueAtTime(t,e),this},i.default.Param.prototype.exponentialRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},i.default.Param.prototype.linearRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},i.default.Param.prototype.targetRampTo=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this},i.default.Param.prototype.exponentialApproachValueAtTime=function(t,e,n){var i=Math.log(this.toSeconds(n)+1)/Math.log(200);return e=this.toSeconds(e),this.setTargetAtTime(t,e,i),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this},i.default.Param.prototype.setTargetAtTime=function(t,e,n){if(t=this._fromUnits(t),n<=0)throw new Error("timeConstant must be greater than 0");return e=this.toSeconds(e),this._events.add({type:i.default.Param.AutomationType.Target,value:t,time:e,constant:n}),this.log(i.default.Param.AutomationType.Target,t,e,n),this._param.setTargetAtTime(t,e,n),this},i.default.Param.prototype.setValueCurveAtTime=function(t,e,n,s){s=i.default.defaultArg(s,1),n=this.toSeconds(n),e=this.toSeconds(e),this.setValueAtTime(t[0]*s,e);for(var r=n/(t.length-1),a=1;a<t.length;a++)this.linearRampToValueAtTime(t[a]*s,e+a*r);return this},i.default.Param.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(i.default.Param.AutomationType.Cancel,t),this},i.default.Param.prototype.cancelAndHoldAtTime=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);this.log("cancelAndHoldAtTime",t,"value="+e),this._param.cancelScheduledValues(t);var n=this._events.get(t),s=this._events.getAfter(t);return n&&n.time===t?s?this._events.cancel(s.time):this._events.cancel(t+this.sampleTime):s&&(this._events.cancel(s.time),s.type===i.default.Param.AutomationType.Linear?this.linearRampToValueAtTime(e,t):s.type===i.default.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(e,t)),this._events.add({type:i.default.Param.AutomationType.SetValue,value:e,time:t}),this._param.setValueAtTime(e,t),this},i.default.Param.prototype.rampTo=function(t,e,n){return e=i.default.defaultArg(e,.1),this.units===i.default.Type.Frequency||this.units===i.default.Type.BPM||this.units===i.default.Type.Decibels?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this},i.default.Param.prototype._exponentialApproach=function(t,e,n,i,s){return n+(e-n)*Math.exp(-(s-t)/i)},i.default.Param.prototype._linearInterpolate=function(t,e,n,i,s){return e+(s-t)/(n-t)*(i-e)},i.default.Param.prototype._exponentialInterpolate=function(t,e,n,i,s){return e*Math.pow(i/e,(s-t)/(n-t))},i.default.Param.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this},e.default=i.default.Param},function(t,e,n){n.r(e);var i=n(0);n(8),n(19),n(10),n(23),i.default.StereoEffect=function(){i.default.AudioNode.call(this);var t=i.default.defaults(arguments,["wet"],i.default.Effect);this.createInsOuts(1,1),this._dryWet=new i.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this._split=new i.default.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new i.default.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,i.default.connect(this.input,this._split),i.default.connect(this.input,this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},i.default.extend(i.default.StereoEffect,i.default.Effect),i.default.StereoEffect.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},e.default=i.default.StereoEffect},function(t,e,n){n.r(e);var i=n(0);n(83),n(4),n(24),n(35),n(3),n(81),n(80),n(56),i.default.Transport=function(){i.default.Emitter.call(this),i.default.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=s.defaults.PPQ,this._clock=new i.default.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=i.default.Type.BPM,this.bpm.value=s.defaults.bpm,this._readOnly("bpm"),this._timeSignature=s.defaults.timeSignature,this._scheduledEvents={},this._timeline=new i.default.Timeline,this._repeatedEvents=new i.default.IntervalTimeline,this._syncedSignals=[],this._swingTicks=s.defaults.PPQ/2,this._swingAmount=0,this.context.transport=this}.bind(this))},i.default.extend(i.default.Transport,i.default.Emitter),i.default.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},i.default.Transport.prototype.isTransport=!0,i.default.Transport.prototype._processTick=function(t,e){if(this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){var n=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;t+=i.default.Ticks(2*this._swingTicks/3).toSeconds()*s}this.loop&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._timeline.forEachAtTime(e,(function(e){e.invoke(t)}))},i.default.Transport.prototype.schedule=function(t,e){var n=new i.default.TransportEvent(this,{time:i.default.TransportTime(e),callback:t});return this._addEvent(n,this._timeline)},i.default.Transport.prototype.scheduleRepeat=function(t,e,n,s){var r=new i.default.TransportRepeatEvent(this,{callback:t,interval:i.default.Time(e),time:i.default.TransportTime(n),duration:i.default.Time(i.default.defaultArg(s,1/0))});return this._addEvent(r,this._repeatedEvents)},i.default.Transport.prototype.scheduleOnce=function(t,e){var n=new i.default.TransportEvent(this,{time:i.default.TransportTime(e),callback:t,once:!0});return this._addEvent(n,this._timeline)},i.default.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this},i.default.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},i.default.Transport.prototype.cancel=function(t){return t=i.default.defaultArg(t,0),t=this.toTicks(t),this._timeline.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this._repeatedEvents.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this},i.default.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(t,e){e=i.default.Ticks(e).toSeconds(),this.emit("start",t,e)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(i.default.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),i.default.Transport.prototype.start=function(t,e){return i.default.isDefined(e)&&(e=this.toTicks(e)),this._clock.start(t,e),this},i.default.Transport.prototype.stop=function(t){return this._clock.stop(t),this},i.default.Transport.prototype.pause=function(t){return this._clock.pause(t),this},i.default.Transport.prototype.toggle=function(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==i.default.State.Started?this.start(t):this.stop(t),this},Object.defineProperty(i.default.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){i.default.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(i.default.Transport.prototype,"loopStart",{get:function(){return i.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(i.default.Transport.prototype,"loopEnd",{get:function(){return i.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),i.default.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(i.default.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(i.default.Transport.prototype,"swingSubdivision",{get:function(){return i.default.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(i.default.Transport.prototype,"position",{get:function(){var t=this.now(),e=this._clock.getTicksAtTime(t);return i.default.Ticks(e).toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(i.default.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now(),n=this.bpm.timeToTicks(t,e);this.ticks=n}}),Object.defineProperty(i.default.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}}),Object.defineProperty(i.default.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){if(this._clock.ticks!==t){var e=this.now();this.state===i.default.State.Started?(this.emit("stop",e),this._clock.setTicksAtTime(t,e),this.emit("start",e,this.seconds)):this._clock.setTicksAtTime(t,e)}}}),i.default.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))},i.default.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)},Object.defineProperty(i.default.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),i.default.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},i.default.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},i.default.Transport.prototype.nextSubdivision=function(t){if(t=this.toTicks(t),this.state!==i.default.State.Started)return 0;var e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)},i.default.Transport.prototype.syncSignal=function(t,e){if(!e){var n=this.now();e=0!==t.getValueAtTime(n)?t.getValueAtTime(n)/this.bpm.getValueAtTime(n):0}var s=new i.default.Gain(e);return this.bpm.chain(s,t._param),this._syncedSignals.push({ratio:s,signal:t,initial:t.value}),t.value=0,this},i.default.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;e>=0;e--){var n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this},i.default.Transport.prototype.dispose=function(){return i.default.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var s=i.default.Transport;i.default.Transport=new s,i.default.Context.on("init",(function(t){t.transport&&t.transport.isTransport?i.default.Transport=t.transport:i.default.Transport=new s})),i.default.Context.on("close",(function(t){t.transport&&t.transport.isTransport&&t.transport.dispose()})),e.default=i.default.Transport},function(t,e,n){n.r(e);var i=n(0);n(2),n(6),n(16),n(64),i.default.Oscillator=function(){var t=i.default.defaults(arguments,["frequency","type"],i.default.Oscillator);i.default.Source.call(this,t),this._oscillator=null,this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._wave=null,this._partials=t.partials,this._partialCount=t.partialCount,this._phase=t.phase,this._type=t.type,t.partialCount&&t.type!==i.default.Oscillator.Type.Custom&&(this._type=this.baseType+t.partialCount.toString()),this.phase=this._phase,this._readOnly(["frequency","detune"])},i.default.extend(i.default.Oscillator,i.default.Source),i.default.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0},i.default.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},i.default.Oscillator.prototype._start=function(t){this.log("start",t);var e=new i.default.OscillatorNode;this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),t=this.toSeconds(t),this._oscillator.start(t)},i.default.Oscillator.prototype._stop=function(t){return this.log("stop",t),this._oscillator&&(t=this.toSeconds(t),this._oscillator.stop(t)),this},i.default.Oscillator.prototype.restart=function(t){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(t)),this},i.default.Oscillator.prototype.syncFrequency=function(){return i.default.Transport.syncSignal(this.frequency),this},i.default.Oscillator.prototype.unsyncFrequency=function(){return i.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(i.default.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=[i.default.Oscillator.Type.Sine,i.default.Oscillator.Type.Square,i.default.Oscillator.Type.Triangle,i.default.Oscillator.Type.Sawtooth].includes(t);if(0===this._phase&&e)this._wave=null,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{var n=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(n[0],n[1]);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}this._type=t}}),Object.defineProperty(i.default.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(t){this.partialCount&&this._type!==i.default.Oscillator.Type.Custom&&t!==i.default.Oscillator.Type.Custom?this.type=t+this.partialCount:this.type=t}}),Object.defineProperty(i.default.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(t){var e=this._type,n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);n&&(e=n[1]),this._type!==i.default.Oscillator.Type.Custom&&(this.type=0===t?e:e+t.toString())}}),i.default.Oscillator.prototype.get=function(){var t=i.default.prototype.get.apply(this,arguments);return t.type!==i.default.Oscillator.Type.Custom&&delete t.partials,t},i.default.Oscillator.prototype._getRealImaginary=function(t,e){var n=2048,s=new Float32Array(n),r=new Float32Array(n),a=1;if(t===i.default.Oscillator.Type.Custom)a=this._partials.length+1,this._partialCount=this._partials.length,n=a;else{var o=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);o?(a=parseInt(o[2])+1,this._partialCount=parseInt(o[2]),t=o[1],n=a=Math.max(a,2)):this._partialCount=0,this._partials=[]}for(var l=1;l<n;++l){var u,c=2/(l*Math.PI);switch(t){case i.default.Oscillator.Type.Sine:u=l<=a?1:0,this._partials[l-1]=u;break;case i.default.Oscillator.Type.Square:u=1&l?2*c:0,this._partials[l-1]=u;break;case i.default.Oscillator.Type.Sawtooth:u=c*(1&l?1:-1),this._partials[l-1]=u;break;case i.default.Oscillator.Type.Triangle:u=1&l?c*c*2*(l-1>>1&1?-1:1):0,this._partials[l-1]=u;break;case i.default.Oscillator.Type.Custom:u=this._partials[l-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+t)}0!==u?(s[l]=-u*Math.sin(e*l),r[l]=u*Math.cos(e*l)):(s[l]=0,r[l]=0)}return[s,r]},i.default.Oscillator.prototype._inverseFFT=function(t,e,n){for(var i=0,s=t.length,r=0;r<s;r++)i+=t[r]*Math.cos(r*n)+e[r]*Math.sin(r*n);return i},i.default.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],n=t[1],i=0,s=2*Math.PI,r=0;r<8;r++)i=Math.max(this._inverseFFT(e,n,r/8*s),i);return-this._inverseFFT(e,n,this._phase)/i},Object.defineProperty(i.default.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(t){this._partials=t,this.type=i.default.Oscillator.Type.Custom}}),Object.defineProperty(i.default.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),i.default.Oscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},e.default=i.default.Oscillator},function(t,e,n){n.r(e);var i=n(0);n(14),n(1),i.default.Delay=function(){var t=i.default.defaults(arguments,["delayTime","maxDelay"],i.default.Delay);i.default.AudioNode.call(this,t),this._maxDelay=Math.max(this.toSeconds(t.maxDelay),this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay),this.delayTime=new i.default.Param({param:this._delayNode.delayTime,units:i.default.Type.Time,value:t.delayTime}),this._readOnly("delayTime")},i.default.extend(i.default.Delay,i.default.AudioNode),i.default.Delay.defaults={maxDelay:1,delayTime:0},Object.defineProperty(i.default.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}}),i.default.Delay.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},e.default=i.default.Delay},function(t,e,n){n.r(e);var i=n(0);n(3),n(1),i.default.Split=function(t){t=i.default.defaultArg(t,2),i.default.AudioNode.call(this),this.createInsOuts(0,t),this._splitter=this.input=this.context.createChannelSplitter(t);for(var e=0;e<t;e++)this.output[e]=new i.default.Gain,i.default.connect(this._splitter,this.output[e],e,0),this.output[e].channelCount=1,this.output[e].channelCountMode="explicit";this.left=this.output[0],this.right=this.output[1]},i.default.extend(i.default.Split,i.default.AudioNode),i.default.Split.prototype.dispose=function(){return this.output.forEach((function(t){t.dispose()})),i.default.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left=null,this.right=null,this._splitter=null,this},e.default=i.default.Split},function(t,e,n){n.r(e);var i=n(0),s=(n(35),n(24),n(44),["baseLatency","destination","currentTime","sampleRate","listener","state"]),r=["suspend","close","resume","getOutputTimestamp","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createBuffer","decodeAudioData","createBufferSource","createConstantSource","createGain","createDelay","createBiquadFilter","createIIRFilter","createWaveShaper","createPanner","createConvolver","createDynamicsCompressor","createAnalyser","createScriptProcessor","createStereoPanner","createOscillator","createPeriodicWave","createChannelSplitter","createChannelMerger","audioWorklet"];i.default.Context=function(){i.default.Emitter.call(this);var t=i.default.defaults(arguments,["context"],i.default.Context);if(!t.context&&(t.context=new i.default.global.AudioContext,!t.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=t.context;this._context.rawContext;)this._context=this._context.rawContext;s.forEach(function(t){this._defineProperty(this._context,t)}.bind(this)),r.forEach(function(t){this._defineMethod(this._context,t)}.bind(this)),this._latencyHint=t.latencyHint,this._constants={},this.lookAhead=t.lookAhead,this._computedUpdateInterval=0,this._ticker=new a(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this._timeouts=new i.default.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=function(t){this.emit("statechange",t)}.bind(this)},i.default.extend(i.default.Context,i.default.Emitter),i.default.Emitter.mixin(i.default.Context),i.default.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},i.default.Context.prototype.isContext=!0,i.default.Context.prototype._defineProperty=function(t,e){i.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e]},set:function(n){t[e]=n}})},i.default.Context.prototype._defineMethod=function(t,e){i.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e].bind(t)}})},i.default.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},Object.defineProperty(i.default.Context.prototype,"destination",{get:function(){return this.master?this.master:this._context.destination}}),i.default.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()},i.default.Context.prototype.close=function(){var t=Promise.resolve();return this!==i.default.global.TONE_AUDIO_CONTEXT&&(t=this.rawContext.close()),t.then(function(){i.default.Context.emit("close",this)}.bind(this))},i.default.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0),i=0;i<n.length;i++)n[i]=t;var s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants[t]=s,s},i.default.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},i.default.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var n=this.now();return this._timeouts.add({callback:t,time:n+e,id:this._timeoutIds}),this._timeoutIds},i.default.Context.prototype.clearTimeout=function(t){return this._timeouts.forEach((function(e){e.id===t&&this.remove(e)})),this},Object.defineProperty(i.default.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(i.default.Context.prototype,"rawContext",{get:function(){return this._context}}),Object.defineProperty(i.default.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(i.default.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,i.default.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":this._context.latencyHint="interactive",e=.01}this.lookAhead=e,this.updateInterval=e/3}}),i.default.Context.prototype.dispose=function(){return this.close().then(function(){for(var t in i.default.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[t].disconnect();this._constants=null}.bind(this))};var a=function(t,e,n){this._type=e,this._updateInterval=n,this._callback=i.default.defaultArg(t,i.default.noOp),this._createClock()};if(a.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},a.prototype._createWorker=function(){i.default.global.URL=i.default.global.URL||i.default.global.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n},a.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},a.prototype._createClock=function(){if(this._type===a.Type.Worker)try{this._createWorker()}catch(t){this._type=a.Type.Timeout,this._createClock()}else this._type===a.Type.Timeout&&this._createTimeout()},Object.defineProperty(a.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===a.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(a.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),a.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},a.prototype.dispose=function(){this._disposeClock(),this._callback=null},i.default.supported&&!i.default.initialized){if(i.default.global.TONE_AUDIO_CONTEXT||(i.default.global.TONE_AUDIO_CONTEXT=new i.default.Context),i.default.context=i.default.global.TONE_AUDIO_CONTEXT,!i.default.global.TONE_SILENCE_LOGGING){var o="v";"dev"===i.default.version&&(o="");var l=" * Tone.js "+o+i.default.version+" * ";console.log("%c"+l,"background: #000; color: #fff")}}else i.default.supported||i.default.global.TONE_SILENCE_LOGGING||console.warn("This browser does not support Tone.js");e.default=i.default.Context},function(t,e,n){n.r(e);var i=n(0);n(4),n(40),i.default.Instrument=function(t){t=i.default.defaultArg(t,i.default.Instrument.defaults),i.default.AudioNode.call(this),this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._scheduledEvents=[]},i.default.extend(i.default.Instrument,i.default.AudioNode),i.default.Instrument.defaults={volume:0},i.default.Instrument.prototype.triggerAttack=i.default.noOp,i.default.Instrument.prototype.triggerRelease=i.default.noOp,i.default.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this},i.default.Instrument.prototype._syncMethod=function(t,e){var n=this["_original_"+t]=this[t];this[t]=function(){var t=Array.prototype.slice.call(arguments),s=t[e],r=i.default.Transport.schedule(function(i){t[e]=i,n.apply(this,t)}.bind(this),s);this._scheduledEvents.push(r)}.bind(this)},i.default.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach((function(t){i.default.Transport.clear(t)})),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this},i.default.Instrument.prototype.triggerAttackRelease=function(t,e,n,i){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(t,n,i),this.triggerRelease(n+e),this},i.default.Instrument.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this},e.default=i.default.Instrument},function(t,e,n){n.r(e);var i=n(0);n(7),n(2),i.default.AudioToGain=function(){i.default.SignalBase.call(this),this._norm=this.input=this.output=new i.default.WaveShaper((function(t){return(t+1)/2}))},i.default.extend(i.default.AudioToGain,i.default.SignalBase),i.default.AudioToGain.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=i.default.AudioToGain},function(t,e,n){n.r(e);var i=n(0);n(2),n(13),n(89),n(3),n(1),i.default.CrossFade=function(t){i.default.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new i.default.Gain,this.b=this.input[1]=new i.default.Gain,this.fade=new i.default.Signal(i.default.defaultArg(t,.5),i.default.Type.NormalRange),this._equalPowerA=new i.default.EqualPowerGain,this._equalPowerB=new i.default.EqualPowerGain,this._one=this.context.getConstant(1),this._invert=new i.default.Subtract,this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),i.default.connect(this._one,this._invert,0,0),this.fade.connect(this._invert,0,1),this._invert.chain(this._equalPowerA,this.a.gain),this._readOnly("fade")},i.default.extend(i.default.CrossFade,i.default.AudioNode),i.default.CrossFade.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},e.default=i.default.CrossFade},function(t,e,n){n.r(e);var i=n(0);i.default.Timeline=function(){var t=i.default.defaults(arguments,["memory"],i.default.Timeline);i.default.call(this),this._timeline=[],this.memory=t.memory},i.default.extend(i.default.Timeline),i.default.Timeline.defaults={memory:1/0},Object.defineProperty(i.default.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),i.default.Timeline.prototype.add=function(t){if(i.default.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");t.time=t.time.valueOf();var e=this._search(t.time);if(this._timeline.splice(e+1,0,t),this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},i.default.Timeline.prototype.remove=function(t){var e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this},i.default.Timeline.prototype.get=function(t,e){e=i.default.defaultArg(e,"time");var n=this._search(t,e);return-1!==n?this._timeline[n]:null},i.default.Timeline.prototype.peek=function(){return this._timeline[0]},i.default.Timeline.prototype.shift=function(){return this._timeline.shift()},i.default.Timeline.prototype.getAfter=function(t,e){e=i.default.defaultArg(e,"time");var n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null},i.default.Timeline.prototype.getBefore=function(t,e){e=i.default.defaultArg(e,"time");var n=this._timeline.length;if(n>0&&this._timeline[n-1][e]<t)return this._timeline[n-1];var s=this._search(t,e);return s-1>=0?this._timeline[s-1]:null},i.default.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var n=e;n>=0&&this._timeline[n].time===t;n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},i.default.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this},i.default.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null},i.default.Timeline.prototype._search=function(t,e){if(0===this._timeline.length)return-1;e=i.default.defaultArg(e,"time");var n=0,s=this._timeline.length,r=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<r;){var a=Math.floor(n+(r-n)/2),o=this._timeline[a],l=this._timeline[a+1];if(o[e]===t){for(var u=a;u<this._timeline.length;u++)this._timeline[u][e]===t&&(a=u);return a}if(o[e]<t&&l[e]>t)return a;o[e]>t?r=a:n=a+1}return-1},i.default.Timeline.prototype._iterate=function(t,e,n){e=i.default.defaultArg(e,0),n=i.default.defaultArg(n,this._timeline.length-1),this._timeline.slice(e,n+1).forEach(function(e){t.call(this,e)}.bind(this))},i.default.Timeline.prototype.forEach=function(t){return this._iterate(t),this},i.default.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},i.default.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);return this._iterate(e,n+1),this},i.default.Timeline.prototype.forEachBetween=function(t,e,n){var i=this._search(t),s=this._search(e);return-1!==i&&-1!==s?(this._timeline[i].time!==t&&(i+=1),this._timeline[s].time===e&&(s-=1),this._iterate(n,i,s)):-1===i&&this._iterate(n,0,s),this},i.default.Timeline.prototype.forEachFrom=function(t,e){for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},i.default.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);return-1!==n&&this._iterate((function(n){n.time===t&&e.call(this,n)}),0,n),this},i.default.Timeline.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this._timeline=null,this},e.default=i.default.Timeline},function(t,e,n){n.r(e);var i=n(0);n(21),n(2),i.default.Monophonic=function(t){t=i.default.defaultArg(t,i.default.Monophonic.defaults),i.default.Instrument.call(this,t),this.portamento=t.portamento},i.default.extend(i.default.Monophonic,i.default.Instrument),i.default.Monophonic.defaults={portamento:0},i.default.Monophonic.prototype.triggerAttack=function(t,e,n){return this.log("triggerAttack",t,e,n),e=this.toSeconds(e),this._triggerEnvelopeAttack(e,n),this.setNote(t,e),this},i.default.Monophonic.prototype.triggerRelease=function(t){return this.log("triggerRelease",t),t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},i.default.Monophonic.prototype._triggerEnvelopeAttack=function(){},i.default.Monophonic.prototype._triggerEnvelopeRelease=function(){},i.default.Monophonic.prototype.getLevelAtTime=function(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)},i.default.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),this.portamento>0&&this.getLevelAtTime(e)>.05){var n=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,n,e)}else this.frequency.setValueAtTime(t,e);return this},e.default=i.default.Monophonic},function(t,e,n){n.r(e);var i=n(0);n(29),n(5),n(2),i.default.Scale=function(t,e){i.default.SignalBase.call(this),this._outputMin=i.default.defaultArg(t,0),this._outputMax=i.default.defaultArg(e,1),this._scale=this.input=new i.default.Multiply(1),this._add=this.output=new i.default.Add(0),this._scale.connect(this._add),this._setRange()},i.default.extend(i.default.Scale,i.default.SignalBase),Object.defineProperty(i.default.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(i.default.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),i.default.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},i.default.Scale.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},e.default=i.default.Scale},function(t,e,n){n.r(e);var i=n(0);n(2),n(3),n(1),i.default.Volume=function(){var t=i.default.defaults(arguments,["volume"],i.default.Volume);i.default.AudioNode.call(this,t),this.output=this.input=new i.default.Gain(t.volume,i.default.Type.Decibels),this._unmutedVolume=t.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=t.mute},i.default.extend(i.default.Volume,i.default.AudioNode),i.default.Volume.defaults={volume:0,mute:!1},Object.defineProperty(i.default.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),i.default.Volume.prototype.dispose=function(){return this.input.dispose(),i.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},e.default=i.default.Volume},function(t,e,n){n.r(e);var i=n(0);n(3),n(30),i.default.Zero=function(){i.default.SignalBase.call(this),this._gain=this.input=this.output=new i.default.Gain,i.default.connect(this.context.getConstant(0),this._gain)},i.default.extend(i.default.Zero,i.default.SignalBase),i.default.Zero.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},e.default=i.default.Zero},function(t,e,n){n.r(e);var i=n(0);n(2),n(3),i.default.Add=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new i.default.Gain,this._param=this.input[1]=new i.default.Signal(t),this._param.connect(this._sum)},i.default.extend(i.default.Add,i.default.Signal),i.default.Add.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},e.default=i.default.Add},function(t,e,n){n.r(e);var i=n(0);n(1),i.default.SignalBase=function(){i.default.AudioNode.call(this)},i.default.extend(i.default.SignalBase,i.default.AudioNode),i.default.SignalBase.prototype.connect=function(t,e,n){return i.default.Signal&&i.default.Signal===t.constructor||i.default.Param&&i.default.Param===t.constructor?(t._param.cancelScheduledValues(0),t._param.setValueAtTime(0,0),t.overridden=!0):t instanceof AudioParam&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0)),i.default.AudioNode.prototype.connect.call(this,t,e,n),this},e.default=i.default.SignalBase},function(t,e,n){n.r(e);var i=n(0);n(47),n(3),i.default.AmplitudeEnvelope=function(){i.default.Envelope.apply(this,arguments),this.input=this.output=new i.default.Gain,this._sig.connect(this.output.gain)},i.default.extend(i.default.AmplitudeEnvelope,i.default.Envelope),i.default.AmplitudeEnvelope.prototype.dispose=function(){return i.default.Envelope.prototype.dispose.call(this),this},e.default=i.default.AmplitudeEnvelope},function(t,e,n){n.r(e);var i=n(0);n(11),n(6),n(3),n(1),i.default.BufferSource=function(){var t=i.default.defaults(arguments,["buffer","onload"],i.default.BufferSource);i.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._sourceStarted=!1,this._sourceStopped=!1,this._stopTime=-1,this._gainNode=this.output=new i.default.Gain(0),this._source=this.context.createBufferSource(),i.default.connect(this._source,this._gainNode),this._source.onended=this._onended.bind(this),this._buffer=new i.default.Buffer(t.buffer,t.onload),this.playbackRate=new i.default.Param({param:this._source.playbackRate,units:i.default.Type.Positive,value:t.playbackRate}),this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut,this.curve=t.curve,this._onendedTimeout=-1,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd},i.default.extend(i.default.BufferSource,i.default.AudioNode),i.default.BufferSource.defaults={onended:i.default.noOp,onload:i.default.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(i.default.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),i.default.BufferSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&this._startTime<=t&&(-1===this._stopTime||t<this._stopTime)&&!this._sourceStopped?i.default.State.Started:i.default.State.Stopped},i.default.BufferSource.prototype.start=function(t,e,n,s){this.log("start",t,e,n,s),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),e=this.loop?i.default.defaultArg(e,this.loopStart):i.default.defaultArg(e,0),e=this.toSeconds(e),e=Math.max(e,0),s=i.default.defaultArg(s,1);var r=this.toSeconds(this.fadeIn);if(r>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(s,t+r):this._gainNode.gain.exponentialApproachValueAtTime(s,t,r)):this._gainNode.gain.setValueAtTime(s,t),this._startTime=t,i.default.isDefined(n)){var a=this.toSeconds(n);a=Math.max(a,0),this.stop(t+a)}if(this.loop){var o=this.loopEnd||this.buffer.duration,l=this.loopStart;e>=o&&(e=(e-l)%(o-l)+l)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,e<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(t,e)),this},i.default.BufferSource.prototype.stop=function(t){this.log("stop",t),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),-1!==this._stopTime&&this.cancelStop();var e=this.toSeconds(this.fadeOut);return this._stopTime=t+e,e>0?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),i.default.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=i.default.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this},i.default.BufferSource.prototype.cancelStop=function(){if(-1!==this._startTime&&!this._sourceStopped){var t=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime),this.context.clearTimeout(this._onendedTimeout),this._stopTime=-1}return this},i.default.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=!0;var t="exponential"===this.curve?2*this.fadeOut:0;this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+t),this.onended(this),setTimeout(function(){this._source&&(this._source.disconnect(),this._gainNode.disconnect())}.bind(this),1e3*t+100)}},Object.defineProperty(i.default.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(i.default.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(i.default.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(i.default.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t,this.cancelStop()}}),i.default.BufferSource.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,i.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,i.default.context.clearTimeout(this._onendedTimeout)),this},e.default=i.default.BufferSource},function(t,e,n){n.r(e);var i=n(0);n(8),n(2),n(5),n(3),i.default.FeedbackEffect=function(){var t=i.default.defaults(arguments,["feedback"],i.default.FeedbackEffect);i.default.Effect.call(this,t),this._feedbackGain=new i.default.Gain(t.feedback,i.default.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},i.default.extend(i.default.FeedbackEffect,i.default.Effect),i.default.FeedbackEffect.defaults={feedback:.125},i.default.FeedbackEffect.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},e.default=i.default.FeedbackEffect},function(t,e,n){n.r(e);var i=n(0);n(24),n(4),i.default.TimelineState=function(t){i.default.Timeline.call(this),this._initial=t},i.default.extend(i.default.TimelineState,i.default.Timeline),i.default.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},i.default.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},i.default.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);for(var n=this._search(e);n>=0;n--){var i=this._timeline[n];if(i.state===t)return i}},i.default.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);var n=this._search(e);if(-1!==n)for(var i=n;i<this._timeline.length;i++){var s=this._timeline[i];if(s.state===t)return s}},e.default=i.default.TimelineState},function(t,e,n){n.r(e);var i=n(0);i.default.Emitter=function(){i.default.call(this),this._events={}},i.default.extend(i.default.Emitter),i.default.Emitter.prototype.on=function(t,e){for(var n=t.split(/\W+/),i=0;i<n.length;i++){var s=n[i];this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(e)}return this},i.default.Emitter.prototype.once=function(t,e){var n=function(){e.apply(this,arguments),this.off(t,n)}.bind(this);return this.on(t,n),this},i.default.Emitter.prototype.off=function(t,e){for(var n=t.split(/\W+/),s=0;s<n.length;s++)if(t=n[s],this._events.hasOwnProperty(t))if(i.default.isUndef(e))this._events[t]=[];else for(var r=this._events[t],a=0;a<r.length;a++)r[a]===e&&r.splice(a,1);return this},i.default.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var n=this._events[t].slice(0),i=0,s=n.length;i<s;i++)n[i].apply(this,e)}return this},i.default.Emitter.mixin=function(t){var e=["on","once","off","emit"];t._events={};for(var n=0;n<e.length;n++){var s=e[n],r=i.default.Emitter.prototype[s];t[s]=r}return i.default.Emitter},i.default.Emitter.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this._events=null,this},e.default=i.default.Emitter},function(t,e,n){n.r(e);var i=n(0);n(1),n(44),i.default.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var n=0;n<e.length;n++)t[n]=(e[n]-128)/128})),i.default.Analyser=function(){var t=i.default.defaults(arguments,["type","size"],i.default.Analyser);i.default.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=t.type,this._buffer=null,this.size=t.size,this.type=t.type},i.default.extend(i.default.Analyser,i.default.AudioNode),i.default.Analyser.defaults={size:1024,type:"fft",smoothing:.8},i.default.Analyser.Type={Waveform:"waveform",FFT:"fft"},i.default.Analyser.prototype.getValue=function(){return this._type===i.default.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===i.default.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(i.default.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(i.default.Analyser.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==i.default.Analyser.Type.Waveform&&t!==i.default.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+t);this._type=t}}),Object.defineProperty(i.default.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),i.default.Analyser.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},e.default=i.default.Analyser},function(t,e,n){n.r(e);var i=n(0);n(6),n(17),n(50),n(69),n(49),n(68),n(67),i.default.OmniOscillator=function(){var t=i.default.defaults(arguments,["frequency","type"],i.default.OmniOscillator);i.default.Source.call(this,t),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=t.type,this._readOnly(["frequency","detune"]),this.set(t)},i.default.extend(i.default.OmniOscillator,i.default.Source),i.default.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var s="PulseOscillator",r="PWMOscillator",a="FMOscillator",o="AMOscillator",l="FatOscillator";i.default.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},i.default.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},i.default.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)},Object.defineProperty(i.default.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===a?t="fm":this._sourceType===o?t="am":this._sourceType===l&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(a),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(o),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(l),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(r):"pulse"===t?this._createNewOscillator(s):(this._createNewOscillator("Oscillator"),this._oscillator.type=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),Object.defineProperty(i.default.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(t){this._oscillator.partialCount=t}}),i.default.OmniOscillator.prototype.set=function(t,e){return"type"===t?this.type=e:i.default.isObject(t)&&t.hasOwnProperty("type")&&(this.type=t.type),i.default.prototype.set.apply(this,arguments),this},i.default.OmniOscillator.prototype.get=function(t){var e=this._oscillator.get(t);return e.type=this.type,e},i.default.OmniOscillator.prototype._createNewOscillator=function(t){if(t!==this._sourceType){this._sourceType=t;var e=i.default[t],n=this.now();if(null!==this._oscillator){var s=this._oscillator;s.stop(n),this.context.setTimeout((function(){s.dispose(),s=null}),this.blockTime)}this._oscillator=new e,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===i.default.State.Started&&this._oscillator.start(n)}},Object.defineProperty(i.default.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});var u={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};Object.defineProperty(i.default.OmniOscillator.prototype,"sourceType",{get:function(){return u[this._sourceType]},set:function(t){var e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),t===u.FMOscillator?this.type="fm"+e:t===u.AMOscillator?this.type="am"+e:t===u.FatOscillator?this.type="fat"+e:t===u.Oscillator?this.type=e:t===u.PulseOscillator?this.type="pulse":t===u.PWMOscillator&&(this.type="pwm")}}),Object.defineProperty(i.default.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(t){this.sourceType!==u.PulseOscillator&&this.sourceType!==u.PWMOscillator&&(this._oscillator.baseType=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===s?this._oscillator.width:void 0}}),Object.defineProperty(i.default.OmniOscillator.prototype,"count",{get:function(){return this._sourceType===l?this._oscillator.count:void 0},set:function(t){this._sourceType===l&&(this._oscillator.count=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"spread",{get:function(){return this._sourceType===l?this._oscillator.spread:void 0},set:function(t){this._sourceType===l&&(this._oscillator.spread=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"modulationType",{get:function(){return this._sourceType===a||this._sourceType===o?this._oscillator.modulationType:void 0},set:function(t){this._sourceType!==a&&this._sourceType!==o||(this._oscillator.modulationType=t)}}),Object.defineProperty(i.default.OmniOscillator.prototype,"modulationIndex",{get:function(){return this._sourceType===a?this._oscillator.modulationIndex:void 0}}),Object.defineProperty(i.default.OmniOscillator.prototype,"harmonicity",{get:function(){return this._sourceType===a||this._sourceType===o?this._oscillator.harmonicity:void 0}}),Object.defineProperty(i.default.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===r?this._oscillator.modulationFrequency:void 0}}),i.default.OmniOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},e.default=i.default.OmniOscillator},function(t,e,n){n.r(e);var i=n(0);n(31),n(37),n(25),i.default.Synth=function(t){t=i.default.defaultArg(t,i.default.Synth.defaults),i.default.Monophonic.call(this,t),this.oscillator=new i.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","frequency","detune","envelope"])},i.default.extend(i.default.Synth,i.default.Monophonic),i.default.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},i.default.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this},i.default.Synth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release)),this},i.default.Synth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},e.default=i.default.Synth},function(t,e,n){n.r(e);var i=n(0);n(6),n(11),n(32),i.default.Noise=function(){var t=i.default.defaults(arguments,["type"],i.default.Noise);i.default.Source.call(this,t),this._source=null,this._type=t.type,this._playbackRate=t.playbackRate},i.default.extend(i.default.Noise,i.default.Source),i.default.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(i.default.Noise.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t){if(!(t in s))throw new TypeError("Tone.Noise: invalid type: "+t);if(this._type=t,this.state===i.default.State.Started){var e=this.now();this._stop(e),this._start(e)}}}}),Object.defineProperty(i.default.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),i.default.Noise.prototype._start=function(t){var e=s[this._type];this._source=new i.default.BufferSource(e).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))},i.default.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},i.default.Noise.prototype.restart=function(t){return this._stop(t),this._start(t),this},i.default.Noise.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var s={},r={};Object.defineProperty(s,"pink",{get:function(){if(!r.pink){for(var t=[],e=0;e<2;e++){var n,s,a,o,l,u,c,h=new Float32Array(220500);t[e]=h,n=s=a=o=l=u=c=0;for(var d=0;d<220500;d++){var p=2*Math.random()-1;n=.99886*n+.0555179*p,s=.99332*s+.0750759*p,a=.969*a+.153852*p,o=.8665*o+.3104856*p,l=.55*l+.5329522*p,u=-.7616*u-.016898*p,h[d]=n+s+a+o+l+u+c+.5362*p,h[d]*=.11,c=.115926*p}}r.pink=(new i.default.Buffer).fromArray(t)}return r.pink}}),Object.defineProperty(s,"brown",{get:function(){if(!r.brown){for(var t=[],e=0;e<2;e++){var n=new Float32Array(220500);t[e]=n;for(var s=0,a=0;a<220500;a++){var o=2*Math.random()-1;n[a]=(s+.02*o)/1.02,s=n[a],n[a]*=3.5}}r.brown=(new i.default.Buffer).fromArray(t)}return r.brown}}),Object.defineProperty(s,"white",{get:function(){if(!r.white){for(var t=[],e=0;e<2;e++){var n=new Float32Array(220500);t[e]=n;for(var s=0;s<220500;s++)n[s]=2*Math.random()-1}r.white=(new i.default.Buffer).fromArray(t)}return r.white}}),e.default=i.default.Noise},function(t,e,n){n.r(e);var i=n(0);n(27),n(20),n(1),i.default.Master=function(){i.default.AudioNode.call(this),i.default.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new i.default.Volume,this.volume=this._volume.volume,this._readOnly("volume"),i.default.connectSeries(this.input,this.output,this.context.destination),this.context.master=this}.bind(this))},i.default.extend(i.default.Master,i.default.AudioNode),i.default.Master.defaults={volume:0,mute:!1},i.default.Master.prototype.isMaster=!0,Object.defineProperty(i.default.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.Master.prototype.chain=function(){this.input.disconnect();var t=Array.from(arguments);t.unshift(this.input),t.push(this.output),i.default.connectSeries.apply(void 0,t)},i.default.Master.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},i.default.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};var s=i.default.Master;i.default.Master=new s,i.default.Context.on("init",(function(t){t.master&&t.master.isMaster?i.default.Master=t.master:i.default.Master=new s})),i.default.Context.on("close",(function(t){t.master&&t.master.isMaster&&t.master.dispose()})),e.default=i.default.Master},function(t,e,n){n.r(e);var i=n(0);n(86),n(47),i.default.FrequencyEnvelope=function(){var t=i.default.defaults(arguments,["attack","decay","sustain","release"],i.default.Envelope);t=i.default.defaultArg(t,i.default.FrequencyEnvelope.defaults),i.default.ScaledEnvelope.call(this,t),this._octaves=t.octaves,this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this.exponent=t.exponent},i.default.extend(i.default.FrequencyEnvelope,i.default.Envelope),i.default.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1},Object.defineProperty(i.default.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(i.default.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(i.default.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),i.default.FrequencyEnvelope.prototype.dispose=function(){return i.default.ScaledEnvelope.prototype.dispose.call(this),this},e.default=i.default.FrequencyEnvelope},function(t,e,n){n.r(e);var i=n(0);n(26),n(61),i.default.ScaleExp=function(t,e,n){i.default.SignalBase.call(this),this._scale=this.output=new i.default.Scale(t,e),this._exp=this.input=new i.default.Pow(i.default.defaultArg(n,2)),this._exp.connect(this._scale)},i.default.extend(i.default.ScaleExp,i.default.SignalBase),Object.defineProperty(i.default.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(i.default.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(i.default.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),i.default.ScaleExp.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=i.default.ScaleExp},function(t,e,n){n.r(e);var i=n(0);n(14),n(1),i.default.Compressor=function(){var t=i.default.defaults(arguments,["threshold","ratio"],i.default.Compressor);i.default.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new i.default.Param({param:this._compressor.threshold,units:i.default.Type.Decibels,convert:!1}),this.attack=new i.default.Param(this._compressor.attack,i.default.Type.Time),this.release=new i.default.Param(this._compressor.release,i.default.Type.Time),this.knee=new i.default.Param({param:this._compressor.knee,units:i.default.Type.Decibels,convert:!1}),this.ratio=new i.default.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(t)},i.default.extend(i.default.Compressor,i.default.AudioNode),i.default.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},i.default.Compressor.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},e.default=i.default.Compressor},function(t,e,n){var i=n(0);if(n(92),i.default.supported){!i.default.global.hasOwnProperty("AudioContext")&&i.default.global.hasOwnProperty("webkitAudioContext")&&(i.default.global.AudioContext=i.default.global.webkitAudioContext),AudioContext.prototype.close||(AudioContext.prototype.close=function(){return i.default.isFunction(this.suspend)&&this.suspend(),Promise.resolve()}),AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),e=this.createBufferSource();return e.buffer=t,e.connect(this.destination),e.start(0),Promise.resolve()}),!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var s=!1,r=new OfflineAudioContext(1,1,44100),a=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var o=r.decodeAudioData(a);o&&i.default.isFunction(o.then)&&(s=!0)}catch(t){s=!1}s||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(t){return new Promise(function(e,n){this._native_decodeAudioData(t,e,n)}.bind(this))})}},function(t,e,n){n.r(e);var i=n(0);n(63),i.default.TransportTime=function(t,e){if(!(this instanceof i.default.TransportTime))return new i.default.TransportTime(t,e);i.default.Time.call(this,t,e)},i.default.extend(i.default.TransportTime,i.default.Time),i.default.TransportTime.prototype._now=function(){return i.default.Transport.seconds},e.default=i.default.TransportTime},function(t,e,n){n.r(e);var i=n(0);n(62),i.default.Frequency=function(t,e){if(!(this instanceof i.default.Frequency))return new i.default.Frequency(t,e);i.default.TimeBase.call(this,t,e)},i.default.extend(i.default.Frequency,i.default.TimeBase),i.default.Frequency.prototype._expressions=Object.assign({},i.default.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return"midi"===this._defaultUnits?t:i.default.Frequency.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,e){var n=s[t.toLowerCase()]+12*(parseInt(e)+1);return"midi"===this._defaultUnits?n:i.default.Frequency.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var i=1;return t&&"0"!==t&&(i*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i*=this._beatsToUnits(parseFloat(n)/4)),i}}}),i.default.Frequency.prototype.transpose=function(t){return new this.constructor(this.valueOf()*i.default.intervalToFrequencyRatio(t))},i.default.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))},i.default.Frequency.prototype.toMidi=function(){return i.default.Frequency.ftom(this.valueOf())},i.default.Frequency.prototype.toNote=function(){var t=this.toFrequency(),e=Math.log2(t/i.default.Frequency.A4),n=Math.round(12*e)+57,s=Math.floor(n/12);return s<0&&(n+=-12*s),r[n%12]+s.toString()},i.default.Frequency.prototype.toSeconds=function(){return 1/i.default.TimeBase.prototype.toSeconds.call(this)},i.default.Frequency.prototype.toFrequency=function(){return i.default.TimeBase.prototype.toFrequency.call(this)},i.default.Frequency.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*i.default.Transport.PPQ)},i.default.Frequency.prototype._noArg=function(){return 0},i.default.Frequency.prototype._frequencyToUnits=function(t){return t},i.default.Frequency.prototype._ticksToUnits=function(t){return 1/(60*t/(i.default.Transport.bpm.value*i.default.Transport.PPQ))},i.default.Frequency.prototype._beatsToUnits=function(t){return 1/i.default.TimeBase.prototype._beatsToUnits.call(this,t)},i.default.Frequency.prototype._secondsToUnits=function(t){return 1/t},i.default.Frequency.prototype._defaultUnits="hz";var s={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];i.default.Frequency.A4=440,i.default.Frequency.mtof=function(t){return i.default.Frequency.A4*Math.pow(2,(t-69)/12)},i.default.Frequency.ftom=function(t){return 69+Math.round(12*Math.log2(t/i.default.Frequency.A4))},e.default=i.default.Frequency},function(t,e,n){n.r(e);var i=n(0);n(2),n(61),n(4),n(1),i.default.Envelope=function(){var t=i.default.defaults(arguments,["attack","decay","sustain","release"],i.default.Envelope);i.default.AudioNode.call(this),this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new i.default.Signal(0),this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve},i.default.extend(i.default.Envelope,i.default.AudioNode),i.default.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"},Object.defineProperty(i.default.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),i.default.Envelope.prototype._getCurve=function(t,e){if(i.default.isString(t))return t;if(i.default.isArray(t))for(var n in i.default.Envelope.Type)if(i.default.Envelope.Type[n][e]===t)return n},i.default.Envelope.prototype._setCurve=function(t,e,n){if(i.default.Envelope.Type.hasOwnProperty(n)){var s=i.default.Envelope.Type[n];i.default.isObject(s)?this[t]=s[e]:this[t]=s}else{if(!i.default.isArray(n))throw new Error("Tone.Envelope: invalid curve: "+n);this[t]=n}},Object.defineProperty(i.default.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(t){this._setCurve("_attackCurve","In",t)}}),Object.defineProperty(i.default.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(t){this._setCurve("_releaseCurve","Out",t)}}),Object.defineProperty(i.default.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(t){if(!["linear","exponential"].includes(t))throw new Error("Tone.Envelope: invalid curve: "+t);this._decayCurve=t}}),i.default.Envelope.prototype.triggerAttack=function(t,e){this.log("triggerAttack",t,e),t=this.toSeconds(t);var n=this.toSeconds(this.attack),s=this.toSeconds(this.decay);e=i.default.defaultArg(e,1);var r=this.getValueAtTime(t);if(r>0&&(n=(1-r)/(1/n)),0===n)this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else if(n>0){this._sig.cancelAndHoldAtTime(t);for(var a=this._attackCurve,o=1;o<a.length;o++)if(a[o-1]<=r&&r<=a[o]){(a=this._attackCurve.slice(o))[0]=r;break}this._sig.setValueCurveAtTime(a,t,n,e)}if(s){var l=e*this.sustain,u=t+n;this.log("decay",u),"linear"===this._decayCurve?this._sig.linearRampTo(l,s,u+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(l,u,s)}return this},i.default.Envelope.prototype.triggerRelease=function(t){this.log("triggerRelease",t),t=this.toSeconds(t);var e=this.getValueAtTime(t);if(e>0){var n=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampTo(0,n,t);else if("exponential"===this._releaseCurve)this._sig.targetRampTo(0,n,t);else{var s=this._releaseCurve;i.default.isArray(s)&&(this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(s,t,n,e))}}return this},i.default.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},i.default.Envelope.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this},i.default.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},i.default.Envelope.prototype.connect=i.default.SignalBase.prototype.connect,function(){var t,e,n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));var s=[];for(t=0;t<127;t++){e=t/127;var r=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;s[t]=r/10+.83*e}s[127]=1;var a=[];for(t=0;t<128;t++)a[t]=Math.ceil(t/127*5)/5;var o=[];for(t=0;t<128;t++)e=t/127,o[t]=.5*(1-Math.cos(Math.PI*e));var l,u=[];for(t=0;t<128;t++){e=t/127;var c=4*Math.pow(e,3)+.2,h=Math.cos(c*Math.PI*2*e);u[t]=Math.abs(h*(1-e))}function d(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=1-t[n];return e}i.default.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:d(u),Out:u},cosine:{In:n,Out:(l=n,l.slice(0).reverse())},step:{In:a,Out:d(a)},ripple:{In:s,Out:d(s)},sine:{In:o,Out:d(o)}}}(),i.default.Envelope.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},e.default=i.default.Envelope},function(t,e,n){n.r(e);var i=n(0);if(n(23),n(10),n(19),n(7),n(28),n(3),n(2),n(20),i.default.supported&&!i.default.global.AudioContext.prototype.createStereoPanner){var s=function(t){this.context=t,this.pan=new i.default.Signal(0,i.default.Type.AudioRange);var e=new i.default.WaveShaper((function(t){return i.default.equalPowerScale((t+1)/2)}),4096),n=new i.default.WaveShaper((function(t){return i.default.equalPowerScale(1-(t+1)/2)}),4096),s=new i.default.Gain,r=new i.default.Gain,a=this.input=new i.default.Split;a._splitter.channelCountMode="explicit",(new i.default.Zero).fan(e,n);var o=this.output=new i.default.Merge;a.left.chain(s,o.left),a.right.chain(r,o.right),this.pan.chain(n,s.gain),this.pan.chain(e,r.gain)};s.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},s.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new s(this)},i.default.Context.prototype.createStereoPanner=function(){return new s(this)}}n(22),n(1),i.default.Panner=function(){var t=i.default.defaults(arguments,["pan"],i.default.Panner);i.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan,this.pan.value=t.pan,this._readOnly("pan")},i.default.extend(i.default.Panner,i.default.AudioNode),i.default.Panner.defaults={pan:0},i.default.Panner.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this},e.default=i.default.Panner},function(t,e,n){n.r(e);var i=n(0);n(6),n(17),n(5),n(3),i.default.FMOscillator=function(){var t=i.default.defaults(arguments,["frequency","type","modulationType"],i.default.FMOscillator);i.default.Source.call(this,t),this._carrier=new i.default.Oscillator(t.frequency,t.type),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=t.detune,this.modulationIndex=new i.default.Multiply(t.modulationIndex),this.modulationIndex.units=i.default.Type.Positive,this._modulator=new i.default.Oscillator(t.frequency,t.modulationType),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this._modulationNode=new i.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=t.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},i.default.extend(i.default.FMOscillator,i.default.Source),i.default.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1},i.default.FMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},i.default.FMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},i.default.FMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(i.default.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(i.default.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),i.default.FMOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},e.default=i.default.FMOscillator},function(t,e,n){n.r(e);var i=n(0);n(6),n(17),n(2),n(7),n(3),i.default.PulseOscillator=function(){var t=i.default.defaults(arguments,["frequency","width"],i.default.Oscillator);i.default.Source.call(this,t),this.width=new i.default.Signal(t.width,i.default.Type.NormalRange),this._widthGate=new i.default.Gain(0),this._sawtooth=new i.default.Oscillator({frequency:t.frequency,detune:t.detune,type:"sawtooth",phase:t.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new i.default.WaveShaper((function(t){return t<0?-1:1})),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},i.default.extend(i.default.PulseOscillator,i.default.Source),i.default.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},i.default.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},i.default.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},i.default.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)},Object.defineProperty(i.default.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(i.default.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(i.default.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}}),Object.defineProperty(i.default.PulseOscillator.prototype,"partials",{get:function(){return[]}}),i.default.PulseOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},e.default=i.default.PulseOscillator},function(t,e,n){n.r(e);var i=n(0);n(16),n(4),n(34),i.default.Event=function(){var t=i.default.defaults(arguments,["callback","value"],i.default.Event);i.default.call(this),this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._state=new i.default.TimelineState(i.default.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate},i.default.extend(i.default.Event),i.default.Event.defaults={callback:i.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},i.default.Event.prototype._rescheduleEvents=function(t){return t=i.default.defaultArg(t,-1),this._state.forEachFrom(t,function(t){var e;if(t.state===i.default.State.Started){i.default.isDefined(t.id)&&i.default.Transport.clear(t.id);var n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||i.default.isNumber(this._loop)&&this._loop>1){e=1/0,i.default.isNumber(this._loop)&&(e=this._loop*this._getLoopDuration());var s=this._state.getAfter(n);null!==s&&(e=Math.min(e,s.time-n)),e!==1/0&&(this._state.setStateAtTime(i.default.State.Stopped,n+e+1),e=i.default.Ticks(e));var r=i.default.Ticks(this._getLoopDuration());t.id=i.default.Transport.scheduleRepeat(this._tick.bind(this),r,i.default.Ticks(n),e)}else t.id=i.default.Transport.schedule(this._tick.bind(this),i.default.Ticks(n))}}.bind(this)),this},Object.defineProperty(i.default.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(i.default.Transport.ticks)}}),Object.defineProperty(i.default.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(i.default.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(i.default.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),i.default.Event.prototype.start=function(t){return t=this.toTicks(t),this._state.getValueAtTime(t)===i.default.State.Stopped&&(this._state.add({state:i.default.State.Started,time:t,id:void 0}),this._rescheduleEvents(t)),this},i.default.Event.prototype.stop=function(t){if(this.cancel(t),t=this.toTicks(t),this._state.getValueAtTime(t)===i.default.State.Started){this._state.setStateAtTime(i.default.State.Stopped,t);var e=this._state.getBefore(t),n=t;null!==e&&(n=e.time),this._rescheduleEvents(n)}return this},i.default.Event.prototype.cancel=function(t){return t=i.default.defaultArg(t,-1/0),t=this.toTicks(t),this._state.forEachFrom(t,(function(t){i.default.Transport.clear(t.id)})),this._state.cancel(t),this},i.default.Event.prototype._tick=function(t){var e=i.default.Transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(e)===i.default.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var n=.02;i.default.isBoolean(this.humanize)||(n=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*n}this.callback(t,this.value)}},i.default.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(i.default.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"loopEnd",{get:function(){return i.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"loopStart",{get:function(){return i.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(i.default.Event.prototype,"progress",{get:function(){if(this._loop){var t=i.default.Transport.ticks,e=this._state.get(t);if(null!==e&&e.state===i.default.State.Started){var n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}}),i.default.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},e.default=i.default.Event},function(t,e,n){n.r(e);var i=n(0);n(2),n(13),n(29),n(10),n(3),n(1),i.default.MidSideMerge=function(){i.default.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new i.default.Gain,this._left=new i.default.Add,this._timesTwoLeft=new i.default.Multiply(Math.SQRT1_2),this.side=this.input[1]=new i.default.Gain,this._right=new i.default.Subtract,this._timesTwoRight=new i.default.Multiply(Math.SQRT1_2),this._merge=this.output=new i.default.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._timesTwoLeft),this._right.connect(this._timesTwoRight),this._timesTwoLeft.connect(this._merge,0,0),this._timesTwoRight.connect(this._merge,0,1)},i.default.extend(i.default.MidSideMerge,i.default.AudioNode),i.default.MidSideMerge.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this},e.default=i.default.MidSideMerge},function(t,e,n){n.r(e);var i=n(0);n(29),n(13),n(2),n(19),n(1),i.default.MidSideSplit=function(){i.default.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new i.default.Split,this._midAdd=new i.default.Add,this.mid=this.output[0]=new i.default.Multiply(Math.SQRT1_2),this._sideSubtract=new i.default.Subtract,this.side=this.output[1]=new i.default.Multiply(Math.SQRT1_2),this._split.connect(this._midAdd,0,0),this._split.connect(this._midAdd,1,1),this._split.connect(this._sideSubtract,0,0),this._split.connect(this._sideSubtract,1,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)},i.default.extend(i.default.MidSideSplit,i.default.AudioNode),i.default.MidSideSplit.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this},e.default=i.default.MidSideSplit},function(t,e,n){n.r(e);var i=n(0);n(2),n(9),n(1),n(59),i.default.LowpassCombFilter=function(){var t=i.default.defaults(arguments,["delayTime","resonance","dampening"],i.default.LowpassCombFilter);i.default.AudioNode.call(this),this._combFilter=this.output=new i.default.FeedbackCombFilter(t.delayTime,t.resonance),this.delayTime=this._combFilter.delayTime,this._lowpass=this.input=new i.default.Filter({frequency:t.dampening,type:"lowpass",Q:0,rolloff:-12}),this.dampening=this._lowpass.frequency,this.resonance=this._combFilter.resonance,this._lowpass.connect(this._combFilter),this._readOnly(["dampening","resonance","delayTime"])},i.default.extend(i.default.LowpassCombFilter,i.default.AudioNode),i.default.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},i.default.LowpassCombFilter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this},e.default=i.default.LowpassCombFilter},function(t,e,n){n.r(e);var i=n(0);n(45),i.default.Ticks=function(t,e){if(!(this instanceof i.default.Ticks))return new i.default.Ticks(t,e);i.default.TransportTime.call(this,t,e)},i.default.extend(i.default.Ticks,i.default.TransportTime),i.default.Ticks.prototype._defaultUnits="i",i.default.Ticks.prototype._now=function(){return i.default.Transport.ticks},i.default.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t},i.default.Ticks.prototype._secondsToUnits=function(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())},i.default.Ticks.prototype._ticksToUnits=function(t){return t},i.default.Ticks.prototype.toTicks=function(){return this.valueOf()},i.default.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())},e.default=i.default.Ticks},function(t,e,n){n.r(e);var i=n(0);n(55),i.default.TransportEvent=function(t,e){e=i.default.defaultArg(e,i.default.TransportEvent.defaults),i.default.call(this),this.Transport=t,this.id=i.default.TransportEvent._eventId++,this.time=i.default.Ticks(e.time),this.callback=e.callback,this._once=e.once},i.default.extend(i.default.TransportEvent),i.default.TransportEvent.defaults={once:!1,callback:i.default.noOp},i.default.TransportEvent._eventId=0,i.default.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},i.default.TransportEvent.prototype.dispose=function(){return i.default.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this},e.default=i.default.TransportEvent},function(t,e,n){n.r(e);var i=n(0);n(82),n(34),n(24),n(14),i.default.TickSource=function(){var t=i.default.defaults(arguments,["frequency"],i.default.TickSource);this.frequency=new i.default.TickSignal(t.frequency),this._readOnly("frequency"),this._state=new i.default.TimelineState(i.default.State.Stopped),this._state.setStateAtTime(i.default.State.Stopped,0),this._tickOffset=new i.default.Timeline,this.setTicksAtTime(0,0)},i.default.extend(i.default.TickSource),i.default.TickSource.defaults={frequency:1},Object.defineProperty(i.default.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),i.default.TickSource.prototype.start=function(t,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)!==i.default.State.Started&&(this._state.setStateAtTime(i.default.State.Started,t),i.default.isDefined(e)&&this.setTicksAtTime(e,t)),this},i.default.TickSource.prototype.stop=function(t){if(t=this.toSeconds(t),this._state.getValueAtTime(t)===i.default.State.Stopped){var e=this._state.get(t);e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime(i.default.State.Stopped,t),this.setTicksAtTime(0,t),this},i.default.TickSource.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===i.default.State.Started&&this._state.setStateAtTime(i.default.State.Paused,t),this},i.default.TickSource.prototype.cancel=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this},i.default.TickSource.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(i.default.State.Stopped,t),n={state:i.default.State.Paused,time:t};this._state.add(n);var s=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=s.time,n=this._tickOffset.get(t.time);n.time>=s.time&&(r=n.ticks,e=n.time),s.state===i.default.State.Started&&t.state!==i.default.State.Started&&(r+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),s=t}.bind(this)),this._state.remove(n),r},Object.defineProperty(i.default.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}}),Object.defineProperty(i.default.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}}),i.default.TickSource.prototype.getSecondsAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(i.default.State.Stopped,t),n={state:i.default.State.Paused,time:t};this._state.add(n);var s=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=s.time,n=this._tickOffset.get(t.time);n.time>=s.time&&(r=n.seconds,e=n.time),s.state===i.default.State.Started&&t.state!==i.default.State.Started&&(r+=t.time-e),s=t}.bind(this)),this._state.remove(n),r},i.default.TickSource.prototype.setTicksAtTime=function(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)}),this},i.default.TickSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},i.default.TickSource.prototype.getTimeOfTick=function(t,e){e=i.default.defaultArg(e,this.now());var n=this._tickOffset.get(e),s=this._state.get(e),r=Math.max(n.time,s.time),a=this.frequency.getTicksAtTime(r)+t-n.ticks;return this.frequency.getTimeOfTick(a)},i.default.TickSource.prototype.forEachTickBetween=function(t,e,n){var s=this._state.get(t);if(this._state.forEachBetween(t,e,function(e){s.state===i.default.State.Started&&e.state!==i.default.State.Started&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e}.bind(this)),t=Math.max(s.time,t),s.state===i.default.State.Started&&this._state){var r=this.frequency.getTicksAtTime(t),a=(r-this.frequency.getTicksAtTime(s.time))%1;0!==a&&(a=1-a);for(var o=this.frequency.getTimeOfTick(r+a),l=null;o<e&&this._state;){try{n(o,Math.round(this.getTicksAtTime(o)))}catch(t){l=t;break}this._state&&(o+=this.frequency.getDurationOfTicks(1,o))}}if(l)throw l;return this},i.default.TickSource.prototype.dispose=function(){return i.default.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this},e.default=i.default.TickSource},function(t,e,n){n.r(e);var i=n(0);n(87),n(13),n(2),n(4),n(18),n(1),i.default.Follower=function(){var t=i.default.defaults(arguments,["smoothing"],i.default.Follower);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new i.default.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=0,this._sub=new i.default.Subtract,this._delay=new i.default.Delay(this.blockTime),this._smoothing=t.smoothing,i.default.connect(this.input,this._delay),i.default.connect(this.input,this._sub,0,1),this._sub.chain(this._abs,this._filter,this.output),this.smoothing=t.smoothing},i.default.extend(i.default.Follower,i.default.AudioNode),i.default.Follower.defaults={smoothing:.05},Object.defineProperty(i.default.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._smoothing=t,this._filter.frequency.value=.5*i.default.Time(t).toFrequency()}}),i.default.Follower.prototype.connect=i.default.SignalBase.prototype.connect,i.default.Follower.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this},e.default=i.default.Follower},function(t,e,n){n.r(e);var i=n(0);n(42),n(2),n(14),n(18),n(3),n(1),i.default.FeedbackCombFilter=function(){var t=i.default.defaults(arguments,["delayTime","resonance"],i.default.FeedbackCombFilter);i.default.AudioNode.call(this),this._delay=this.input=this.output=new i.default.Delay(t.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new i.default.Gain(t.resonance,i.default.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},i.default.extend(i.default.FeedbackCombFilter,i.default.AudioNode),i.default.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},i.default.FeedbackCombFilter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},e.default=i.default.FeedbackCombFilter},function(t,e,n){n.r(e);var i=n(0);n(9),n(2),n(3),n(1),i.default.MultibandSplit=function(){var t=i.default.defaults(arguments,["lowFrequency","highFrequency"],i.default.MultibandSplit);i.default.AudioNode.call(this),this.input=new i.default.Gain,this.output=new Array(3),this.low=this.output[0]=new i.default.Filter(0,"lowpass"),this._lowMidFilter=new i.default.Filter(0,"highpass"),this.mid=this.output[1]=new i.default.Filter(0,"lowpass"),this.high=this.output[2]=new i.default.Filter(0,"highpass"),this.lowFrequency=new i.default.Signal(t.lowFrequency,i.default.Type.Frequency),this.highFrequency=new i.default.Signal(t.highFrequency,i.default.Type.Frequency),this.Q=new i.default.Signal(t.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},i.default.extend(i.default.MultibandSplit,i.default.AudioNode),i.default.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},i.default.MultibandSplit.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},e.default=i.default.MultibandSplit},function(t,e,n){n.r(e);var i=n(0);n(7),i.default.Pow=function(t){i.default.SignalBase.call(this),this._exp=i.default.defaultArg(t,1),this._expScaler=this.input=this.output=new i.default.WaveShaper(this._expFunc(this._exp),8192)},i.default.extend(i.default.Pow,i.default.SignalBase),Object.defineProperty(i.default.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),i.default.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},i.default.Pow.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},e.default=i.default.Pow},function(t,e,n){n.r(e);var i=n(0);i.default.TimeBase=function(t,e){if(!(this instanceof i.default.TimeBase))return new i.default.TimeBase(t,e);if(this._val=t,this._units=e,i.default.isUndef(this._units)&&i.default.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(t&&t.constructor===this.constructor)this._val=t._val,this._units=t._units;else if(t instanceof i.default.TimeBase)switch(this._defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}},i.default.extend(i.default.TimeBase),i.default.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){var n="."===e?1.5:1;return 1===(t=parseInt(t))?this._beatsToUnits(this._getTimeSignature())*n:this._beatsToUnits(4/t)*n}},t:{regexp:/^(\d+)t$/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,n){var i=0;return t&&"0"!==t&&(i+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(i+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(i+=this._beatsToUnits(parseFloat(n)/4)),i}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}},i.default.TimeBase.prototype._defaultUnits="s",i.default.TimeBase.prototype._getBpm=function(){return i.default.Transport?i.default.Transport.bpm.value:120},i.default.TimeBase.prototype._getTimeSignature=function(){return i.default.Transport?i.default.Transport.timeSignature:4},i.default.TimeBase.prototype._getPPQ=function(){return i.default.Transport?i.default.Transport.PPQ:192},i.default.TimeBase.prototype._now=function(){return this.now()},i.default.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},i.default.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t},i.default.TimeBase.prototype._secondsToUnits=function(t){return t},i.default.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())},i.default.TimeBase.prototype._noArg=function(){return this._now()},i.default.TimeBase.prototype.valueOf=function(){if(i.default.isUndef(this._val))return this._noArg();if(i.default.isString(this._val)&&i.default.isUndef(this._units)){for(var t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(i.default.isObject(this._val)){var e=0;for(var n in this._val){var s=this._val[n];e+=new this.constructor(n).valueOf()*s}return e}if(i.default.isDefined(this._units)){var r=this._expressions[this._units],a=this._val.toString().trim().match(r.regexp);return a?r.method.apply(this,a.slice(1)):r.method.call(this,parseFloat(this._val))}return this._val},i.default.TimeBase.prototype.toSeconds=function(){return this.valueOf()},i.default.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()},i.default.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},i.default.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},i.default.TimeBase.prototype.dispose=function(){this._val=null,this._units=null},e.default=i.default.TimeBase},function(t,e,n){n.r(e);var i=n(0);n(62),n(46),i.default.Time=function(t,e){if(!(this instanceof i.default.Time))return new i.default.Time(t,e);i.default.TimeBase.call(this,t,e)},i.default.extend(i.default.Time,i.default.TimeBase),i.default.Time.prototype._expressions=Object.assign({},i.default.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(t){if(i.default.Transport){var e=new this.constructor(t);return this._secondsToUnits(i.default.Transport.nextSubdivision(e))}return 0}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}}),i.default.Time.prototype.quantize=function(t,e){e=i.default.defaultArg(e,1);var n=new this.constructor(t),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e},i.default.Time.prototype.toNotation=function(){for(var t=this.toSeconds(),e=["1m"],n=1;n<8;n++){var s=Math.pow(2,n);e.push(s+"n."),e.push(s+"n"),e.push(s+"t")}e.push("0");var r=e[0],a=i.default.Time(e[0]).toSeconds();return e.forEach((function(e){var n=i.default.Time(e).toSeconds();Math.abs(n-t)<Math.abs(a-t)&&(r=e,a=n)})),r},i.default.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;e=parseFloat(e.toFixed(4));var n=Math.floor(e/this._getTimeSignature()),i=e%1*4;return e=Math.floor(e)%this._getTimeSignature(),(i=i.toString()).length>3&&(i=parseFloat(parseFloat(i).toFixed(3))),[n,e,i].join(":")},i.default.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())},i.default.Time.prototype.toSeconds=function(){return this.valueOf()},i.default.Time.prototype.toMidi=function(){return i.default.Frequency.ftom(this.toFrequency())},e.default=i.default.Time},function(t,e,n){n.r(e);var i=n(0);n(11),n(6),n(3),n(1),i.default.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),i.default.OscillatorNode=function(){var t=i.default.defaults(arguments,["frequency","type"],i.default.OscillatorNode);i.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new i.default.Gain(0),this._oscillator=this.context.createOscillator(),i.default.connect(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new i.default.Param({param:this._oscillator.frequency,units:i.default.Type.Frequency,value:t.frequency}),this.detune=new i.default.Param({param:this._oscillator.detune,units:i.default.Type.Cents,value:t.detune}),this._gain=1},i.default.extend(i.default.OscillatorNode,i.default.AudioNode),i.default.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:i.default.noOp},Object.defineProperty(i.default.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),i.default.OscillatorNode.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?i.default.State.Started:i.default.State.Stopped},i.default.OscillatorNode.prototype.start=function(t){if(this.log("start",t),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(t),this._startTime=Math.max(this._startTime,this.context.currentTime),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this},i.default.OscillatorNode.prototype.setPeriodicWave=function(t){return this._oscillator.setPeriodicWave(t),this},i.default.OscillatorNode.prototype.stop=function(t){return this.log("stop",t),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(t),this._stopTime=Math.max(this._stopTime,this.context.currentTime),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now()),this.onended(),setTimeout(function(){this._oscillator&&(this._oscillator.disconnect(),this._gainNode.disconnect())}.bind(this),100)}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this},i.default.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this},Object.defineProperty(i.default.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}}),i.default.OscillatorNode.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,this.context.clearTimeout(this._timeout),i.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null),this},e.default=i.default.OscillatorNode},function(t,e,n){n.r(e);var i=n(0);n(11),n(6),n(57),n(32),i.default.Player=function(t){var e;t instanceof i.default.Buffer&&t.loaded?(t=t.get(),e=i.default.Player.defaults):e=i.default.defaults(arguments,["url","onload"],i.default.Player),i.default.Source.call(this,e),this.autostart=e.autostart,this._buffer=new i.default.Buffer({url:e.url,onload:this._onload.bind(this,e.onload),reverse:e.reverse}),t instanceof AudioBuffer&&this._buffer.set(t),this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this._activeSources=[],this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut},i.default.extend(i.default.Player,i.default.Source),i.default.Player.defaults={onload:i.default.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0},i.default.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},i.default.Player.prototype._onload=function(t){(t=i.default.defaultArg(t,i.default.noOp))(this),this.autostart&&this.start()},i.default.Player.prototype._onSourceEnd=function(t){var e=this._activeSources.indexOf(t);this._activeSources.splice(e,1),0!==this._activeSources.length||this._synced||this._state.setStateAtTime(i.default.State.Stopped,i.default.now())},i.default.Player.prototype._start=function(t,e,n){e=this._loop?i.default.defaultArg(e,this._loopStart):i.default.defaultArg(e,0),e=this.toSeconds(e),this._synced&&(e*=this._playbackRate);var s=i.default.defaultArg(n,Math.max(this._buffer.duration-e,0));s=this.toSeconds(s),s/=this._playbackRate,t=this.toSeconds(t);var r=new i.default.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);return this._loop||this._synced||this._state.setStateAtTime(i.default.State.Stopped,t+s),this._activeSources.push(r),this._loop&&i.default.isUndef(n)?r.start(t,e):r.start(t,e,s-this.toSeconds(this.fadeOut)),this},i.default.Player.prototype._stop=function(t){return t=this.toSeconds(t),this._activeSources.forEach((function(e){e.stop(t)})),this},i.default.Player.prototype.restart=function(t,e,n){return this._stop(t),this._start(t,e,n),this},i.default.Player.prototype.seek=function(t,e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===i.default.State.Started&&(t=this.toSeconds(t),this._stop(e),this._start(e,t)),this},i.default.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(i.default.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=t,this._activeSources.forEach((function(e){e.loopStart=t}))}}),Object.defineProperty(i.default.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=t,this._activeSources.forEach((function(e){e.loopEnd=t}))}}),Object.defineProperty(i.default.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(i.default.Player.prototype,"loop",{get:function(){return this._loop},set:function(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((function(e){e.loop=t})),t)){var e=this._state.getNextState(i.default.State.Stopped,this.now());e&&this._state.cancel(e.time)}}}),Object.defineProperty(i.default.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t;var e=this.now(),n=this._state.getNextState(i.default.State.Stopped,e);n&&this._state.cancel(n.time),this._activeSources.forEach((function(n){n.cancelStop(),n.playbackRate.setValueAtTime(t,e)}))}}),Object.defineProperty(i.default.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(i.default.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),i.default.Player.prototype.dispose=function(){return this._activeSources.forEach((function(t){t.dispose()})),this._activeSources=null,i.default.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this},e.default=i.default.Player},function(t,e,n){n.r(e);var i=n(0);n(31),n(41),n(37),n(2),n(9),n(25),i.default.MonoSynth=function(t){t=i.default.defaultArg(t,i.default.MonoSynth.defaults),i.default.Monophonic.call(this,t),this.oscillator=new i.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new i.default.Filter(t.filter),this.filter.frequency.value=5e3,this.filterEnvelope=new i.default.FrequencyEnvelope(t.filterEnvelope),this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},i.default.extend(i.default.MonoSynth,i.default.Monophonic),i.default.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},i.default.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},i.default.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},i.default.MonoSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},e.default=i.default.MonoSynth},function(t,e,n){n.r(e);var i=n(0);n(6),n(17),n(5),n(3),i.default.FatOscillator=function(){var t=i.default.defaults(arguments,["frequency","type","spread"],i.default.FatOscillator);i.default.Source.call(this,t),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._oscillators=[],this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,this._readOnly(["frequency","detune"])},i.default.extend(i.default.FatOscillator,i.default.Source),i.default.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0},i.default.FatOscillator.prototype._start=function(t){t=this.toSeconds(t),this._forEach((function(e){e.start(t)}))},i.default.FatOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._forEach((function(e){e.stop(t)}))},i.default.FatOscillator.prototype.restart=function(t){t=this.toSeconds(t),this._forEach((function(e){e.restart(t)}))},i.default.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(i.default.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._forEach((function(e){e.type=t}))}}),Object.defineProperty(i.default.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,this._oscillators.length>1){var e=-t/2,n=t/(this._oscillators.length-1);this._forEach((function(t,i){t.detune.value=e+n*i}))}}}),Object.defineProperty(i.default.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(t){if(t=Math.max(t,1),this._oscillators.length!==t){this._forEach((function(t){t.dispose()})),this._oscillators=[];for(var e=0;e<t;e++){var n=new i.default.Oscillator;this.type===i.default.Oscillator.Type.Custom?n.partials=this._partials:n.type=this._type,n.partialCount=this._partialCount,n.phase=this._phase+e/t*360,n.volume.value=-6-1.1*t,this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,this.state===i.default.State.Started&&this._forEach((function(t){t.start()}))}}}),Object.defineProperty(i.default.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(t){this._phase=t,this._forEach((function(e){e.phase=t}))}}),Object.defineProperty(i.default.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(t){this._forEach((function(e){e.baseType=t})),this._type=this._oscillators[0].type}}),Object.defineProperty(i.default.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(t){this._partials=t,this._type=i.default.Oscillator.Type.Custom,this._forEach((function(e){e.partials=t}))}}),Object.defineProperty(i.default.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(t){this._partialCount=t,this._forEach((function(e){e.partialCount=t})),this._type=this._oscillators[0].type}}),i.default.FatOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach((function(t){t.dispose()})),this._oscillators=null,this._partials=null,this},e.default=i.default.FatOscillator},function(t,e,n){n.r(e);var i=n(0);n(6),n(17),n(5),n(3),n(22),i.default.AMOscillator=function(){var t=i.default.defaults(arguments,["frequency","type","modulationType"],i.default.AMOscillator);i.default.Source.call(this,t),this._carrier=new i.default.Oscillator(t.frequency,t.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=t.detune,this._modulator=new i.default.Oscillator(t.frequency,t.modulationType),this._modulationScale=new i.default.AudioToGain,this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this._modulationNode=new i.default.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=t.phase,this._readOnly(["frequency","detune","harmonicity"])},i.default.extend(i.default.AMOscillator,i.default.Oscillator),i.default.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1},i.default.AMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},i.default.AMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},i.default.AMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(i.default.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(i.default.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),i.default.AMOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},e.default=i.default.AMOscillator},function(t,e,n){n.r(e);var i=n(0);n(6),n(50),n(17),n(5),i.default.PWMOscillator=function(){var t=i.default.defaults(arguments,["frequency","modulationFrequency"],i.default.PWMOscillator);i.default.Source.call(this,t),this._pulse=new i.default.PulseOscillator(t.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new i.default.Oscillator({frequency:t.frequency,detune:t.detune,phase:t.phase}),this._scale=new i.default.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},i.default.extend(i.default.PWMOscillator,i.default.Source),i.default.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},i.default.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},i.default.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},i.default.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._pulse.restart(t)},Object.defineProperty(i.default.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(i.default.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}}),Object.defineProperty(i.default.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(i.default.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),i.default.PWMOscillator.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},e.default=i.default.PWMOscillator},function(t,e,n){n.r(e);var i=n(0);n(51),n(4),n(16),i.default.Part=function(){var t=i.default.defaults(arguments,["callback","events"],i.default.Part);i.default.Event.call(this,t),this._events=[];for(var e=0;e<t.events.length;e++)Array.isArray(t.events[e])?this.add(t.events[e][0],t.events[e][1]):this.add(t.events[e])},i.default.extend(i.default.Part,i.default.Event),i.default.Part.defaults={callback:i.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},i.default.Part.prototype.start=function(t,e){var n=this.toTicks(t);return this._state.getValueAtTime(n)!==i.default.State.Started&&(e=this._loop?i.default.defaultArg(e,this._loopStart):i.default.defaultArg(e,0),e=this.toTicks(e),this._state.add({state:i.default.State.Started,time:n,offset:e}),this._forEach((function(t){this._startNote(t,n,e)}))),this},i.default.Part.prototype._startNote=function(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(i.default.Ticks(e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(i.default.Ticks(e))):t.startOffset>=n&&t.start(i.default.Ticks(e))},Object.defineProperty(i.default.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach((function(t){t.startOffset+=this._startOffset}))}}),i.default.Part.prototype.stop=function(t){var e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime(i.default.State.Stopped,e),this._forEach((function(e){e.stop(t)})),this},i.default.Part.prototype.at=function(t,e){t=i.default.TransportTime(t);for(var n=i.default.Ticks(1).toSeconds(),s=0;s<this._events.length;s++){var r=this._events[s];if(Math.abs(t.toTicks()-r.startOffset)<n)return i.default.isDefined(e)&&(r.value=e),r}return i.default.isDefined(e)?(this.add(t,e),this._events[this._events.length-1]):null},i.default.Part.prototype.add=function(t,e){var n;return t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),e instanceof i.default.Event?(n=e).callback=this._tick.bind(this):n=new i.default.Event({callback:this._tick.bind(this),value:e}),n.startOffset=t,n.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(n),this._restartEvent(n),this},i.default.Part.prototype._restartEvent=function(t){this._state.forEach(function(e){e.state===i.default.State.Started?this._startNote(t,e.time,e.offset):t.stop(i.default.Ticks(e.time))}.bind(this))},i.default.Part.prototype.remove=function(t,e){t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t);for(var n=this._events.length-1;n>=0;n--){var s=this._events[n];s.startOffset===t&&(i.default.isUndef(e)||i.default.isDefined(e)&&s.value===e)&&(this._events.splice(n,1),s.dispose())}return this},i.default.Part.prototype.removeAll=function(){return this._forEach((function(t){t.dispose()})),this._events=[],this},i.default.Part.prototype.cancel=function(t){return this._forEach((function(e){e.cancel(t)})),this._state.cancel(this.toTicks(t)),this},i.default.Part.prototype._forEach=function(t,e){if(this._events){e=i.default.defaultArg(e,this);for(var n=this._events.length-1;n>=0;n--){var s=this._events[n];s instanceof i.default.Part?s._forEach(t,e):t.call(e,s)}}return this},i.default.Part.prototype._setAll=function(t,e){this._forEach((function(n){n[t]=e}))},i.default.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},i.default.Part.prototype._testLoopBoundries=function(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state===i.default.State.Stopped&&this._restartEvent(t)},Object.defineProperty(i.default.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(i.default.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(i.default.Part.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._forEach((function(e){e._loopStart=this._loopStart,e._loopEnd=this._loopEnd,e.loop=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(i.default.Part.prototype,"loopEnd",{get:function(){return i.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((function(e){e.loopEnd=t,this._testLoopBoundries(e)}))}}),Object.defineProperty(i.default.Part.prototype,"loopStart",{get:function(){return i.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}}),Object.defineProperty(i.default.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(i.default.Part.prototype,"length",{get:function(){return this._events.length}}),i.default.Part.prototype.dispose=function(){return i.default.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this},e.default=i.default.Part},function(t,e,n){n.r(e);var i=n(0);n(51),i.default.Loop=function(){var t=i.default.defaults(arguments,["callback","interval"],i.default.Loop);i.default.call(this),this._event=new i.default.Event({callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations},i.default.extend(i.default.Loop),i.default.Loop.defaults={interval:"4n",callback:i.default.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},i.default.Loop.prototype.start=function(t){return this._event.start(t),this},i.default.Loop.prototype.stop=function(t){return this._event.stop(t),this},i.default.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},i.default.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(i.default.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(i.default.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(i.default.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(i.default.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(i.default.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(i.default.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(i.default.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(i.default.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0||t}}),i.default.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},e.default=i.default.Loop},function(t,e,n){n.r(e);var i=n(0);n(15),n(33),i.default.StereoXFeedbackEffect=function(){var t=i.default.defaults(arguments,["feedback"],i.default.FeedbackEffect);i.default.StereoEffect.call(this,t),this.feedback=new i.default.Signal(t.feedback,i.default.Type.NormalRange),this._feedbackLR=new i.default.Gain,this._feedbackRL=new i.default.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},i.default.extend(i.default.StereoXFeedbackEffect,i.default.StereoEffect),i.default.StereoXFeedbackEffect.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},e.default=i.default.StereoXFeedbackEffect},function(t,e,n){n.r(e);var i=n(0);n(8),n(53),n(52),i.default.MidSideEffect=function(){i.default.Effect.apply(this,arguments),this._midSideSplit=new i.default.MidSideSplit,this._midSideMerge=new i.default.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},i.default.extend(i.default.MidSideEffect,i.default.Effect),i.default.MidSideEffect.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},e.default=i.default.MidSideEffect},function(t,e,n){n.r(e);var i=n(0);n(11),n(8),i.default.Convolver=function(){var t=i.default.defaults(arguments,["url","onload"],i.default.Convolver);i.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this._buffer=new i.default.Buffer(t.url,function(e){this.buffer=e.get(),t.onload()}.bind(this)),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.connectEffect(this._convolver)},i.default.extend(i.default.Convolver,i.default.Effect),i.default.Convolver.defaults={onload:i.default.noOp,normalize:!0},Object.defineProperty(i.default.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(t){this._buffer.set(t),this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver)),this._convolver.buffer=this._buffer.get()}}),Object.defineProperty(i.default.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(t){this._convolver.normalize=t}}),i.default.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},i.default.Convolver.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this},e.default=i.default.Convolver},function(t,e,n){n.r(e);var i=n(0);n(7),n(5),n(13),i.default.Modulo=function(t){i.default.SignalBase.call(this),this.createInsOuts(1,0),this._shaper=new i.default.WaveShaper(Math.pow(2,16)),this._multiply=new i.default.Multiply,this._subtract=this.output=new i.default.Subtract,this._modSignal=new i.default.Signal(t),i.default.connect(this.input,this._shaper),i.default.connect(this.input,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(t)},i.default.extend(i.default.Modulo,i.default.SignalBase),i.default.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap((function(e){return Math.floor((e+1e-4)/t)}))},Object.defineProperty(i.default.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),i.default.Modulo.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},e.default=i.default.Modulo},function(t,e,n){n.r(e);var i=n(0);n(20),n(92),i.default.OfflineContext=function(t,e,n){var s=new OfflineAudioContext(t,e*n,n);i.default.Context.call(this,{context:s,clockSource:"offline",lookAhead:0,updateInterval:128/n}),this._duration=e,this._currentTime=0},i.default.extend(i.default.OfflineContext,i.default.Context),i.default.OfflineContext.prototype.now=function(){return this._currentTime},i.default.OfflineContext.prototype.resume=function(){return Promise.resolve()},i.default.OfflineContext.prototype.render=function(){for(;this._duration-this._currentTime>=0;)this.emit("tick"),this._currentTime+=.005;return this._context.startRendering()},i.default.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()},e.default=i.default.OfflineContext},function(t,e,n){n.r(e);var i=n(0);n(16),n(11),n(76),n(40),i.default.Offline=function(t,e){var n=i.default.context.sampleRate,s=i.default.context,r=new i.default.OfflineContext(2,e,n);i.default.context=r;var a=t(i.default.Transport),o=null;return o=a&&i.default.isFunction(a.then)?a.then((function(){return r.render()})):r.render(),i.default.context=s,o.then((function(t){return new i.default.Buffer(t)}))},e.default=i.default.Offline},function(t,e,n){n.r(e);var i=n(0);n(11),i.default.Buffers=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=i.default.defaults(e,["onload","baseUrl"],i.default.Buffers);for(var s in i.default.call(this),this._buffers={},this.baseUrl=n.baseUrl,this._loadingCount=0,t)this._loadingCount++,this.add(s,t[s],this._bufferLoaded.bind(this,n.onload))},i.default.extend(i.default.Buffers),i.default.Buffers.defaults={onload:i.default.noOp,baseUrl:""},i.default.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},i.default.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},i.default.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(i.default.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var n=this.get(e);t=t&&n.loaded}return t}}),i.default.Buffers.prototype.add=function(t,e,n){return n=i.default.defaultArg(n,i.default.noOp),e instanceof i.default.Buffer?(this._buffers[t]=e,n(this)):e instanceof AudioBuffer?(this._buffers[t]=new i.default.Buffer(e),n(this)):i.default.isString(e)&&(this._buffers[t]=new i.default.Buffer(this.baseUrl+e,n)),this},i.default.Buffers.prototype.dispose=function(){for(var t in i.default.prototype.dispose.call(this),this._buffers)this._buffers[t].dispose();return this._buffers=null,this},e.default=i.default.Buffers},function(t,e,n){n.r(e);var i=n(0);i.default.CtrlPattern=function(){var t=i.default.defaults(arguments,["values","type"],i.default.CtrlPattern);i.default.call(this),this.values=t.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=t.type},i.default.extend(i.default.CtrlPattern),i.default.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},i.default.CtrlPattern.defaults={type:i.default.CtrlPattern.Type.Up,values:[]},Object.defineProperty(i.default.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var t=this.values[this.index];return this.type===i.default.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),t=this.values[this._shuffled[this.index]]),t}}}),Object.defineProperty(i.default.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._shuffled=null,this._type===i.default.CtrlPattern.Type.Up||this._type===i.default.CtrlPattern.Type.UpDown||this._type===i.default.CtrlPattern.Type.RandomOnce||this._type===i.default.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==i.default.CtrlPattern.Type.Down&&this._type!==i.default.CtrlPattern.Type.DownUp&&this._type!==i.default.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===i.default.CtrlPattern.Type.UpDown||this._type===i.default.CtrlPattern.Type.AlternateUp?this._direction=i.default.CtrlPattern.Type.Up:this._type!==i.default.CtrlPattern.Type.DownUp&&this._type!==i.default.CtrlPattern.Type.AlternateDown||(this._direction=i.default.CtrlPattern.Type.Down),this._type===i.default.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===i.default.CtrlPattern.Type.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),i.default.CtrlPattern.prototype.next=function(){var t=this.type;return t===i.default.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):t===i.default.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):t===i.default.CtrlPattern.Type.UpDown||t===i.default.CtrlPattern.Type.DownUp?(this._direction===i.default.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=i.default.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=i.default.CtrlPattern.Type.Down)):t===i.default.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):t===i.default.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):t===i.default.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):t===i.default.CtrlPattern.Type.AlternateUp?(this._direction===i.default.CtrlPattern.Type.Up?(this.index+=2,this._direction=i.default.CtrlPattern.Type.Down):(this.index-=1,this._direction=i.default.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=i.default.CtrlPattern.Type.Up)):t===i.default.CtrlPattern.Type.AlternateDown&&(this._direction===i.default.CtrlPattern.Type.Up?(this.index+=1,this._direction=i.default.CtrlPattern.Type.Down):(this.index-=2,this._direction=i.default.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=i.default.CtrlPattern.Type.Down)),this.value},i.default.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;t.length>0;){var n=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(n[0])}},i.default.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},e.default=i.default.CtrlPattern},function(t,e,n){n.r(e);var i=n(0);n(56),n(55),i.default.TransportRepeatEvent=function(t,e){i.default.TransportEvent.call(this,t,e),e=i.default.defaultArg(e,i.default.TransportRepeatEvent.defaults),this.duration=i.default.Ticks(e.duration),this._interval=i.default.Ticks(e.interval),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},i.default.extend(i.default.TransportRepeatEvent,i.default.TransportEvent),i.default.TransportRepeatEvent.defaults={duration:1/0,interval:1},i.default.TransportRepeatEvent.prototype.invoke=function(t){this._createEvents(t),i.default.TransportEvent.prototype.invoke.call(this,t)},i.default.TransportRepeatEvent.prototype._createEvents=function(t){var e=this.Transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),i.default.Ticks(this._nextTick)))},i.default.TransportRepeatEvent.prototype._restart=function(t){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this._nextTick=this.time;var e=this.Transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),i.default.Ticks(this._nextTick)),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),i.default.Ticks(this._nextTick))},i.default.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,i.default.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this},e.default=i.default.TransportRepeatEvent},function(t,e,n){n.r(e);var i=n(0);n(4),i.default.IntervalTimeline=function(){i.default.call(this),this._root=null,this._length=0},i.default.extend(i.default.IntervalTimeline),i.default.IntervalTimeline.prototype.add=function(t){if(i.default.isUndef(t.time)||i.default.isUndef(t.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");t.time=t.time.valueOf();var e=new s(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this},i.default.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var n=0;n<e.length;n++){var i=e[n];if(i.event===t){this._removeNode(i),this._length--;break}}}return this},Object.defineProperty(i.default.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),i.default.IntervalTimeline.prototype.cancel=function(t){return this.forEachFrom(t,function(t){this.remove(t)}.bind(this)),this},i.default.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},i.default.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},i.default.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,n;if(t.getBalance()>0)if(null===t.left.right)(e=t.left).right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(n)}t.dispose()},i.default.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,n=t.isLeftChild(),i=t.right;t.right=i.left,i.left=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},i.default.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,n=t.isLeftChild(),i=t.left;t.left=i.right,i.right=t,null!==e?n?e.left=i:e.right=i:this._setRoot(i)},i.default.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();e>1?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))},i.default.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),e.length>0){for(var n=e[0],i=1;i<e.length;i++)e[i].low>n.low&&(n=e[i]);return n.event}}return null},i.default.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse((function(t){e.push(t)}));for(var n=0;n<e.length;n++){var i=e[n].event;i&&t(i)}}return this},i.default.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var n=[];this._root.search(t,n);for(var i=n.length-1;i>=0;i--){var s=n[i].event;s&&e(s)}}return this},i.default.IntervalTimeline.prototype.forEachFrom=function(t,e){if(null!==this._root){var n=[];this._root.searchAfter(t,n);for(var i=n.length-1;i>=0;i--)e(n[i].event)}return this},i.default.IntervalTimeline.prototype.dispose=function(){var t=[];null!==this._root&&this._root.traverse((function(e){t.push(e)}));for(var e=0;e<t.length;e++)t[e].dispose();return t=null,this._root=null,this};var s=function(t,e,n){this.event=n,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};s.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},s.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},s.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},s.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},s.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},s.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},s.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},s.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(s.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(s.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}}),s.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},e.default=i.default.IntervalTimeline},function(t,e,n){n.r(e);var i=n(0);function s(t){return function(e,n){n=this.toSeconds(n),t.apply(this,arguments);var i=this._events.get(n),s=this._events.previousEvent(i),r=this._getTicksUntilEvent(s,n);return i.ticks=Math.max(r,0),this}}n(2),i.default.TickSignal=function(t){t=i.default.defaultArg(t,1),i.default.Signal.call(this,{units:i.default.Type.Ticks,value:t}),this._events.memory=1/0,this.cancelScheduledValues(0),this._events.add({type:i.default.Param.AutomationType.SetValue,time:0,value:t})},i.default.extend(i.default.TickSignal,i.default.Signal),i.default.TickSignal.prototype.setValueAtTime=s(i.default.Signal.prototype.setValueAtTime),i.default.TickSignal.prototype.linearRampToValueAtTime=s(i.default.Signal.prototype.linearRampToValueAtTime),i.default.TickSignal.prototype.setTargetAtTime=function(t,e,n){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var i=this._events.get(e),s=Math.round(Math.max(1/n,1)),r=0;r<=s;r++){var a=n*r+e,o=this._exponentialApproach(i.time,i.value,t,n,a);this.linearRampToValueAtTime(this._toUnits(o),a)}return this},i.default.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);for(var n=this._events.get(e),i=Math.round(Math.max(10*(e-n.time),1)),s=(e-n.time)/i,r=0;r<=i;r++){var a=s*r+n.time,o=this._exponentialInterpolate(n.time,n.value,e,t,a);this.linearRampToValueAtTime(this._toUnits(o),a)}return this},i.default.TickSignal.prototype._getTicksUntilEvent=function(t,e){if(null===t)t={ticks:0,time:0};else if(i.default.isUndef(t.ticks)){var n=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(n,t.time)}var s=this.getValueAtTime(t.time),r=this.getValueAtTime(e);return this._events.get(e).time===e&&this._events.get(e).type===i.default.Param.AutomationType.SetValue&&(r=this.getValueAtTime(e-this.sampleTime)),.5*(e-t.time)*(s+r)+t.ticks},i.default.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)},i.default.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var n=this.getTicksAtTime(e);return this.getTimeOfTick(n+t)-e},i.default.TickSignal.prototype.getTimeOfTick=function(t){var e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&n.type===i.default.Param.AutomationType.Linear&&e.value!==n.value){var s=this.getValueAtTime(e.time),r=(this.getValueAtTime(n.time)-s)/(n.time-e.time),a=Math.sqrt(Math.pow(s,2)-2*r*(e.ticks-t)),o=(-s+a)/r;return(o>0?o:(-s-a)/r)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue},i.default.TickSignal.prototype.ticksToTime=function(t,e){return e=this.toSeconds(e),new i.default.Time(this.getDurationOfTicks(t,e))},i.default.TickSignal.prototype.timeToTicks=function(t,e){e=this.toSeconds(e),t=this.toSeconds(t);var n=this.getTicksAtTime(e),s=this.getTicksAtTime(e+t);return new i.default.Ticks(s-n)},e.default=i.default.TickSignal},function(t,e,n){n.r(e);var i=n(0);n(57),n(34),n(35),n(20),i.default.Clock=function(){var t=i.default.defaults(arguments,["callback","frequency"],i.default.Clock);i.default.Emitter.call(this),this.callback=t.callback,this._nextTick=0,this._tickSource=new i.default.TickSource(t.frequency),this._lastUpdate=0,this.frequency=this._tickSource.frequency,this._readOnly("frequency"),this._state=new i.default.TimelineState(i.default.State.Stopped),this._state.setStateAtTime(i.default.State.Stopped,0),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},i.default.extend(i.default.Clock,i.default.Emitter),i.default.Clock.defaults={callback:i.default.noOp,frequency:1},Object.defineProperty(i.default.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),i.default.Clock.prototype.start=function(t,e){return this.context.resume(),t=this.toSeconds(t),this._state.getValueAtTime(t)!==i.default.State.Started&&(this._state.setStateAtTime(i.default.State.Started,t),this._tickSource.start(t,e),t<this._lastUpdate&&this.emit("start",t,e)),this},i.default.Clock.prototype.stop=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._state.setStateAtTime(i.default.State.Stopped,t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this},i.default.Clock.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===i.default.State.Started&&(this._state.setStateAtTime(i.default.State.Paused,t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this},Object.defineProperty(i.default.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}}),Object.defineProperty(i.default.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}}),i.default.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)},i.default.Clock.prototype.setTicksAtTime=function(t,e){return this._tickSource.setTicksAtTime(t,e),this},i.default.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)},i.default.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var n=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(n+t,e)},i.default.Clock.prototype._loop=function(){var t=this._lastUpdate,e=this.now();this._lastUpdate=e,t!==e&&(this._state.forEachBetween(t,e,function(t){switch(t.state){case i.default.State.Started:var e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case i.default.State.Stopped:0!==t.time&&this.emit("stop",t.time);break;case i.default.State.Paused:this.emit("pause",t.time)}}.bind(this)),this._tickSource.forEachTickBetween(t,e,function(t,e){this.callback(t,e)}.bind(this)))},i.default.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},i.default.Clock.prototype.dispose=function(){i.default.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this._tickSource.dispose(),this._tickSource=null,this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},e.default=i.default.Clock},function(t,e,n){n.r(e);var i=n(0);n(2),n(5),n(7),i.default.GreaterThanZero=function(){i.default.SignalBase.call(this),this._thresh=this.output=new i.default.WaveShaper((function(t){return t<=0?0:1}),127),this._scale=this.input=new i.default.Multiply(1e4),this._scale.connect(this._thresh)},i.default.extend(i.default.GreaterThanZero,i.default.SignalBase),i.default.GreaterThanZero.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},e.default=i.default.GreaterThanZero},function(t,e,n){n.r(e);var i=n(0);n(84),n(13),n(2),i.default.GreaterThan=function(t){i.default.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new i.default.Subtract(t),this.input[1]=this._param.input[1],this._gtz=this.output=new i.default.GreaterThanZero,this._param.connect(this._gtz)},i.default.extend(i.default.GreaterThan,i.default.Signal),i.default.GreaterThan.prototype.dispose=function(){return i.default.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},e.default=i.default.GreaterThan},function(t,e,n){n.r(e);var i=n(0);n(47),n(26),i.default.ScaledEnvelope=function(){var t=i.default.defaults(arguments,["attack","decay","sustain","release"],i.default.Envelope);i.default.Envelope.call(this,t),t=i.default.defaultArg(t,i.default.ScaledEnvelope.defaults),this._exp=this.output=new i.default.Pow(t.exponent),this._scale=this.output=new i.default.Scale(t.min,t.max),this._sig.chain(this._exp,this._scale)},i.default.extend(i.default.ScaledEnvelope,i.default.Envelope),i.default.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(i.default.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(i.default.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(i.default.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),i.default.ScaledEnvelope.prototype.dispose=function(){return i.default.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=i.default.ScaledEnvelope},function(t,e,n){n.r(e);var i=n(0);n(7),n(30),i.default.Abs=function(){i.default.SignalBase.call(this),this._abs=this.input=this.output=new i.default.WaveShaper((function(t){return Math.abs(t)<.001?0:Math.abs(t)}),1024)},i.default.extend(i.default.Abs,i.default.SignalBase),i.default.Abs.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},e.default=i.default.Abs},function(t,e,n){n.r(e);var i=n(0);n(3),n(1),i.default.Solo=function(){var t=i.default.defaults(arguments,["solo"],i.default.Solo);i.default.AudioNode.call(this),this.input=this.output=new i.default.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=t.solo},i.default.extend(i.default.Solo,i.default.AudioNode),i.default.Solo.defaults={solo:!1},Object.defineProperty(i.default.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(i.default.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),i.default.Solo.prototype._addSolo=function(){i.default.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},i.default.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}},i.default.Solo.prototype._isSoloed=function(){return!!i.default.isArray(this.context._currentSolo)&&0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this)},i.default.Solo.prototype._noSolos=function(){return!i.default.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},i.default.Solo.prototype._soloed=function(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0},i.default.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,i.default.AudioNode.prototype.dispose.call(this),this},e.default=i.default.Solo},function(t,e,n){n.r(e);var i=n(0);n(7),i.default.EqualPowerGain=function(){i.default.SignalBase.call(this),this._eqPower=this.input=this.output=new i.default.WaveShaper(function(t){return Math.abs(t)<.001?0:i.default.equalPowerScale(t)}.bind(this),4096)},i.default.extend(i.default.EqualPowerGain,i.default.SignalBase),i.default.EqualPowerGain.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},e.default=i.default.EqualPowerGain},function(t,e,n){n.r(e);var i=n(0);n(5),n(2),i.default.Negate=function(){i.default.SignalBase.call(this),this._multiply=this.input=this.output=new i.default.Multiply(-1)},i.default.extend(i.default.Negate,i.default.SignalBase),i.default.Negate.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},e.default=i.default.Negate},function(t,e,n){n.r(e);var i=n(0);n(48),n(27),n(1),i.default.PanVol=function(){var t=i.default.defaults(arguments,["pan","volume"],i.default.PanVol);i.default.AudioNode.call(this),this._panner=this.input=new i.default.Panner(t.pan),this.pan=this._panner.pan,this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,this._readOnly(["pan","volume"])},i.default.extend(i.default.PanVol,i.default.AudioNode),i.default.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(i.default.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.PanVol.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},e.default=i.default.PanVol},function(t,e,n){var i=n(0);if(i.default.supported){!i.default.global.hasOwnProperty("OfflineAudioContext")&&i.default.global.hasOwnProperty("webkitOfflineAudioContext")&&(i.default.global.OfflineAudioContext=i.default.global.webkitOfflineAudioContext);var s=new OfflineAudioContext(1,1,44100).startRendering();s&&i.default.isFunction(s.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(t){this.oncomplete=function(e){t(e.renderedBuffer)},this._native_startRendering()}.bind(this))})}},function(t,e,n){e.a="13.8.25"},function(t,e,n){n.r(e);var i=n(0);n(46),i.default.Midi=function(t,e){if(!(this instanceof i.default.Midi))return new i.default.Midi(t,e);i.default.Frequency.call(this,t,e)},i.default.extend(i.default.Midi,i.default.Frequency),i.default.Midi.prototype._defaultUnits="midi",i.default.Midi.prototype._frequencyToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._frequencyToUnits.call(this,t))},i.default.Midi.prototype._ticksToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._ticksToUnits.call(this,t))},i.default.Midi.prototype._beatsToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._beatsToUnits.call(this,t))},i.default.Midi.prototype._secondsToUnits=function(t){return i.default.Frequency.ftom(i.default.Frequency.prototype._secondsToUnits.call(this,t))},i.default.Midi.prototype.toMidi=function(){return this.valueOf()},i.default.Midi.prototype.toFrequency=function(){return i.default.Frequency.mtof(this.toMidi())},i.default.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)},e.default=i.default.Midi},function(t,e,n){n.r(e);var i=n(0);n(27),n(1),i.default.UserMedia=function(){var t=i.default.defaults(arguments,["volume"],i.default.UserMedia);i.default.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new i.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=t.mute},i.default.extend(i.default.UserMedia,i.default.AudioNode),i.default.UserMedia.defaults={volume:0,mute:!1},i.default.UserMedia.prototype.open=function(t){return this.state===i.default.State.Started&&this.close(),i.default.UserMedia.enumerateDevices().then(function(e){var n;if(i.default.isNumber(t))n=e[t];else if(!(n=e.find((function(e){return e.label===t||e.deviceId===t})))&&e.length>0)n=e[0];else if(!n&&i.default.isDefined(t))throw new Error("Tone.UserMedia: no matching device: "+t);this._device=n;var s={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};return n&&(s.audio.deviceId=n.deviceId),navigator.mediaDevices.getUserMedia(s).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),i.default.connect(this._mediaStream,this.output)),this}.bind(this))}.bind(this))},i.default.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach((function(t){t.stop()})),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},i.default.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then((function(t){return t.filter((function(t){return"audioinput"===t.kind}))}))},Object.defineProperty(i.default.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?i.default.State.Started:i.default.State.Stopped}}),Object.defineProperty(i.default.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:null}}),Object.defineProperty(i.default.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:null}}),Object.defineProperty(i.default.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:null}}),Object.defineProperty(i.default.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),i.default.UserMedia.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(i.default.UserMedia,"supported",{get:function(){return i.default.isDefined(navigator.mediaDevices)&&i.default.isFunction(navigator.mediaDevices.getUserMedia)}}),e.default=i.default.UserMedia},function(t,e,n){n.r(e);var i=n(0);n(65),n(27),n(1),i.default.Players=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=i.default.defaults(e,["onload"],i.default.Players);for(var s in i.default.AudioNode.call(this,n),this._volume=this.output=new i.default.Volume(n.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=n.mute,this._players={},this._loadingCount=0,this._fadeIn=n.fadeIn,this._fadeOut=n.fadeOut,t)this._loadingCount++,this.add(s,t[s],this._bufferLoaded.bind(this,n.onload))},i.default.extend(i.default.Players,i.default.AudioNode),i.default.Players.defaults={volume:0,mute:!1,onload:i.default.noOp,fadeIn:0,fadeOut:0},i.default.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(i.default.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(i.default.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(t){this._fadeIn=t,this._forEach((function(e){e.fadeIn=t}))}}),Object.defineProperty(i.default.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(t){this._fadeOut=t,this._forEach((function(e){e.fadeOut=t}))}}),Object.defineProperty(i.default.Players.prototype,"state",{get:function(){var t=!1;return this._forEach((function(e){t=t||e.state===i.default.State.Started})),t?i.default.State.Started:i.default.State.Stopped}}),i.default.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},i.default.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},i.default.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(i.default.Players.prototype,"loaded",{get:function(){var t=!0;return this._forEach((function(e){t=t&&e.loaded})),t}}),i.default.Players.prototype.add=function(t,e,n){return this._players[t]=new i.default.Player(e,n).connect(this.output),this._players[t].fadeIn=this._fadeIn,this._players[t].fadeOut=this._fadeOut,this},i.default.Players.prototype.stopAll=function(t){this._forEach((function(e){e.stop(t)}))},i.default.Players.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach((function(t){t.dispose()})),this._players=null,this},e.default=i.default.Players},function(t,e,n){n.r(e);var i=n(0);n(6),n(11),n(32),i.default.GrainPlayer=function(){var t=i.default.defaults(arguments,["url","onload"],i.default.GrainPlayer);i.default.Source.call(this,t),this.buffer=new i.default.Buffer(t.url,t.onload.bind(void 0,this)),this._clock=new i.default.Clock(this._tick.bind(this),t.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))},i.default.extend(i.default.GrainPlayer,i.default.Source),i.default.GrainPlayer.defaults={onload:i.default.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},i.default.GrainPlayer.prototype._start=function(t,e,n){e=i.default.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._offset=e,this._clock.start(t),n&&this.stop(t+this.toSeconds(n))},i.default.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},i.default.GrainPlayer.prototype._onstop=function(t){this._activeSources.forEach((function(e){e.fadeOut=0,e.stop(t)}))},i.default.GrainPlayer.prototype._tick=function(t){if(!this.loop&&this._offset>this.buffer.duration)this.stop(t);else{var e=this._offset<this._overlap?0:this._overlap,n=new i.default.BufferSource({buffer:this.buffer,fadeIn:e,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:i.default.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);n.start(t,this._offset),this._offset+=this.grainSize,n.stop(t+this.grainSize/this.playbackRate),this._activeSources.push(n),n.onended=function(){var t=this._activeSources.indexOf(n);-1!==t&&this._activeSources.splice(t,1)}.bind(this)}},Object.defineProperty(i.default.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(i.default.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(i.default.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(i.default.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(i.default.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(i.default.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),Object.defineProperty(i.default.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}}),i.default.GrainPlayer.prototype.dispose=function(){return i.default.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach((function(t){t.dispose()})),this._activeSources=null,this},e.default=i.default.GrainPlayer},function(t,e,n){n.r(e);var i=n(0);n(16),n(2),n(45),i.default.TransportTimelineSignal=function(){i.default.Signal.apply(this,arguments),this.output=this._outputSig=new i.default.Signal(this._initialValue),this._lastVal=this.value,this._synced=i.default.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),i.default.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},i.default.extend(i.default.TransportTimelineSignal,i.default.Signal),i.default.TransportTimelineSignal.prototype._onTick=function(t){var e=this.getValueAtTime(i.default.Transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._outputSig.linearRampToValueAtTime(e,t))},i.default.TransportTimelineSignal.prototype._anchorValue=function(t){var e=this.getValueAtTime(i.default.Transport.seconds);return this._lastVal=e,this._outputSig.cancelScheduledValues(t),this._outputSig.setValueAtTime(e,t),this},i.default.TransportTimelineSignal.prototype.getValueAtTime=function(t){return t=i.default.TransportTime(t),i.default.Signal.prototype.getValueAtTime.call(this,t)},i.default.TransportTimelineSignal.prototype.setValueAtTime=function(t,e){return e=i.default.TransportTime(e),i.default.Signal.prototype.setValueAtTime.call(this,t,e),this},i.default.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(t,e){return e=i.default.TransportTime(e),i.default.Signal.prototype.linearRampToValueAtTime.call(this,t,e),this},i.default.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(t,e){return e=i.default.TransportTime(e),i.default.Signal.prototype.exponentialRampToValueAtTime.call(this,t,e),this},i.default.TransportTimelineSignal.prototype.setTargetAtTime=function(t,e,n){return e=i.default.TransportTime(e),i.default.Signal.prototype.setTargetAtTime.call(this,t,e,n),this},i.default.TransportTimelineSignal.prototype.cancelScheduledValues=function(t){return t=i.default.TransportTime(t),i.default.Signal.prototype.cancelScheduledValues.call(this,t),this},i.default.TransportTimelineSignal.prototype.setValueCurveAtTime=function(t,e,n,s){return e=i.default.TransportTime(e),n=i.default.TransportTime(n),i.default.Signal.prototype.setValueCurveAtTime.call(this,t,e,n,s),this},i.default.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(t){return i.default.Signal.prototype.cancelAndHoldAtTime.call(this,i.default.TransportTime(t))},i.default.TransportTimelineSignal.prototype.dispose=function(){i.default.Transport.clear(this._synced),i.default.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),i.default.Signal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},e.default=i.default.TransportTimelineSignal},function(t,e,n){n.r(e);var i=n(0);n(29),n(5),i.default.Normalize=function(t,e){i.default.SignalBase.call(this),this._inputMin=i.default.defaultArg(t,0),this._inputMax=i.default.defaultArg(e,1),this._sub=this.input=new i.default.Add(0),this._div=this.output=new i.default.Multiply(1),this._sub.connect(this._div),this._setRange()},i.default.extend(i.default.Normalize,i.default.SignalBase),Object.defineProperty(i.default.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(i.default.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),i.default.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},i.default.Normalize.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},e.default=i.default.Normalize},function(t,e,n){n.r(e);var i=n(0);n(7),n(2),i.default.GainToAudio=function(){i.default.SignalBase.call(this),this._norm=this.input=this.output=new i.default.WaveShaper((function(t){return 2*Math.abs(t)-1}))},i.default.extend(i.default.GainToAudio,i.default.SignalBase),i.default.GainToAudio.prototype.dispose=function(){return i.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=i.default.GainToAudio},function(t,e,n){n.r(e);var i=n(0);n(21),n(78),n(32),i.default.Sampler=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var n=i.default.defaults(e,["onload","baseUrl"],i.default.Sampler);i.default.Instrument.call(this,n);var s={};for(var r in t)if(i.default.isNote(r))s[i.default.Frequency(r).toMidi()]=t[r];else{if(isNaN(parseFloat(r)))throw new Error("Tone.Sampler: url keys must be the note's pitch");s[r]=t[r]}this._buffers=new i.default.Buffers(s,n.onload,n.baseUrl),this._activeSources={},this.attack=n.attack,this.release=n.release,this.curve=n.curve},i.default.extend(i.default.Sampler,i.default.Instrument),i.default.Sampler.defaults={attack:0,release:.1,onload:i.default.noOp,baseUrl:"",curve:"exponential"},i.default.Sampler.prototype._findClosest=function(t){for(var e=0;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)},i.default.Sampler.prototype.triggerAttack=function(t,e,n){this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]);for(var s=0;s<t.length;s++){var r=i.default.Frequency(t[s]).toMidi(),a=this._findClosest(r),o=r-a,l=this._buffers.get(o),u=i.default.intervalToFrequencyRatio(a),c=new i.default.BufferSource({buffer:l,playbackRate:u,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);c.start(e,0,l.duration/u,n),i.default.isArray(this._activeSources[r])||(this._activeSources[r]=[]),this._activeSources[r].push(c),c.onended=function(){if(this._activeSources&&this._activeSources[r]){var t=this._activeSources[r].indexOf(c);-1!==t&&this._activeSources[r].splice(t,1)}}.bind(this)}return this},i.default.Sampler.prototype.triggerRelease=function(t,e){this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=i.default.Frequency(t[n]).toMidi();this._activeSources[s]&&this._activeSources[s].length&&(e=this.toSeconds(e),this._activeSources[s].forEach((function(t){t.stop(e)})),this._activeSources[s]=[])}return this},i.default.Sampler.prototype.releaseAll=function(t){for(var e in t=this.toSeconds(t),this._activeSources)for(var n=this._activeSources[e];n.length;)n.shift().stop(t);return this},i.default.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},i.default.Sampler.prototype.triggerAttackRelease=function(t,e,n,s){if(n=this.toSeconds(n),this.triggerAttack(t,n,s),i.default.isArray(e)&&i.default.isArray(t))for(var r=0;r<t.length;r++){var a=e[Math.min(r,e.length-1)];this.triggerRelease(t[r],n+this.toSeconds(a))}else this.triggerRelease(t,n+this.toSeconds(e));return this},i.default.Sampler.prototype.add=function(t,e,n){if(i.default.isNote(t)){var s=i.default.Frequency(t).toMidi();this._buffers.add(s,e,n)}else{if(isNaN(parseFloat(t)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+t);this._buffers.add(t,e,n)}},Object.defineProperty(i.default.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),i.default.Sampler.prototype.dispose=function(){for(var t in i.default.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[t].forEach((function(t){t.dispose()}));return this._activeSources=null,this},e.default=i.default.Sampler},function(t,e,n){n.r(e);var i=n(0);n(38),n(6),i.default.PolySynth=function(){var t=i.default.defaults(arguments,["polyphony","voice"],i.default.PolySynth);i.default.Instrument.call(this,t),(t=i.default.defaultArg(t,i.default.Instrument.defaults)).polyphony=Math.min(i.default.PolySynth.MAX_POLYPHONY,t.polyphony),this.voices=new Array(t.polyphony),this.assert(t.polyphony>0,"polyphony must be greater than 0"),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this._readOnly("detune");for(var e=0;e<t.polyphony;e++){var n=new t.voice(arguments[2],arguments[3]);if(!(n instanceof i.default.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");this.voices[e]=n,n.index=e,n.connect(this.output),n.hasOwnProperty("detune")&&this.detune.connect(n.detune)}},i.default.extend(i.default.PolySynth,i.default.Instrument),i.default.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:i.default.Synth},i.default.PolySynth.prototype._getClosestVoice=function(t,e){return this.voices.find((function(n){if(Math.abs(n.frequency.getValueAtTime(t)-i.default.Frequency(e))<1e-4&&n.getLevelAtTime(t)>1e-5)return n}))||this.voices.slice().sort(function(e,n){var i=e.getLevelAtTime(t+this.blockTime),s=n.getLevelAtTime(t+this.blockTime);return i<1e-5&&(i=0),s<1e-5&&(s=0),i-s}.bind(this))[0]},i.default.PolySynth.prototype.triggerAttack=function(t,e,n){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var i=this._getClosestVoice(e,t);i.triggerAttack(t,e,n),this.log("triggerAttack",i.index,t)}.bind(this)),this},i.default.PolySynth.prototype.triggerRelease=function(t,e){return Array.isArray(t)||(t=[t]),e=this.toSeconds(e),t.forEach(function(t){var n=this._getClosestVoice(e,t);this.log("triggerRelease",n.index,t),n.triggerRelease(e)}.bind(this)),this},i.default.PolySynth.prototype.triggerAttackRelease=function(t,e,n,s){if(n=this.toSeconds(n),this.triggerAttack(t,n,s),i.default.isArray(e)&&i.default.isArray(t))for(var r=0;r<t.length;r++){var a=e[Math.min(r,e.length-1)];this.triggerRelease(t[r],n+this.toSeconds(a))}else this.triggerRelease(t,n+this.toSeconds(e));return this},i.default.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},i.default.PolySynth.prototype.set=function(t,e,n){for(var i=0;i<this.voices.length;i++)this.voices[i].set(t,e,n);return this},i.default.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},i.default.PolySynth.prototype.releaseAll=function(t){return t=this.toSeconds(t),this.voices.forEach((function(e){e.triggerRelease(t)})),this},i.default.PolySynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this.voices.forEach((function(t){t.dispose()})),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this},i.default.PolySynth.MAX_POLYPHONY=20,e.default=i.default.PolySynth},function(t,e,n){n.r(e);var i=n(0);n(21),n(39),n(54),i.default.PluckSynth=function(t){t=i.default.defaultArg(t,i.default.PluckSynth.defaults),i.default.Instrument.call(this,t),this._noise=new i.default.Noise("pink"),this.attackNoise=t.attackNoise,this._lfcf=new i.default.LowpassCombFilter({resonance:t.resonance,dampening:t.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},i.default.extend(i.default.PluckSynth,i.default.Instrument),i.default.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7},i.default.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var n=1/t;return this._lfcf.delayTime.setValueAtTime(n,e),this._noise.start(e),this._noise.stop(e+n*this.attackNoise),this},i.default.PluckSynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},e.default=i.default.PluckSynth},function(t,e,n){n.r(e);var i=n(0);n(31),n(41),n(39),n(2),n(9),n(21),i.default.NoiseSynth=function(t){t=i.default.defaultArg(t,i.default.NoiseSynth.defaults),i.default.Instrument.call(this,t),this.noise=new i.default.Noise(t.noise),this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.noise.chain(this.envelope,this.output),this._readOnly(["noise","envelope"])},i.default.extend(i.default.NoiseSynth,i.default.Instrument),i.default.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},i.default.NoiseSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.envelope.attack+this.envelope.decay),this},i.default.NoiseSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.envelope.release),this},i.default.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},i.default.NoiseSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},i.default.NoiseSynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},e.default=i.default.NoiseSynth},function(t,e,n){n.r(e);var i=n(0),s=(n(21),n(49),n(9),n(41),n(31),n(3),n(26),n(5),[1,1.483,1.932,2.546,2.63,3.897]);i.default.MetalSynth=function(t){t=i.default.defaultArg(t,i.default.MetalSynth.defaults),i.default.Instrument.call(this,t),this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new i.default.Gain(0).connect(this.output),this._highpass=new i.default.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=t.octaves,this._filterFreqScaler=new i.default.Scale(t.resonance,7e3),this.envelope=new i.default.Envelope({attack:t.envelope.attack,attackCurve:"linear",decay:t.envelope.decay,sustain:0,release:t.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var e=0;e<s.length;e++){var n=new i.default.FMOscillator({type:"square",modulationType:"square",harmonicity:t.harmonicity,modulationIndex:t.modulationIndex});n.connect(this._highpass),this._oscillators[e]=n;var r=new i.default.Multiply(s[e]);this._freqMultipliers[e]=r,this.frequency.chain(r,n.frequency)}this.octaves=t.octaves},i.default.extend(i.default.MetalSynth,i.default.Instrument),i.default.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},i.default.MetalSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),e=i.default.defaultArg(e,1),this.envelope.triggerAttack(t,e),this._oscillators.forEach((function(e){e.start(t)})),0===this.envelope.sustain&&this._oscillators.forEach(function(e){e.stop(t+this.envelope.attack+this.envelope.decay)}.bind(this)),this},i.default.MetalSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this._oscillators.forEach(function(e){e.stop(t+this.envelope.release)}.bind(this)),this},i.default.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},i.default.MetalSynth.prototype.triggerAttackRelease=function(t,e,n){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this},Object.defineProperty(i.default.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(i.default.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(i.default.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(i.default.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),i.default.MetalSynth.prototype.dispose=function(){i.default.Instrument.prototype.dispose.call(this);for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].dispose(),this._freqMultipliers[t].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},e.default=i.default.MetalSynth},function(t,e,n){n.r(e);var i=n(0);n(37),n(21),n(31),i.default.MembraneSynth=function(t){t=i.default.defaultArg(t,i.default.MembraneSynth.defaults),i.default.Instrument.call(this,t),this.oscillator=new i.default.OmniOscillator(t.oscillator),this.envelope=new i.default.AmplitudeEnvelope(t.envelope),this.octaves=t.octaves,this.pitchDecay=t.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},i.default.extend(i.default.MembraneSynth,i.default.Instrument),i.default.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},i.default.MembraneSynth.prototype.triggerAttack=function(t,e,n){e=this.toSeconds(e);var i=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(i,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,n),this.oscillator.start(e),0===this.envelope.sustain&&this.oscillator.stop(e+this.envelope.attack+this.envelope.decay),this},i.default.MembraneSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},i.default.MembraneSynth.prototype.dispose=function(){return i.default.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},e.default=i.default.MembraneSynth},function(t,e,n){n.r(e);var i=n(0);n(38),n(2),n(5),n(25),i.default.FMSynth=function(t){t=i.default.defaultArg(t,i.default.FMSynth.defaults),i.default.Monophonic.call(this,t),this._carrier=new i.default.Synth(t.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new i.default.Synth(t.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new i.default.Signal(440,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this.modulationIndex=new i.default.Multiply(t.modulationIndex),this.modulationIndex.units=i.default.Type.Positive,this._modulationNode=new i.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},i.default.extend(i.default.FMSynth,i.default.Monophonic),i.default.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},i.default.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},i.default.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},i.default.FMSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=i.default.FMSynth},function(t,e,n){n.r(e);var i=n(0);n(66),n(12),n(2),n(5),n(25),n(14),i.default.DuoSynth=function(t){t=i.default.defaultArg(t,i.default.DuoSynth.defaults),i.default.Monophonic.call(this,t),this.voice0=new i.default.MonoSynth(t.voice0),this.voice0.volume.value=-10,this.voice1=new i.default.MonoSynth(t.voice1),this.voice1.volume.value=-10,this._vibrato=new i.default.LFO(t.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new i.default.Gain(t.vibratoAmount,i.default.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new i.default.Signal(440,i.default.Type.Frequency),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},i.default.extend(i.default.DuoSynth,i.default.Monophonic),i.default.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},i.default.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e),this},i.default.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this},i.default.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2},i.default.DuoSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},e.default=i.default.DuoSynth},function(t,e,n){n.r(e);var i=n(0);n(38),n(2),n(5),n(25),n(22),n(3),i.default.AMSynth=function(t){t=i.default.defaultArg(t,i.default.AMSynth.defaults),i.default.Monophonic.call(this,t),this._carrier=new i.default.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator.set(t.oscillator),this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new i.default.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new i.default.Signal(440,i.default.Type.Frequency),this.detune=new i.default.Signal(t.detune,i.default.Type.Cents),this.harmonicity=new i.default.Multiply(t.harmonicity),this.harmonicity.units=i.default.Type.Positive,this._modulationScale=new i.default.AudioToGain,this._modulationNode=new i.default.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},i.default.extend(i.default.AMSynth,i.default.Monophonic),i.default.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},i.default.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},i.default.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},i.default.AMSynth.prototype.dispose=function(){return i.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=i.default.AMSynth},function(t,e,n){n.r(e);var i=n(0);n(70),n(16),i.default.Sequence=function(){var t=i.default.defaults(arguments,["callback","events","subdivision"],i.default.Sequence),e=t.events;if(delete t.events,i.default.Part.call(this,t),this._subdivision=this.toTicks(t.subdivision),i.default.isUndef(t.loopEnd)&&i.default.isDefined(e)&&(this._loopEnd=e.length*this._subdivision),this._loop=!0,i.default.isDefined(e))for(var n=0;n<e.length;n++)this.add(n,e[n])},i.default.extend(i.default.Sequence,i.default.Part),i.default.Sequence.defaults={subdivision:"4n"},Object.defineProperty(i.default.Sequence.prototype,"subdivision",{get:function(){return i.default.Ticks(this._subdivision).toSeconds()}}),i.default.Sequence.prototype.at=function(t,e){return i.default.isArray(e)&&this.remove(t),i.default.Part.prototype.at.call(this,this._indexTime(t),e)},i.default.Sequence.prototype.add=function(t,e){if(null===e)return this;if(i.default.isArray(e)){var n=Math.round(this._subdivision/e.length);e=new i.default.Sequence(this._tick.bind(this),e,i.default.Ticks(n))}return i.default.Part.prototype.add.call(this,this._indexTime(t),e),this},i.default.Sequence.prototype.remove=function(t,e){return i.default.Part.prototype.remove.call(this,this._indexTime(t),e),this},i.default.Sequence.prototype._indexTime=function(t){return t instanceof i.default.TransportTime?t:i.default.Ticks(t*this._subdivision+this.startOffset).toSeconds()},i.default.Sequence.prototype.dispose=function(){return i.default.Part.prototype.dispose.call(this),this},e.default=i.default.Sequence},function(t,e,n){n.r(e);var i=n(0);n(71),n(79),i.default.Pattern=function(){var t=i.default.defaults(arguments,["callback","values","pattern"],i.default.Pattern);i.default.Loop.call(this,t),this._pattern=new i.default.CtrlPattern({values:t.values,type:t.pattern,index:t.index})},i.default.extend(i.default.Pattern,i.default.Loop),i.default.Pattern.defaults={pattern:i.default.CtrlPattern.Type.Up,callback:i.default.noOp,values:[]},i.default.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(i.default.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(i.default.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(i.default.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(i.default.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),i.default.Pattern.prototype.dispose=function(){i.default.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},e.default=i.default.Pattern},function(t,e,n){n.r(e);var i=n(0);n(8),n(18),n(12),i.default.Vibrato=function(){var t=i.default.defaults(arguments,["frequency","depth"],i.default.Vibrato);i.default.Effect.call(this,t),this._delayNode=new i.default.Delay(0,t.maxDelay),this._lfo=new i.default.LFO({type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},i.default.extend(i.default.Vibrato,i.default.Effect),i.default.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(i.default.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),i.default.Vibrato.prototype.dispose=function(){i.default.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},e.default=i.default.Vibrato},function(t,e,n){n.r(e);var i=n(0);n(12),n(15),i.default.Tremolo=function(){var t=i.default.defaults(arguments,["frequency","depth"],i.default.Tremolo);i.default.StereoEffect.call(this,t),this._lfoL=new i.default.LFO({phase:t.spread,min:1,max:0}),this._lfoR=new i.default.LFO({phase:t.spread,min:1,max:0}),this._amplitudeL=new i.default.Gain,this._amplitudeR=new i.default.Gain,this.frequency=new i.default.Signal(t.frequency,i.default.Type.Frequency),this.depth=new i.default.Signal(t.depth,i.default.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=t.type,this.spread=t.spread},i.default.extend(i.default.Tremolo,i.default.StereoEffect),i.default.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},i.default.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},i.default.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},i.default.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),i.default.Transport.syncSignal(this.frequency),this},i.default.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),i.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(i.default.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(i.default.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),i.default.Tremolo.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},e.default=i.default.Tremolo},function(t,e,n){n.r(e);var i=n(0);n(73),n(2),n(5),n(13),i.default.StereoWidener=function(){var t=i.default.defaults(arguments,["width"],i.default.StereoWidener);i.default.MidSideEffect.call(this,t),this.width=new i.default.Signal(t.width,i.default.Type.NormalRange),this._readOnly(["width"]),this._twoTimesWidthMid=new i.default.Multiply(2),this._twoTimesWidthSide=new i.default.Multiply(2),this._midMult=new i.default.Multiply,this._twoTimesWidthMid.connect(this._midMult,0,1),this.midSend.chain(this._midMult,this.midReturn),this._oneMinusWidth=new i.default.Subtract,this._oneMinusWidth.connect(this._twoTimesWidthMid),i.default.connect(this.context.getConstant(1),this._oneMinusWidth,0,0),this.width.connect(this._oneMinusWidth,0,1),this._sideMult=new i.default.Multiply,this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult,0,1),this.sideSend.chain(this._sideMult,this.sideReturn)},i.default.extend(i.default.StereoWidener,i.default.MidSideEffect),i.default.StereoWidener.defaults={width:.5},i.default.StereoWidener.prototype.dispose=function(){return i.default.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this},e.default=i.default.StereoWidener},function(t,e,n){n.r(e);var i=n(0);n(15),n(33),n(3),i.default.StereoFeedbackEffect=function(){var t=i.default.defaults(arguments,["feedback"],i.default.FeedbackEffect);i.default.StereoEffect.call(this,t),this.feedback=new i.default.Signal(t.feedback,i.default.Type.NormalRange),this._feedbackL=new i.default.Gain,this._feedbackR=new i.default.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},i.default.extend(i.default.StereoFeedbackEffect,i.default.StereoEffect),i.default.StereoFeedbackEffect.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},e.default=i.default.StereoFeedbackEffect},function(t,e,n){n.r(e);var i=n(0);n(77),n(9),n(10),n(39),n(3),n(74),i.default.Reverb=function(){var t=i.default.defaults(arguments,["decay"],i.default.Reverb);i.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this.decay=t.decay,this.preDelay=t.preDelay,this.connectEffect(this._convolver)},i.default.extend(i.default.Reverb,i.default.Effect),i.default.Reverb.defaults={decay:1.5,preDelay:.01},i.default.Reverb.prototype.generate=function(){return i.default.Offline(function(){var t=new i.default.Noise,e=new i.default.Noise,n=new i.default.Merge;t.connect(n.left),e.connect(n.right);var s=(new i.default.Gain).toMaster();n.connect(s),t.start(0),e.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this.preDelay),s.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay+this.preDelay)}.bind(this),this.decay+this.preDelay).then(function(t){return this._convolver.buffer=t.get(),this}.bind(this))},i.default.Reverb.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this},e.default=i.default.Reverb},function(t,e,n){n.r(e);var i=n(0);n(12),n(23),n(2),n(33),n(18),i.default.PitchShift=function(){var t=i.default.defaults(arguments,["pitch"],i.default.PitchShift);i.default.FeedbackEffect.call(this,t),this._frequency=new i.default.Signal(0),this._delayA=new i.default.Delay(0,1),this._lfoA=new i.default.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new i.default.Delay(0,1),this._lfoB=new i.default.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new i.default.CrossFade,this._crossFadeLFO=new i.default.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new i.default.Delay(t.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize},i.default.extend(i.default.PitchShift,i.default.FeedbackEffect),i.default.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(i.default.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(t){this._pitch=t;var e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=i.default.intervalToFrequencyRatio(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=i.default.intervalToFrequencyRatio(t)-1),this._frequency.value=e*(1.2/this._windowSize)}}),Object.defineProperty(i.default.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),i.default.PitchShift.prototype.dispose=function(){return i.default.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},e.default=i.default.PitchShift},function(t,e,n){n.r(e);var i=n(0);n(72),n(2),n(18),i.default.PingPongDelay=function(){var t=i.default.defaults(arguments,["delayTime","feedback"],i.default.PingPongDelay);i.default.StereoXFeedbackEffect.call(this,t),this._leftDelay=new i.default.Delay(0,t.maxDelayTime),this._rightDelay=new i.default.Delay(0,t.maxDelayTime),this._rightPreDelay=new i.default.Delay(0,t.maxDelayTime),this.delayTime=new i.default.Signal(t.delayTime,i.default.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},i.default.extend(i.default.PingPongDelay,i.default.StereoXFeedbackEffect),i.default.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},i.default.PingPongDelay.prototype.dispose=function(){return i.default.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},e.default=i.default.PingPongDelay},function(t,e,n){n.r(e);var i=n(0);n(12),n(9),n(15),i.default.Phaser=function(){var t=i.default.defaults(arguments,["frequency","octaves","baseFrequency"],i.default.Phaser);i.default.StereoEffect.call(this,t),this._lfoL=new i.default.LFO(t.frequency,0,1),this._lfoR=new i.default.LFO(t.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this.Q=new i.default.Signal(t.Q,i.default.Type.Positive),this._filtersL=this._makeFilters(t.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(t.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),i.default.connect(this._filtersL[t.stages-1],this.effectReturnL),i.default.connect(this._filtersR[t.stages-1],this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},i.default.extend(i.default.Phaser,i.default.StereoEffect),i.default.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},i.default.Phaser.prototype._makeFilters=function(t,e,n){for(var s=new Array(t),r=0;r<t;r++){var a=this.context.createBiquadFilter();a.type="allpass",n.connect(a.Q),e.connect(a.frequency),s[r]=a}return i.default.connectSeries.apply(i.default,s),s},Object.defineProperty(i.default.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(i.default.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),i.default.Phaser.prototype.dispose=function(){i.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var t=0;t<this._filtersL.length;t++)this._filtersL[t].disconnect(),this._filtersL[t]=null;this._filtersL=null;for(var e=0;e<this._filtersR.length;e++)this._filtersR[e].disconnect(),this._filtersR[e]=null;return this._filtersR=null,this.frequency=null,this},e.default=i.default.Phaser},function(t,e,n){n.r(e);var i=n(0),s=(n(59),n(15),n(26),[.06748,.06404,.08212,.09004]),r=[.773,.802,.753,.733],a=[347,113,37];i.default.JCReverb=function(){var t=i.default.defaults(arguments,["roomSize"],i.default.JCReverb);i.default.StereoEffect.call(this,t),this.roomSize=new i.default.Signal(t.roomSize,i.default.Type.NormalRange),this._scaleRoomSize=new i.default.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var e=0;e<a.length;e++){var n=this.context.createBiquadFilter();n.type="allpass",n.frequency.value=a[e],this._allpassFilters.push(n)}for(var o=0;o<s.length;o++){var l=new i.default.FeedbackCombFilter(s[o],.1);this._scaleRoomSize.connect(l.resonance),l.resonance.value=r[o],i.default.connect(this._allpassFilters[this._allpassFilters.length-1],l),o<s.length/2?l.connect(this.effectReturnL):l.connect(this.effectReturnR),this._feedbackCombFilters.push(l)}this.roomSize.connect(this._scaleRoomSize),i.default.connectSeries.apply(i.default,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},i.default.extend(i.default.JCReverb,i.default.StereoEffect),i.default.JCReverb.defaults={roomSize:.5},i.default.JCReverb.prototype.dispose=function(){i.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFilters.length;t++)this._allpassFilters[t].disconnect(),this._allpassFilters[t]=null;this._allpassFilters=null;for(var e=0;e<this._feedbackCombFilters.length;e++)this._feedbackCombFilters[e].dispose(),this._feedbackCombFilters[e]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},e.default=i.default.JCReverb},function(t,e,n){n.r(e);var i=n(0),s=(n(54),n(15),n(2),n(19),n(10),n(42),[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100]),r=[225,556,441,341];i.default.Freeverb=function(){var t=i.default.defaults(arguments,["roomSize","dampening"],i.default.Freeverb);i.default.StereoEffect.call(this,t),this.roomSize=new i.default.Signal(t.roomSize,i.default.Type.NormalRange),this.dampening=new i.default.Signal(t.dampening,i.default.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var e=0;e<r.length;e++){var n=this.context.createBiquadFilter();n.type="allpass",n.frequency.value=r[e],this._allpassFiltersL.push(n)}for(var a=0;a<r.length;a++){var o=this.context.createBiquadFilter();o.type="allpass",o.frequency.value=r[a],this._allpassFiltersR.push(o)}for(var l=0;l<s.length;l++){var u=new i.default.LowpassCombFilter(s[l]);l<s.length/2?this.effectSendL.chain(u,this._allpassFiltersL[0]):this.effectSendR.chain(u,this._allpassFiltersR[0]),this.roomSize.connect(u.resonance),this.dampening.connect(u.dampening),this._combFilters.push(u)}i.default.connectSeries.apply(i.default,this._allpassFiltersL),i.default.connectSeries.apply(i.default,this._allpassFiltersR),i.default.connect(this._allpassFiltersL[this._allpassFiltersL.length-1],this.effectReturnL),i.default.connect(this._allpassFiltersR[this._allpassFiltersR.length-1],this.effectReturnR),this._readOnly(["roomSize","dampening"])},i.default.extend(i.default.Freeverb,i.default.StereoEffect),i.default.Freeverb.defaults={roomSize:.7,dampening:3e3},i.default.Freeverb.prototype.dispose=function(){i.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFiltersL.length;t++)this._allpassFiltersL[t].disconnect(),this._allpassFiltersL[t]=null;this._allpassFiltersL=null;for(var e=0;e<this._allpassFiltersR.length;e++)this._allpassFiltersR[e].disconnect(),this._allpassFiltersR[e]=null;this._allpassFiltersR=null;for(var n=0;n<this._combFilters.length;n++)this._combFilters[n].dispose(),this._combFilters[n]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},e.default=i.default.Freeverb},function(t,e,n){n.r(e);var i=n(0);n(33),n(2),n(18),i.default.FeedbackDelay=function(){var t=i.default.defaults(arguments,["delayTime","feedback"],i.default.FeedbackDelay);i.default.FeedbackEffect.call(this,t),this._delayNode=new i.default.Delay(t.delayTime,t.maxDelay),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},i.default.extend(i.default.FeedbackDelay,i.default.FeedbackEffect),i.default.FeedbackDelay.defaults={delayTime:.25,maxDelay:1},i.default.FeedbackDelay.prototype.dispose=function(){return i.default.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},e.default=i.default.FeedbackDelay},function(t,e,n){n.r(e);var i=n(0);n(8),n(7),i.default.Distortion=function(){var t=i.default.defaults(arguments,["distortion"],i.default.Distortion);i.default.Effect.call(this,t),this._shaper=new i.default.WaveShaper(4096),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample},i.default.extend(i.default.Distortion,i.default.Effect),i.default.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(i.default.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){this._distortion=t;var e=100*t,n=Math.PI/180;this._shaper.setMap((function(t){return Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))}))}}),Object.defineProperty(i.default.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),i.default.Distortion.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=i.default.Distortion},function(t,e,n){n.r(e);var i=n(0);n(12),n(15),n(18),i.default.Chorus=function(){var t=i.default.defaults(arguments,["frequency","delayTime","depth"],i.default.Chorus);i.default.StereoEffect.call(this,t),this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new i.default.LFO({frequency:t.frequency,min:0,max:1}),this._lfoR=new i.default.LFO({frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new i.default.Delay,this._delayNodeR=new i.default.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=t.frequency,this.type=t.type,this._readOnly(["frequency"]),this.spread=t.spread},i.default.extend(i.default.Chorus,i.default.StereoEffect),i.default.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180},Object.defineProperty(i.default.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(i.default.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(i.default.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(i.default.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),i.default.Chorus.prototype.dispose=function(){return i.default.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},e.default=i.default.Chorus},function(t,e,n){n.r(e);var i=n(0);n(8),n(7),i.default.Chebyshev=function(){var t=i.default.defaults(arguments,["order"],i.default.Chebyshev);i.default.Effect.call(this,t),this._shaper=new i.default.WaveShaper(4096),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample},i.default.extend(i.default.Chebyshev,i.default.Effect),i.default.Chebyshev.defaults={order:1,oversample:"none"},i.default.Chebyshev.prototype._getCoefficient=function(t,e,n){return n.hasOwnProperty(e)?n[e]:(n[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n),n[e])},Object.defineProperty(i.default.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),n=e.length,i=0;i<n;++i){var s=2*i/n-1;e[i]=0===s?0:this._getCoefficient(s,t,{})}this._shaper.curve=e}}),Object.defineProperty(i.default.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),i.default.Chebyshev.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=i.default.Chebyshev},function(t,e,n){n.r(e);var i=n(0);n(8),n(13),n(75),i.default.BitCrusher=function(){var t=i.default.defaults(arguments,["bits"],i.default.BitCrusher);i.default.Effect.call(this,t);var e=1/Math.pow(2,t.bits-1);this._subtract=new i.default.Subtract,this._modulo=new i.default.Modulo(e),this._bits=t.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},i.default.extend(i.default.BitCrusher,i.default.Effect),i.default.BitCrusher.defaults={bits:4},Object.defineProperty(i.default.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),i.default.BitCrusher.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},e.default=i.default.BitCrusher},function(t,e,n){n.r(e);var i=n(0);n(58),n(42),n(8),n(9),i.default.AutoWah=function(){var t=i.default.defaults(arguments,["baseFrequency","octaves","sensitivity"],i.default.AutoWah);i.default.Effect.call(this,t),this.follower=new i.default.Follower(t.follower),this._sweepRange=new i.default.ScaleExp(0,1,.5),this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this._inputBoost=new i.default.Gain,this._bandpass=new i.default.Filter({rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new i.default.Filter(0,"peaking"),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,this._readOnly(["gain","Q"])},i.default.extend(i.default.AutoWah,i.default.Effect),i.default.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(i.default.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(i.default.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(i.default.AutoWah.prototype,"sensitivity",{get:function(){return i.default.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/i.default.dbToGain(t)}}),i.default.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},i.default.AutoWah.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},e.default=i.default.AutoWah},function(t,e,n){n.r(e);var i=n(0);n(8),n(12),n(48),i.default.AutoPanner=function(){var t=i.default.defaults(arguments,["frequency"],i.default.AutoPanner);i.default.Effect.call(this,t),this._lfo=new i.default.LFO({frequency:t.frequency,amplitude:t.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new i.default.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=t.type,this._readOnly(["depth","frequency"])},i.default.extend(i.default.AutoPanner,i.default.Effect),i.default.AutoPanner.defaults={frequency:1,type:"sine",depth:1},i.default.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},i.default.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},i.default.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},i.default.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(i.default.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),i.default.AutoPanner.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},e.default=i.default.AutoPanner},function(t,e,n){n.r(e);var i=n(0);n(8),n(12),n(9),i.default.AutoFilter=function(){var t=i.default.defaults(arguments,["frequency","baseFrequency","octaves"],i.default.AutoFilter);i.default.Effect.call(this,t),this._lfo=new i.default.LFO({frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new i.default.Filter(t.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=t.type,this._readOnly(["frequency","depth"]),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency},i.default.extend(i.default.AutoFilter,i.default.Effect),i.default.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},i.default.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},i.default.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},i.default.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},i.default.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(i.default.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(i.default.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(i.default.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),i.default.AutoFilter.prototype.dispose=function(){return i.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},e.default=i.default.AutoFilter},function(t,e,n){n.r(e);var i=n(0);n(23),n(10),n(19),n(2),n(22),n(28),i.default.Listener=function(){i.default.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],i.default.getContext(function(){this.set(s.defaults)}.bind(this))},i.default.extend(i.default.Listener),i.default.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},i.default.Listener.prototype.isListener=!0,i.default.Listener.prototype._rampTimeConstant=.01,i.default.Listener.prototype.setPosition=function(t,e,n){if(this.context.rawContext.listener.positionX){var i=this.now();this.context.rawContext.listener.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this.context.rawContext.listener.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this.context.rawContext.listener.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this.context.rawContext.listener.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},i.default.Listener.prototype.setOrientation=function(t,e,n,i,s,r){if(this.context.rawContext.listener.forwardX){var a=this.now();this.context.rawContext.listener.forwardX.setTargetAtTime(t,a,this._rampTimeConstant),this.context.rawContext.listener.forwardY.setTargetAtTime(e,a,this._rampTimeConstant),this.context.rawContext.listener.forwardZ.setTargetAtTime(n,a,this._rampTimeConstant),this.context.rawContext.listener.upX.setTargetAtTime(i,a,this._rampTimeConstant),this.context.rawContext.listener.upY.setTargetAtTime(s,a,this._rampTimeConstant),this.context.rawContext.listener.upZ.setTargetAtTime(r,a,this._rampTimeConstant)}else this.context.rawContext.listener.setOrientation(t,e,n,i,s,r);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(i.default.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(i.default.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(i.default.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(i.default.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(i.default.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(i.default.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(i.default.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(i.default.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(i.default.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),i.default.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var s=i.default.Listener;i.default.Listener=new s,i.default.Context.on("init",(function(t){t.listener&&t.listener.isListener?i.default.Listener=t.listener:i.default.Listener=new s})),e.default=i.default.Listener},function(t,e,n){n.r(e);var i=n(0);n(24),i.default.Draw=function(){i.default.call(this),this._events=new i.default.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},i.default.extend(i.default.Draw),i.default.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},i.default.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},i.default.Draw.prototype._drawLoop=function(){for(var t=i.default.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=t;){var e=this._events.shift();t-e.time<=this.expiration&&e.callback()}this._events.length>0&&requestAnimationFrame(this._boundDrawLoop)},i.default.Draw=new i.default.Draw,e.default=i.default.Draw},function(t,e,n){n.r(e);var i=n(0),s=(n(3),{});i.default.prototype.send=function(t,e){s.hasOwnProperty(t)||(s[t]=this.context.createGain()),e=i.default.defaultArg(e,0);var n=new i.default.Gain(e,i.default.Type.Decibels);return this.connect(n),n.connect(s[t]),n},i.default.prototype.receive=function(t,e){return s.hasOwnProperty(t)||(s[t]=this.context.createGain()),i.default.connect(s[t],this,0,e),this},i.default.Context.on("init",(function(t){t.buses?s=t.buses:(s={},t.buses=s)})),e.default=i.default},function(t,e,n){n.r(e);var i=n(0);n(4),i.default.CtrlRandom=function(){var t=i.default.defaults(arguments,["min","max"],i.default.CtrlRandom);i.default.call(this),this.min=t.min,this.max=t.max,this.integer=t.integer},i.default.extend(i.default.CtrlRandom),i.default.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(i.default.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),n=Math.random(),i=n*t+(1-n)*e;return this.integer&&(i=Math.floor(i)),i}}),e.default=i.default.CtrlRandom},function(t,e,n){n.r(e);var i=n(0);i.default.CtrlMarkov=function(t,e){i.default.call(this),this.values=i.default.defaultArg(t,{}),this.value=i.default.defaultArg(e,Object.keys(this.values)[0])},i.default.extend(i.default.CtrlMarkov),i.default.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var t=this.values[this.value];if(i.default.isArray(t))for(var e=this._getProbDistribution(t),n=Math.random(),s=0,r=0;r<e.length;r++){var a=e[r];if(n>s&&n<s+a){var o=t[r];i.default.isObject(o)?this.value=o.value:this.value=o}s+=a}else this.value=t}return this.value},i.default.CtrlMarkov.prototype._getProbDistribution=function(t){for(var e=[],n=0,s=!1,r=0;r<t.length;r++){var a=t[r];i.default.isObject(a)?(s=!0,e[r]=a.probability):e[r]=1/t.length,n+=e[r]}if(s)for(var o=0;o<e.length;o++)e[o]=e[o]/n;return e},i.default.CtrlMarkov.prototype.dispose=function(){this.values=null},e.default=i.default.CtrlMarkov},function(t,e,n){n.r(e);var i=n(0);n(4),i.default.CtrlInterpolate=function(){var t=i.default.defaults(arguments,["values","index"],i.default.CtrlInterpolate);i.default.call(this),this.values=t.values,this.index=t.index},i.default.extend(i.default.CtrlInterpolate),i.default.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(i.default.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),n=this.values[e],i=this.values[Math.ceil(t)];return this._interpolate(t-e,n,i)}}),i.default.CtrlInterpolate.prototype._interpolate=function(t,e,n){if(i.default.isArray(e)){for(var s=[],r=0;r<e.length;r++)s[r]=this._interpolate(t,e[r],n[r]);return s}if(i.default.isObject(e)){var a={};for(var o in e)a[o]=this._interpolate(t,e[o],n[o]);return a}return(1-t)*(e=this._toNumber(e))+t*this._toNumber(n)},i.default.CtrlInterpolate.prototype._toNumber=function(t){return i.default.isNumber(t)?t:this.toSeconds(t)},i.default.CtrlInterpolate.prototype.dispose=function(){this.values=null},e.default=i.default.CtrlInterpolate},function(t,e,n){n.r(e);var i=n(0);n(36),n(1),i.default.Waveform=function(){var t=i.default.defaults(arguments,["size"],i.default.Waveform);t.type=i.default.Analyser.Type.Waveform,i.default.AudioNode.call(this),this._analyser=this.input=this.output=new i.default.Analyser(t)},i.default.extend(i.default.Waveform,i.default.AudioNode),i.default.Waveform.defaults={size:1024},i.default.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(i.default.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),i.default.Waveform.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=i.default.Waveform},function(t,e,n){n.r(e);var i=n(0);n(23),n(10),n(19),n(2),n(22),n(28),n(1),i.default.Panner3D=function(){var t=i.default.defaults(arguments,["positionX","positionY","positionZ"],i.default.Panner3D);i.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=t.panningModel,this._panner.maxDistance=t.maxDistance,this._panner.distanceModel=t.distanceModel,this._panner.coneOuterGain=t.coneOuterGain,this._panner.coneOuterAngle=t.coneOuterAngle,this._panner.coneInnerAngle=t.coneInnerAngle,this._panner.refDistance=t.refDistance,this._panner.rolloffFactor=t.rolloffFactor,this._orientation=[t.orientationX,t.orientationY,t.orientationZ],this._position=[t.positionX,t.positionY,t.positionZ],this.orientationX=t.orientationX,this.orientationY=t.orientationY,this.orientationZ=t.orientationZ,this.positionX=t.positionX,this.positionY=t.positionY,this.positionZ=t.positionZ},i.default.extend(i.default.Panner3D,i.default.AudioNode),i.default.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},i.default.Panner3D.prototype._rampTimeConstant=.01,i.default.Panner3D.prototype.setPosition=function(t,e,n){if(this._panner.positionX){var i=this.now();this._panner.positionX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setPosition(t,e,n);return this._position=Array.prototype.slice.call(arguments),this},i.default.Panner3D.prototype.setOrientation=function(t,e,n){if(this._panner.orientationX){var i=this.now();this._panner.orientationX.setTargetAtTime(t,i,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,i,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(n,i,this._rampTimeConstant)}else this._panner.setOrientation(t,e,n);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(i.default.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(i.default.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(i.default.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(i.default.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(i.default.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(i.default.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),i.default.Panner3D._aliasProperty=function(t){Object.defineProperty(i.default.Panner3D.prototype,t,{set:function(e){this._panner[t]=e},get:function(){return this._panner[t]}})},i.default.Panner3D._aliasProperty("panningModel"),i.default.Panner3D._aliasProperty("refDistance"),i.default.Panner3D._aliasProperty("rolloffFactor"),i.default.Panner3D._aliasProperty("distanceModel"),i.default.Panner3D._aliasProperty("coneInnerAngle"),i.default.Panner3D._aliasProperty("coneOuterAngle"),i.default.Panner3D._aliasProperty("coneOuterGain"),i.default.Panner3D._aliasProperty("maxDistance"),i.default.Panner3D.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},e.default=i.default.Panner3D},function(t,e,n){n.r(e);var i=n(0);n(60),n(43),n(1),i.default.MultibandCompressor=function(t){i.default.AudioNode.call(this),t=i.default.defaultArg(arguments,i.default.MultibandCompressor.defaults),this._splitter=this.input=new i.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new i.default.Gain,this.low=new i.default.Compressor(t.low),this.mid=new i.default.Compressor(t.mid),this.high=new i.default.Compressor(t.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},i.default.extend(i.default.MultibandCompressor,i.default.AudioNode),i.default.MultibandCompressor.defaults={low:i.default.Compressor.defaults,mid:i.default.Compressor.defaults,high:i.default.Compressor.defaults,lowFrequency:250,highFrequency:2e3},i.default.MultibandCompressor.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},e.default=i.default.MultibandCompressor},function(t,e,n){n.r(e);var i=n(0);n(10),n(1),i.default.Mono=function(){i.default.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new i.default.Merge,i.default.connect(this.input,this._merge,0,0),i.default.connect(this.input,this._merge,0,1)},i.default.extend(i.default.Mono,i.default.AudioNode),i.default.Mono.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},e.default=i.default.Mono},function(t,e,n){n.r(e);var i=n(0);n(53),n(52),n(43),n(1),i.default.MidSideCompressor=function(t){i.default.AudioNode.call(this),t=i.default.defaultArg(t,i.default.MidSideCompressor.defaults),this._midSideSplit=this.input=new i.default.MidSideSplit,this._midSideMerge=this.output=new i.default.MidSideMerge,this.mid=new i.default.Compressor(t.mid),this.side=new i.default.Compressor(t.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},i.default.extend(i.default.MidSideCompressor,i.default.AudioNode),i.default.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},i.default.MidSideCompressor.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},e.default=i.default.MidSideCompressor},function(t,e,n){n.r(e);var i=n(0);n(36),n(1),i.default.Meter=function(){var t=i.default.defaults(arguments,["smoothing"],i.default.Meter);i.default.AudioNode.call(this),this.smoothing=t.smoothing,this._rms=0,this.input=this.output=this._analyser=new i.default.Analyser("waveform",256)},i.default.extend(i.default.Meter,i.default.AudioNode),i.default.Meter.defaults={smoothing:.8},i.default.Meter.prototype.getLevel=function(){for(var t=this._analyser.getValue(),e=0,n=0;n<t.length;n++){var s=t[n];e+=s*s}var r=Math.sqrt(e/t.length);return this._rms=Math.max(r,this._rms*this.smoothing),i.default.gainToDb(this._rms)},i.default.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]},i.default.Meter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},e.default=i.default.Meter},function(t,e,n){n.r(e);var i=n(0);n(43),n(1),i.default.Limiter=function(){var t=i.default.defaults(arguments,["threshold"],i.default.Limiter);i.default.AudioNode.call(this),this._compressor=this.input=this.output=new i.default.Compressor({attack:.001,decay:.001,threshold:t.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},i.default.extend(i.default.Limiter,i.default.AudioNode),i.default.Limiter.defaults={threshold:-12},i.default.Limiter.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},e.default=i.default.Limiter},function(t,e,n){n.r(e);var i=n(0);n(58),n(85),n(1),i.default.Gate=function(){var t=i.default.defaults(arguments,["threshold","smoothing"],i.default.Gate);i.default.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new i.default.Follower(t.smoothing),this._gt=new i.default.GreaterThan(i.default.dbToGain(t.threshold)),i.default.connect(this.input,this.output),i.default.connectSeries(this.input,this._follower,this._gt,this.output.gain)},i.default.extend(i.default.Gate,i.default.AudioNode),i.default.Gate.defaults={smoothing:.1,threshold:-40},Object.defineProperty(i.default.Gate.prototype,"threshold",{get:function(){return i.default.gainToDb(this._gt.value)},set:function(t){this._gt.value=i.default.dbToGain(t)}}),Object.defineProperty(i.default.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(t){this._follower.smoothing=t}}),i.default.Gate.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},e.default=i.default.Gate},function(t,e,n){n.r(e);var i=n(0);n(36),n(1),i.default.FFT=function(){var t=i.default.defaults(arguments,["size"],i.default.FFT);t.type=i.default.Analyser.Type.FFT,i.default.AudioNode.call(this),this._analyser=this.input=this.output=new i.default.Analyser(t)},i.default.extend(i.default.FFT,i.default.AudioNode),i.default.FFT.defaults={size:1024},i.default.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(i.default.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),i.default.FFT.prototype.dispose=function(){i.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=i.default.FFT},function(t,e,n){n.r(e);var i=n(0);n(60),n(3),n(1),i.default.EQ3=function(){var t=i.default.defaults(arguments,["low","mid","high"],i.default.EQ3);i.default.AudioNode.call(this),this.output=new i.default.Gain,this._multibandSplit=this.input=new i.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this._lowGain=new i.default.Gain(t.low,i.default.Type.Decibels),this._midGain=new i.default.Gain(t.mid,i.default.Type.Decibels),this._highGain=new i.default.Gain(t.high,i.default.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},i.default.extend(i.default.EQ3,i.default.AudioNode),i.default.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},i.default.EQ3.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},e.default=i.default.EQ3},function(t,e,n){n.r(e);var i=n(0);n(91),n(88),n(1),i.default.Channel=function(){var t=i.default.defaults(arguments,["volume","pan"],i.default.PanVol);i.default.AudioNode.call(this,t),this._solo=this.input=new i.default.Solo(t.solo),this._panVol=this.output=new i.default.PanVol({pan:t.pan,volume:t.volume,mute:t.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),this._readOnly(["pan","volume"])},i.default.extend(i.default.Channel,i.default.AudioNode),i.default.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1},Object.defineProperty(i.default.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(t){this._solo.solo=t}}),Object.defineProperty(i.default.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}}),Object.defineProperty(i.default.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(t){this._panVol.mute=t}}),i.default.Channel.prototype.dispose=function(){return i.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this},e.default=i.default.Channel},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){n(31),n(36),n(146),n(43),n(23),n(47),n(145),n(59),n(144),n(9),n(58),n(41),n(143),n(12),n(142),n(54),n(10),n(141),n(140),n(52),n(53),n(139),n(138),n(60),n(48),n(137),n(91),n(86),n(88),n(19),n(27),n(136),n(135),n(134),n(79),n(133),n(1),n(11),n(78),n(132),n(83),n(20),n(18),n(131),n(35),n(3),n(81),n(130),n(40),n(77),n(76),n(14),n(24),n(34),n(16),n(56),n(80),n(129),n(128),n(127),n(126),n(125),n(124),n(74),n(123),n(8),n(122),n(33),n(121),n(120),n(73),n(119),n(118),n(117),n(116),n(15),n(115),n(114),n(72),n(113),n(112),n(51),n(71),n(70),n(111),n(110),n(109),n(108),n(107),n(21),n(106),n(105),n(25),n(66),n(104),n(103),n(102),n(101),n(38),n(87),n(29),n(22),n(89),n(100),n(85),n(84),n(75),n(5),n(90),n(99),n(61),n(26),n(42),n(2),n(30),n(13),n(82),n(98),n(7),n(28),n(68),n(32),n(67),n(49),n(97),n(39),n(37),n(17),n(64),n(65),n(96),n(50),n(69),n(6),n(57),n(95),n(46),n(94),n(55),n(63),n(62),n(45),n(4),t.exports=n(0).default}])})),dt=ut(ht),pt=(ht.Tone,t=>({ranges:[{label:"Volume",param:"volume",min:-80,max:0,value:35},{label:"Grain Size",param:"grainSize",min:.01,max:.5,value:13},{label:"Playback Rate",param:"playbackRate",min:.5,max:2,value:11},{label:"Detune",param:"detune",min:-1200,max:1200,value:18},{label:"Overlap",param:"overlap",min:.01,max:.2,value:17},{label:"Loop Start",param:"loopStart",min:0,max:t.buffer.duration,value:0},{label:"Loop End",param:"loopEnd",min:0,max:t.buffer.duration,value:0}],effects:[{label:"Bit Crusher",min:0,max:8,value:35},{label:"Delay Time",min:0,max:1,value:0},{label:"Feedback",min:0,max:1,value:0},{label:"Highpass Filter",min:0,max:1e4,value:0},{label:"Lowpass Filter",min:0,max:1e4,value:35}]}));const ft=t=>t.player.loopEnd?t.player.loopEnd-t.player.loopStart:t.player.buffer.duration-t.player.loopStart,mt=t=>{const e=t.player.buffer.duration-t.player.loopEnd,n=t.player.buffer.duration-t.player.loopStart;t.player.loopStart=e,t.player.loopEnd=n,t.ranges.forEach(t=>{if("loopStart"===t.param){const n=(t.max-t.min)/35;t.value=parseInt(e/n)}else if("loopEnd"===t.param){const e=(t.max-t.min)/35;t.value=parseInt(n/e)}})},_t=t=>{"O"!==t.mode&&(t.mode="O"),t.player.stop(),t.player.reverse&&(t.player.reverse=!1,mt(t)),t.player.start(void 0,t.player.loopStart,ft(t))},yt=t=>{"L"!==t.mode&&(t.mode="L"),t.player.reverse&&(t.player.reverse=!1,mt(t)),t.player.start(void 0,t.player.loopStart)},gt=t=>{"R"!==t.mode&&(t.mode="R"),t.player.stop(),t.player.reverse||(t.player.reverse=!0,mt(t)),t.player.start(void 0,t.player.loopStart,ft(t))},vt=t=>{"Q"!==t.mode&&(t.mode="Q"),t.player.reverse||(t.player.reverse=!0,mt(t)),t.player.start(void 0,t.player.loopStart)},bt=t=>{"."!==t.mode&&(t.mode="."),t.player.stop()},xt={name:null,player:null,isPlay:!1,mode:"."};const kt=lt(null),wt=function(){const{subscribe:t,set:e,update:n}=lt(new Array(16).fill(xt));return{subscribe:t,setPlayer:(t,e,i)=>{const s=new dt.GrainPlayer(i,()=>{const i=new dt.BitCrusher(8),r=new dt.Filter(1,"highpass"),a=new dt.Filter(1e4,"lowpass"),o=new dt.FeedbackDelay(0,0),l=new dt.Limiter(-20);s.loop=!0,s.connect(i),i.connect(o),o.connect(r),r.connect(a),a.connect(l),l.toMaster(),n(n=>n.map((n,u)=>u===t?{name:e,player:s,mode:".",crusher:i,filterHP:r,filterLP:a,feedbackDelay:o,limiter:l,...pt(s)}:n))})},msg:(t,e,i)=>n(n=>n.map((n,s)=>t===s&&n.player?0===e?(24===i?_t(n):21===i?yt(n):27===i?gt(n):26===i?vt(n):bt(n),n):e>0&&e<=7?((t,e,n)=>{const i=t.ranges.map((i,s)=>{if(s!==e-1)return i;const r=(i.max-i.min)/35;return 0===s?t.player.volume.value=i.min+r*n:t.player[i.param]=i.min+r*n,{...i,value:n}});return{...t,ranges:i}})(n,e,i):e>7&&e<=12?((t,e,n)=>{const i=t.effects.map((i,s)=>{if(s!==e-8)return i;const r=(i.max-i.min)/35,a=i.min+r*n;return 0===s?t.crusher.bits=a:1===s?t.feedbackDelay.delayTime.value=a:2===s?t.feedbackDelay.feedback.value=a:3===s?t.filterHP.frequency.value=a:4===s&&(t.filterLP.frequency.value=a),{...i,value:n}});return{...t,effects:i}})(n,e,i):n:n)),del:t=>n(e=>e.map((e,n)=>n===t?(e.player.dispose(),e.crusher.dispose(),e.filterHP.dispose(),e.filterLP.dispose(),e.limiter.dispose(),xt):e))}}(),{dialog:St,app:$t}=require("electron").remote;var Tt=async()=>{const t=await St.showOpenDialog($t.win,{properties:["openDirectory"]});if(t)return t.filePaths[0];console.log("Nothing to load")};function At(e){let n,i,s,r;return{c(){n=v("svg"),i=v("path"),s=x(),r=g("span"),r.textContent="MIDI controlled granular sampler",S(i,"stroke","#fff"),S(i,"stroke-linecap","round"),S(i,"stroke-linejoin","round"),S(i,"stroke-width","15"),S(i,"d","M60 120a60 60 0 0160-60 60 60 0 0160 60 60 60 0 01-60 60 60 60 0\n    01-60-60m180 30a30 30 0 0130-30 30 30 0 0130 30 30 30 0 01-30 30 30 30 0\n    01-30-30m-120 30h150m-120"),S(i,"class","svelte-l7rx0g"),S(n,"xmlns","http://www.w3.org/2000/svg"),S(n,"fill","none"),S(n,"baseProfile","full"),S(n,"viewBox","0 0 360 200"),S(n,"class","svelte-l7rx0g"),S(r,"class","svelte-l7rx0g")},m(t,e){m(t,n,e),f(n,i),m(t,s,e),m(t,r,e)},p:t,i:t,o:t,d(t){t&&_(n),t&&_(s),t&&_(r)}}}class Et extends at{constructor(t){super(),rt(this,t,null,At,a,{})}}function Ct(e){let n,i,r,a,o,l;const u=new Et({});return{c(){et(u.$$.fragment),n=x(),i=g("button"),i.textContent="Select Samples Folder",r=x(),a=g("span"),a.textContent="(press Enter)",S(a,"class","svelte-hl76bk"),l=[w(window,"keydown",e[1]),w(i,"click",e[0])]},m(t,e){nt(u,t,e),m(t,n,e),m(t,i,e),m(t,r,e),m(t,a,e),o=!0},p:t,i(t){o||(J(u.$$.fragment,t),o=!0)},o(t){K(u.$$.fragment,t),o=!1},d(t){it(u,t),t&&_(n),t&&_(i),t&&_(r),t&&_(a),s(l)}}}function Pt(t){const e=async()=>{const t=await Tt();kt.set(t)};return[e,function(t){"Enter"===t.key&&e()}]}class Ot extends at{constructor(t){super(),rt(this,t,Pt,Ct,a,{})}}const qt=lt(0),Mt=lt(1);const Lt=function(){const{subscribe:t,set:e,update:n}=lt(new Array(16).fill(!1)),i=(t,e,n)=>t.map((t,i)=>i===e?n:t);return{subscribe:t,play:t=>{n(e=>i(e,t,!0));const e=setTimeout(()=>{n(e=>i(e,t,!1)),clearTimeout(e)},100)}}}();function Rt(t){const e=t-1;return e*e*e+1}function Nt(t,{delay:e=0,duration:n=400,easing:i=Rt}){const s=getComputedStyle(t),r=+s.opacity,a=parseFloat(s.height),o=parseFloat(s.paddingTop),l=parseFloat(s.paddingBottom),u=parseFloat(s.marginTop),c=parseFloat(s.marginBottom),h=parseFloat(s.borderTopWidth),d=parseFloat(s.borderBottomWidth);return{delay:e,duration:n,easing:i,css:t=>"overflow: hidden;"+`opacity: ${Math.min(20*t,1)*r};`+`height: ${t*a}px;`+`padding-top: ${t*o}px;`+`padding-bottom: ${t*l}px;`+`margin-top: ${t*u}px;`+`margin-bottom: ${t*c}px;`+`border-top-width: ${t*h}px;`+`border-bottom-width: ${t*d}px;`}}function It(e){let n,i,r,a,o,l,u,c,h,d,p,y,v,k,A,E,C=Number(e[1]).toString(16).toUpperCase()+"",P=e[0].mode+"",O=e[0].name+"";return{c(){n=g("div"),i=g("span"),r=b("!"),a=b(C),o=b("0"),l=b(P),u=x(),c=g("span"),c.textContent="|",h=x(),d=g("button"),p=b(O),y=x(),v=g("span"),v.textContent="|",k=x(),A=g("button"),A.textContent="X",S(i,"class","channel svelte-29p2l3"),T(i,"play",e[2][e[1]]),S(c,"class","split svelte-29p2l3"),S(d,"class","name svelte-29p2l3"),T(d,"active",e[3]===e[1]),S(v,"class","split svelte-29p2l3"),S(A,"class","remove"),T(A,"hide",!e[0].name),S(n,"class","svelte-29p2l3"),E=[w(d,"click",e[4]),w(A,"click",e[5])]},m(t,e){m(t,n,e),f(n,i),f(i,r),f(i,a),f(i,o),f(i,l),f(n,u),f(n,c),f(n,h),f(n,d),f(d,p),f(n,y),f(n,v),f(n,k),f(n,A)},p(t,[e]){2&e&&C!==(C=Number(t[1]).toString(16).toUpperCase()+"")&&$(a,C),1&e&&P!==(P=t[0].mode+"")&&$(l,P),6&e&&T(i,"play",t[2][t[1]]),1&e&&O!==(O=t[0].name+"")&&$(p,O),10&e&&T(d,"active",t[3]===t[1]),1&e&&T(A,"hide",!t[0].name)},i:t,o:t,d(t){t&&_(n),s(E)}}}function Ft(t,e,n){let i,s;o(t,Lt,t=>n(2,i=t)),o(t,qt,t=>n(3,s=t));let{tape:r}=e,{channel:a}=e;return t.$set=t=>{"tape"in t&&n(0,r=t.tape),"channel"in t&&n(1,a=t.channel)},[r,a,i,s,()=>{qt.set(a)},()=>{wt.del(a)}]}class Dt extends at{constructor(t){super(),rt(this,t,Ft,It,a,{tape:0,channel:1})}}const Bt=require("fs");var Vt=t=>new Promise((e,n)=>{Bt.readdir(t,(t,n)=>{e(n.filter(t=>t.toLowerCase().endsWith("wav")).map(t=>t.split(".")[0]))})});function jt(t,e,n){const i=t.slice();return i[9]=e[n],i[11]=n,i}function Ut(e){let n;return{c(){n=g("li"),n.textContent="LOADING..."},m(t,e){m(t,n,e)},p:t,d(t){t&&_(n)}}}function Gt(t){let e,n=t[0],i=[];for(let e=0;e<n.length;e+=1)i[e]=Wt(jt(t,n,e));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=k()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);m(t,e,n)},p(t,s){if(15&s){let r;for(n=t[0],r=0;r<n.length;r+=1){const a=jt(t,n,r);i[r]?i[r].p(a,s):(i[r]=Wt(a),i[r].c(),i[r].m(e.parentNode,e))}for(;r<i.length;r+=1)i[r].d(1);i.length=n.length}},d(t){y(i,t),t&&_(e)}}}function Wt(t){let e,n,i,r,a,o=t[9]+"";function l(...e){return t[7](t[11],...e)}function u(...e){return t[8](t[11],...e)}return{c(){e=g("li"),n=g("button"),i=b(o),r=x(),S(n,"class","svelte-1jq13sv"),T(n,"current",t[11]===t[1]),a=[w(n,"mouseover",l),w(n,"click",u)]},m(t,s){m(t,e,s),f(e,n),f(n,i),f(e,r)},p(e,s){t=e,1&s&&o!==(o=t[9]+"")&&$(i,o),2&s&&T(n,"current",t[11]===t[1])},d(t){t&&_(e),s(a)}}}function zt(e){let n,i,s,r;function a(t,e){return t[0]?Gt:Ut}let o=a(e),l=o(e);return{c(){n=g("h2"),n.textContent="Select Sample",i=x(),s=g("ul"),l.c(),S(n,"class","svelte-1jq13sv"),S(s,"class","svelte-1jq13sv"),r=w(window,"keydown",e[4])},m(t,e){m(t,n,e),m(t,i,e),m(t,s,e),l.m(s,null)},p(t,[e]){o===(o=a(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(s,null)))},i:t,o:t,d(t){t&&_(n),t&&_(i),t&&_(s),l.d(),r()}}}function Ht(t,e,n){let i,s;o(t,kt,t=>n(5,i=t)),o(t,qt,t=>n(6,s=t));let r=null,a=0;var l;R(async()=>{n(0,r=await Vt(i))}),l=()=>{n(0,r=null)},L().$$.on_destroy.push(l);const u=()=>{const t=`${i}/${r[a]}.wav`;wt.setPlayer(s,r[a],t)},c=t=>n(1,a=t);return[r,a,u,c,function(t){t.shiftKey||("ArrowDown"===t.key&&(t.preventDefault(),n(1,a=a===r.length-1?a:a+1)),"ArrowUp"===t.key&&(t.preventDefault(),n(1,a=0===a?a:a-1))),"Enter"===t.key&&u()},i,s,t=>c(t),t=>u()]}class Qt extends at{constructor(t){super(),rt(this,t,Ht,zt,a,{})}}function Yt(e){let n,i,s;return{c(){n=g("div"),i=g("canvas"),S(i,"class","svelte-1swa3ap"),U(()=>e[9].call(i)),S(n,"class","svelte-1swa3ap")},m(t,r){m(t,n,r),f(n,i),s=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let i;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{i=n.contentDocument.defaultView,i.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{i&&i.removeEventListener&&i.removeEventListener("resize",e),t.removeChild(n)}}}(i,e[9].bind(i)),e[10](i)},p:t,i:t,o:t,d(t){t&&_(n),s.cancel(),e[10](null)}}}function Xt(t,e,n){let i;o(t,wt,t=>n(6,i=t));let s,r,a,l,{channel:u}=e;const c=(t,e,n,i,s)=>{return(t-e)/(n-e)*(s-i)+i},h=t=>{let e=i[u].player.buffer.toArray(0);const r=[];for(let n=0;n<t;n++){const i=Math.floor(c(n,0,t,0,e.length-64)),s=i+64;let a=0;for(let t=i;t<s;t++)a+=Math.pow(e[t],2);const o=Math.sqrt(a/64);r[n]=o}const a=Math.max(...r);n(4,s=r.map(t=>c(Math.pow(t,.8),0,a,0,1)))};let d;return t.$set=t=>{"channel"in t&&n(3,u=t.channel)},t.$$.update=()=>{if(72&t.$$.dirty&&(d=i[u].player),95&t.$$.dirty&&r){n(0,r.width=2*a,r),n(0,r.height=2*l,r);const{width:t,height:e}=r,o=r.getContext("2d");o.clearRect(0,0,t,e),h(t);const d=c(i[u].player.loopStart,0,i[u].player.buffer.duration,0,t);let p=c(i[u].player.loopEnd,0,i[u].player.buffer.duration,0,t);0===i[u].player.loopEnd&&(p=t),s.forEach((t,n)=>{if(n%4!=0)return;const i=t*e,s=n;o.fillStyle=d>s||s>p?"#444444":"#ffffff",o.fillRect(s,e/2-i/2,2,i),o.fill()})}},[r,a,l,u,s,d,i,c,h,function(){a=this.clientWidth,l=this.clientHeight,n(1,a),n(2,l)},function(t){I[t?"unshift":"push"](()=>{n(0,r=t)})}]}class Zt extends at{constructor(t){super(),rt(this,t,Xt,Yt,a,{channel:3})}}var Jt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".toLowerCase().split("");function Kt(e){let n,i,r,a,o,l,u,c,h,d,p,y,v,k,A,E,C,P,O,q,M=Number(e[7]).toString(16)+"",L=Jt[e[0]]+"",R=e[2].join("")+"";return{c(){n=g("div"),i=g("div"),r=g("span"),a=b("!"),o=b(M),l=b(L),u=x(),c=g("span"),h=b(e[5]),d=x(),p=g("span"),p.textContent="|",y=x(),v=g("label"),k=b(e[4]),A=x(),E=g("div"),C=g("input"),P=x(),O=b(R),S(c,"class","value svelte-1nnwdqk"),S(r,"class","knob svelte-1nnwdqk"),T(r,"current",e[6]===e[0]),S(p,"class","split svelte-1nnwdqk"),S(v,"class","svelte-1nnwdqk"),T(v,"current",e[6]===e[0]),S(i,"class","info svelte-1nnwdqk"),S(C,"type","range"),S(C,"min","0"),S(C,"max","35"),C.value=e[3],S(C,"step","1"),S(C,"class","svelte-1nnwdqk"),S(E,"class","range svelte-1nnwdqk"),S(n,"class","root svelte-1nnwdqk"),q=[w(C,"input",e[13]),w(C,"keydown",te),w(E,"mouseover",e[9])]},m(t,s){m(t,n,s),f(n,i),f(i,r),f(r,a),f(r,o),f(r,l),f(r,u),f(r,c),f(c,h),f(i,d),f(i,p),f(i,y),f(i,v),f(v,k),f(n,A),f(n,E),f(E,C),e[12](C),f(E,P),f(E,O)},p(t,[e]){128&e&&M!==(M=Number(t[7]).toString(16)+"")&&$(o,M),1&e&&L!==(L=Jt[t[0]]+"")&&$(l,L),32&e&&$(h,t[5]),65&e&&T(r,"current",t[6]===t[0]),16&e&&$(k,t[4]),65&e&&T(v,"current",t[6]===t[0]),8&e&&(C.value=t[3]),4&e&&R!==(R=t[2].join("")+"")&&$(O,R)},i:t,o:t,d(t){t&&_(n),e[12](null),s(q)}}}function te(t){"ArrowDown"===t.key&&(t.preventDefault(),t.shiftKey||Mt.update(t=>t<12?t+1:t)),"ArrowUp"===t.key&&(t.preventDefault(),t.shiftKey||Mt.update(t=>1===t?t:t-1))}function ee(t,e,n){let i,s;o(t,Mt,t=>n(6,i=t)),o(t,qt,t=>n(7,s=t));let r,{range:a}=e,{effect:l}=e,{knob:u}=e,c=new Array(36).fill(".");const h=t=>wt.msg(s,u,t.target.value);let d,p,f;return t.$set=t=>{"range"in t&&n(10,a=t.range),"effect"in t&&n(11,l=t.effect),"knob"in t&&n(0,u=t.knob)},t.$$.update=()=>{3072&t.$$.dirty&&n(3,d=a?a.value:l.value),3072&t.$$.dirty&&n(4,p=a?a.label:l.label),8&t.$$.dirty&&n(5,f=Jt[d]),12&t.$$.dirty&&n(2,c=c.map((t,e)=>e<=d?"|":".")),67&t.$$.dirty&&i===u&&r&&r.focus()},[u,r,c,d,p,f,i,s,h,()=>Mt.set(u),a,l,function(t){I[t?"unshift":"push"](()=>{n(1,r=t)})},t=>h(t)]}class ne extends at{constructor(t){super(),rt(this,t,ee,Kt,a,{range:10,effect:11,knob:0})}}function ie(t,e,n){const i=t.slice();return i[3]=e[n],i[5]=n,i}function se(t,e,n){const i=t.slice();return i[6]=e[n],i[5]=n,i}function re(t){let e,n;const i=new ne({props:{knob:t[5]+1,range:t[6]}});return{c(){e=g("li"),et(i.$$.fragment)},m(t,s){m(t,e,s),nt(i,e,null),n=!0},p(t,e){const n={};1&e&&(n.range=t[6]),i.$set(n)},i(t){n||(J(i.$$.fragment,t),n=!0)},o(t){K(i.$$.fragment,t),n=!1},d(t){t&&_(e),it(i)}}}function ae(t){let e,n,i;const s=new ne({props:{knob:t[5]+8,effect:t[3]}});return{c(){e=g("li"),et(s.$$.fragment),n=x()},m(t,r){m(t,e,r),nt(s,e,null),f(e,n),i=!0},p(t,e){const n={};1&e&&(n.effect=t[3]),s.$set(n)},i(t){i||(J(s.$$.fragment,t),i=!0)},o(t){K(s.$$.fragment,t),i=!1},d(t){t&&_(e),it(s)}}}function oe(t){let e,n,i,s=t[0].ranges,r=[];for(let e=0;e<s.length;e+=1)r[e]=re(se(t,s,e));const a=t=>K(r[t],1,1,()=>{r[t]=null});let o=t[0].effects,l=[];for(let e=0;e<o.length;e+=1)l[e]=ae(ie(t,o,e));const u=t=>K(l[t],1,1,()=>{l[t]=null});return{c(){e=g("ul");for(let t=0;t<r.length;t+=1)r[t].c();n=x();for(let t=0;t<l.length;t+=1)l[t].c();S(e,"class","svelte-ljdhaf")},m(t,s){m(t,e,s);for(let t=0;t<r.length;t+=1)r[t].m(e,null);f(e,n);for(let t=0;t<l.length;t+=1)l[t].m(e,null);i=!0},p(t,[i]){if(1&i){let o;for(s=t[0].ranges,o=0;o<s.length;o+=1){const a=se(t,s,o);r[o]?(r[o].p(a,i),J(r[o],1)):(r[o]=re(a),r[o].c(),J(r[o],1),r[o].m(e,n))}for(X(),o=s.length;o<r.length;o+=1)a(o);Z()}if(1&i){let n;for(o=t[0].effects,n=0;n<o.length;n+=1){const s=ie(t,o,n);l[n]?(l[n].p(s,i),J(l[n],1)):(l[n]=ae(s),l[n].c(),J(l[n],1),l[n].m(e,null))}for(X(),n=o.length;n<l.length;n+=1)u(n);Z()}},i(t){if(!i){for(let t=0;t<s.length;t+=1)J(r[t]);for(let t=0;t<o.length;t+=1)J(l[t]);i=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)K(r[t]);l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)K(l[t]);i=!1},d(t){t&&_(e),y(r,t),y(l,t)}}}function le(t,e,n){let i;o(t,wt,t=>n(2,i=t));let s,{channel:r}=e;return t.$set=t=>{"channel"in t&&n(1,r=t.channel)},t.$$.update=()=>{6&t.$$.dirty&&n(0,s=i[r])},[s,r]}class ue extends at{constructor(t){super(),rt(this,t,le,oe,a,{channel:1})}}function ce(e){let n;const i=new Qt({});return{c(){et(i.$$.fragment)},m(t,e){nt(i,t,e),n=!0},p:t,i(t){n||(J(i.$$.fragment,t),n=!0)},o(t){K(i.$$.fragment,t),n=!1},d(t){it(i,t)}}}function he(t){let e,n;const i=new Zt({props:{channel:t[0]}}),s=new ue({props:{channel:t[0]}});return{c(){et(i.$$.fragment),e=x(),et(s.$$.fragment)},m(t,r){nt(i,t,r),m(t,e,r),nt(s,t,r),n=!0},p(t,e){const n={};1&e&&(n.channel=t[0]),i.$set(n);const r={};1&e&&(r.channel=t[0]),s.$set(r)},i(t){n||(J(i.$$.fragment,t),J(s.$$.fragment,t),n=!0)},o(t){K(i.$$.fragment,t),K(s.$$.fragment,t),n=!1},d(t){it(i,t),t&&_(e),it(s,t)}}}function de(t){let e,n,i,s;const r=[he,ce],a=[];function o(t,e){return t[1]?0:1}return e=o(t),n=a[e]=r[e](t),{c(){n.c(),i=k()},m(t,n){a[e].m(t,n),m(t,i,n),s=!0},p(t,[s]){let l=e;e=o(t),e===l?a[e].p(t,s):(X(),K(a[l],1,1,()=>{a[l]=null}),Z(),n=a[e],n||(n=a[e]=r[e](t),n.c()),J(n,1),n.m(i.parentNode,i))},i(t){s||(J(n),s=!0)},o(t){K(n),s=!1},d(t){a[e].d(t),t&&_(i)}}}function pe(t,e,n){let i;o(t,wt,t=>n(2,i=t));let s,{channel:r}=e;return t.$set=t=>{"channel"in t&&n(0,r=t.channel)},t.$$.update=()=>{5&t.$$.dirty&&n(1,s=i[r].player)},[r,s]}class fe extends at{constructor(t){super(),rt(this,t,pe,de,a,{channel:0})}}function me(n){let i,a,o,l;const c=new fe({props:{channel:n[1]}});return{c(){i=g("div"),et(c.$$.fragment),S(i,"class","svelte-1qlla01")},m(t,e){m(t,i,e),nt(c,i,null),l=!0},p(t,e){const n={};2&e&&(n.channel=t[1]),c.$set(n)},i(n){l||(J(c.$$.fragment,n),U(()=>{o&&o.end(1),a||(a=function(n,i,s){let a,o,l=i(n,s),c=!1,h=0;function d(){a&&q(n,a)}function f(){const{delay:i=0,duration:s=300,easing:r=e,tick:f=t,css:m}=l||tt;m&&(a=O(n,0,1,s,i,r,m,h++)),f(0,1);const _=u()+i,y=_+s;o&&o.abort(),c=!0,U(()=>H(n,!0,"start")),o=p(t=>{if(c){if(t>=y)return f(1,0),H(n,!0,"end"),d(),c=!1;if(t>=_){const e=r((t-_)/s);f(e,1-e)}}return c})}let m=!1;return{start(){m||(q(n),r(l)?(l=l(),z().then(f)):f())},invalidate(){m=!1},end(){c&&(d(),c=!1)}}}(i,Nt,{delay:0,duration:300})),a.start()}),l=!0)},o(n){K(c.$$.fragment,n),a&&a.invalidate(),o=function(n,i,a){let o,l=i(n,a),c=!0;const h=Y;function d(){const{delay:i=0,duration:r=300,easing:a=e,tick:d=t,css:f}=l||tt;f&&(o=O(n,1,0,r,i,a,f));const m=u()+i,_=m+r;U(()=>H(n,!1,"start")),p(t=>{if(c){if(t>=_)return d(0,1),H(n,!1,"end"),--h.r||s(h.c),!1;if(t>=m){const e=a((t-m)/r);d(1-e,e)}}return c})}return h.r+=1,r(l)?z().then(()=>{l=l(),d()}):d(),{end(t){t&&l.tick&&l.tick(1,0),c&&(o&&q(n,o),c=!1)}}}(i,Nt,{delay:0,duration:300}),l=!1},d(t){t&&_(i),it(c),t&&o&&o.end()}}}function _e(t){let e,n,i;const s=new Dt({props:{tape:t[0],channel:t[1]}});let r=t[2]===t[1]&&me(t);return{c(){e=g("li"),et(s.$$.fragment),n=x(),r&&r.c(),S(e,"class","svelte-1qlla01"),T(e,"active",t[2]===t[1])},m(t,a){m(t,e,a),nt(s,e,null),f(e,n),r&&r.m(e,null),i=!0},p(t,[n]){const i={};1&n&&(i.tape=t[0]),2&n&&(i.channel=t[1]),s.$set(i),t[2]===t[1]?r?(r.p(t,n),J(r,1)):(r=me(t),r.c(),J(r,1),r.m(e,null)):r&&(X(),K(r,1,1,()=>{r=null}),Z()),6&n&&T(e,"active",t[2]===t[1])},i(t){i||(J(s.$$.fragment,t),J(r),i=!0)},o(t){K(s.$$.fragment,t),K(r),i=!1},d(t){t&&_(e),it(s),r&&r.d()}}}function ye(t,e,n){let i;o(t,qt,t=>n(2,i=t));let{tape:s}=e,{channel:r}=e;return t.$set=t=>{"tape"in t&&n(0,s=t.tape),"channel"in t&&n(1,r=t.channel)},[s,r,i]}class ge extends at{constructor(t){super(),rt(this,t,ye,_e,a,{tape:0,channel:1})}}function ve(t,e,n){const i=t.slice();return i[1]=e[n],i[3]=n,i}function be(t){let e;const n=new ge({props:{tape:t[1],channel:t[3]}});return{c(){et(n.$$.fragment)},m(t,i){nt(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.tape=t[1]),n.$set(i)},i(t){e||(J(n.$$.fragment,t),e=!0)},o(t){K(n.$$.fragment,t),e=!1},d(t){it(n,t)}}}function xe(t){let e,n,i,s=t[0],r=[];for(let e=0;e<s.length;e+=1)r[e]=be(ve(t,s,e));const a=t=>K(r[t],1,1,()=>{r[t]=null});return{c(){e=g("ul");for(let t=0;t<r.length;t+=1)r[t].c();S(e,"class","svelte-9ccbt1"),i=w(window,"keydown",ke)},m(t,i){m(t,e,i);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(1&n){let i;for(s=t[0],i=0;i<s.length;i+=1){const a=ve(t,s,i);r[i]?(r[i].p(a,n),J(r[i],1)):(r[i]=be(a),r[i].c(),J(r[i],1),r[i].m(e,null))}for(X(),i=s.length;i<r.length;i+=1)a(i);Z()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)J(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)K(r[t]);n=!1},d(t){t&&_(e),y(r,t),i()}}}function ke(t){t.shiftKey&&("ArrowDown"===t.key&&qt.update(t=>15===t?t:t+1),"ArrowUp"===t.key&&qt.update(t=>0===t?t:t-1))}function we(t,e,n){let i;return o(t,wt,t=>n(0,i=t)),[i]}class Se extends at{constructor(t){super(),rt(this,t,we,xe,a,{})}}function $e(e){let n,i,s;return{c(){n=g("div"),i=b("MIDI: "),s=b(e[0]),S(n,"class","svelte-138p89o")},m(t,e){m(t,n,e),f(n,i),f(n,s)},p(t,[e]){1&e&&$(s,t[0])},i:t,o:t,d(t){t&&_(n)}}}function Te(t,e,n){let i,s="none",r=[];const a=t=>{if(t.data[0]>=176&&t.data[0]<184){const e=t.data[0]-176,n=t.data[1]-64,i=Math.floor(t.data[2]/127*35);0===n&&Lt.play(e),wt.msg(e,n,i)}},o=t=>{const e=t.inputs.values();r=[];for(let t=e.next();t&&!t.done;t=e.next())r.push(t.value);i=r[0],i?(n(0,s=`${i.name}`),i.onmidimessage=a):n(0,s="Could not connect Midi")};return R(()=>{n(0,s="Starting.."),navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then(o,t=>{n(0,s="No Midi")})}),[s]}class Ae extends at{constructor(t){super(),rt(this,t,Te,$e,a,{})}}function Ee(e){let n,i;const s=new Ae({});return{c(){n=g("div"),et(s.$$.fragment),S(n,"class","svelte-1iiot0w")},m(t,e){m(t,n,e),nt(s,n,null),i=!0},p:t,i(t){i||(J(s.$$.fragment,t),i=!0)},o(t){K(s.$$.fragment,t),i=!1},d(t){t&&_(n),it(s)}}}class Ce extends at{constructor(t){super(),rt(this,t,null,Ee,a,{})}}function Pe(t){let e,n;const i=new Ot({});return{c(){e=g("section"),et(i.$$.fragment),S(e,"class","tape_folder svelte-3wzge7")},m(t,s){m(t,e,s),nt(i,e,null),n=!0},i(t){n||(J(i.$$.fragment,t),n=!0)},o(t){K(i.$$.fragment,t),n=!1},d(t){t&&_(e),it(i)}}}function Oe(t){let e,n;const i=new Se({});return{c(){e=g("section"),et(i.$$.fragment),S(e,"class","tape_list")},m(t,s){m(t,e,s),nt(i,e,null),n=!0},i(t){n||(J(i.$$.fragment,t),n=!0)},o(t){K(i.$$.fragment,t),n=!1},d(t){t&&_(e),it(i)}}}function qe(t){let e,n,i,s,r;const a=[Oe,Pe],o=[];function l(t,e){return t[0]?0:1}n=l(t),i=o[n]=a[n](t);const u=new Ce({});return{c(){e=g("main"),i.c(),s=x(),et(u.$$.fragment),S(e,"class","svelte-3wzge7")},m(t,i){m(t,e,i),o[n].m(e,null),f(e,s),nt(u,e,null),r=!0},p(t,[r]){let u=n;n=l(t),n!==u&&(X(),K(o[u],1,1,()=>{o[u]=null}),Z(),i=o[n],i||(i=o[n]=a[n](t),i.c()),J(i,1),i.m(e,s))},i(t){r||(J(i),J(u.$$.fragment,t),r=!0)},o(t){K(i),K(u.$$.fragment,t),r=!1},d(t){t&&_(e),o[n].d(),it(u)}}}function Me(t,e,n){let i;return o(t,kt,t=>n(0,i=t)),[i]}class Le extends at{constructor(t){super(),rt(this,t,Me,qe,a,{})}}function Re(e){let n;const i=new Le({});return{c(){et(i.$$.fragment)},m(t,e){nt(i,t,e),n=!0},p:t,i(t){n||(J(i.$$.fragment,t),n=!0)},o(t){K(i.$$.fragment,t),n=!1},d(t){it(i,t)}}}ut(ct((function(t,e){!function(t){const e="undefined"!=typeof process&&process.hrtime?()=>{const t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:()=>self.performance.now();class n{constructor(){this.start_time=e(),this.stack=[],this.current_children=this.timings=[]}start(t){const n={label:t,start:e(),end:null,children:[]};this.current_children.push(n),this.stack.push(n),this.current_timing=n,this.current_children=n.children}stop(t){if(t!==this.current_timing.label)throw new Error(`Mismatched timing labels (expected ${this.current_timing.label}, got ${t})`);this.current_timing.end=e(),this.stack.pop(),this.current_timing=this.stack[this.stack.length-1],this.current_children=this.current_timing?this.current_timing.children:this.timings}render(){return{timings:Object.assign({total:e()-this.start_time},function t(e){const n={};return e.forEach(e=>{n[e.label]=Object.assign({total:e.end-e.start},e.children&&t(e.children))}),n}(this.timings))}}}var i={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},s="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",r={5:s,"5module":s+" export import",6:s+" const class extends export import super"},a=/^in(stanceof)?$/,o="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",l="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",u=new RegExp("["+o+"]"),c=new RegExp("["+o+l+"]");o=l=null;var h=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],d=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function p(t,e){for(var n=65536,i=0;i<e.length;i+=2){if((n+=e[i])>t)return!1;if((n+=e[i+1])>=t)return!0}}function f(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&u.test(String.fromCharCode(t)):!1!==e&&p(t,h)))}function m(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&c.test(String.fromCharCode(t)):!1!==e&&(p(t,h)||p(t,d)))))}var _=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function y(t,e){return new _(t,{beforeExpr:!0,binop:e})}var g={beforeExpr:!0},v={startsExpr:!0},b={};function x(t,e){return void 0===e&&(e={}),e.keyword=t,b[t]=new _(t,e)}var k={num:new _("num",v),regexp:new _("regexp",v),string:new _("string",v),name:new _("name",v),eof:new _("eof"),bracketL:new _("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new _("]"),braceL:new _("{",{beforeExpr:!0,startsExpr:!0}),braceR:new _("}"),parenL:new _("(",{beforeExpr:!0,startsExpr:!0}),parenR:new _(")"),comma:new _(",",g),semi:new _(";",g),colon:new _(":",g),dot:new _("."),question:new _("?",g),arrow:new _("=>",g),template:new _("template"),invalidTemplate:new _("invalidTemplate"),ellipsis:new _("...",g),backQuote:new _("`",v),dollarBraceL:new _("${",{beforeExpr:!0,startsExpr:!0}),eq:new _("=",{beforeExpr:!0,isAssign:!0}),assign:new _("_=",{beforeExpr:!0,isAssign:!0}),incDec:new _("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new _("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:y("||",1),logicalAND:y("&&",2),bitwiseOR:y("|",3),bitwiseXOR:y("^",4),bitwiseAND:y("&",5),equality:y("==/!=/===/!==",6),relational:y("</>/<=/>=",7),bitShift:y("<</>>/>>>",8),plusMin:new _("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:y("%",10),star:y("*",10),slash:y("/",10),starstar:new _("**",{beforeExpr:!0}),_break:x("break"),_case:x("case",g),_catch:x("catch"),_continue:x("continue"),_debugger:x("debugger"),_default:x("default",g),_do:x("do",{isLoop:!0,beforeExpr:!0}),_else:x("else",g),_finally:x("finally"),_for:x("for",{isLoop:!0}),_function:x("function",v),_if:x("if"),_return:x("return",g),_switch:x("switch"),_throw:x("throw",g),_try:x("try"),_var:x("var"),_const:x("const"),_while:x("while",{isLoop:!0}),_with:x("with"),_new:x("new",{beforeExpr:!0,startsExpr:!0}),_this:x("this",v),_super:x("super",v),_class:x("class",v),_extends:x("extends",g),_export:x("export"),_import:x("import",v),_null:x("null",v),_true:x("true",v),_false:x("false",v),_in:x("in",{beforeExpr:!0,binop:7}),_instanceof:x("instanceof",{beforeExpr:!0,binop:7}),_typeof:x("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:x("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:x("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,S=new RegExp(w.source,"g");function $(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,A=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,E=Object.prototype,C=E.hasOwnProperty,P=E.toString;function O(t,e){return C.call(t,e)}var q=Array.isArray||function(t){return"[object Array]"===P.call(t)};function M(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var L=function(t,e){this.line=t,this.column=e};L.prototype.offset=function(t){return new L(this.line,this.column+t)};var R=function(t,e,n){this.start=e,this.end=n,null!==t.sourceFile&&(this.source=t.sourceFile)};function N(t,e){for(var n=1,i=0;;){S.lastIndex=i;var s=S.exec(t);if(!(s&&s.index<e))return new L(n,e-i);++n,i=s.index+s[0].length}}var I={ecmaVersion:10,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function F(t){var e={};for(var n in I)e[n]=t&&O(t,n)?t[n]:I[n];if(e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),q(e.onToken)){var i=e.onToken;e.onToken=function(t){return i.push(t)}}return q(e.onComment)&&(e.onComment=function(t,e){return function(n,i,s,r,a,o){var l={type:n?"Block":"Line",value:i,start:s,end:r};t.locations&&(l.loc=new R(this,a,o)),t.ranges&&(l.range=[s,r]),e.push(l)}}(e,e.onComment)),e}var D=2,B=1|D,V=4,j=8;function U(t,e){return D|(t?V:0)|(e?j:0)}var G=function(t,e,n){this.options=t=F(t),this.sourceFile=t.sourceFile,this.keywords=M(r[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var s="";if(!0!==t.allowReserved){for(var a=t.ecmaVersion;!(s=i[a]);a--);"module"===t.sourceType&&(s+=" await")}this.reservedWords=M(s);var o=(s?s+" ":"")+i.strict;this.reservedWordsStrict=M(o),this.reservedWordsStrictBind=M(o+" "+i.strictBind),this.input=String(e),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=k.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},W={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};G.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},W.inFunction.get=function(){return(this.currentVarScope().flags&D)>0},W.inGenerator.get=function(){return(this.currentVarScope().flags&j)>0},W.inAsync.get=function(){return(this.currentVarScope().flags&V)>0},W.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0},W.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},W.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},G.prototype.inNonArrowFunction=function(){return(this.currentThisScope().flags&D)>0},G.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=this,i=0;i<t.length;i++)n=t[i](n);return n},G.parse=function(t,e){return new this(e,t).parse()},G.parseExpressionAt=function(t,e,n){var i=new this(n,t,e);return i.nextToken(),i.parseExpression()},G.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(G.prototype,W);var z=G.prototype,H=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function Q(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}z.strictDirective=function(t){for(;;){A.lastIndex=t,t+=A.exec(this.input)[0].length;var e=H.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2]))return!0;t+=e[0].length,A.lastIndex=t,t+=A.exec(this.input)[0].length,";"===this.input[t]&&t++}},z.eat=function(t){return this.type===t&&(this.next(),!0)},z.isContextual=function(t){return this.type===k.name&&this.value===t&&!this.containsEsc},z.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},z.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},z.canInsertSemicolon=function(){return this.type===k.eof||this.type===k.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},z.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},z.semicolon=function(){this.eat(k.semi)||this.insertSemicolon()||this.unexpected()},z.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},z.expect=function(t){this.eat(t)||this.unexpected()},z.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},z.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var n=e?t.parenthesizedAssign:t.parenthesizedBind;n>-1&&this.raiseRecoverable(n,"Parenthesized pattern")}},z.checkExpressionErrors=function(t,e){if(!t)return!1;var n=t.shorthandAssign,i=t.doubleProto;if(!e)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},z.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},z.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var Y=G.prototype;Y.parseTopLevel=function(t){var e={};for(t.body||(t.body=[]);this.type!==k.eof;){var n=this.parseStatement(null,!0,e);t.body.push(n)}if(this.inModule)for(var i=0,s=Object.keys(this.undefinedExports);i<s.length;i+=1){var r=s[i];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var X={kind:"loop"},Z={kind:"switch"};Y.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;A.lastIndex=this.pos;var e=A.exec(this.input),n=this.pos+e[0].length,i=this.input.charCodeAt(n);if(91===i)return!0;if(t)return!1;if(123===i)return!0;if(f(i,!0)){for(var s=n+1;m(this.input.charCodeAt(s),!0);)++s;var r=this.input.slice(n,s);if(!a.test(r))return!0}return!1},Y.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;A.lastIndex=this.pos;var t=A.exec(this.input),e=this.pos+t[0].length;return!(w.test(this.input.slice(this.pos,e))||"function"!==this.input.slice(e,e+8)||e+8!==this.input.length&&m(this.input.charAt(e+8)))},Y.parseStatement=function(t,e,n){var i,s=this.type,r=this.startNode();switch(this.isLet(t)&&(s=k._var,i="let"),s){case k._break:case k._continue:return this.parseBreakContinueStatement(r,s.keyword);case k._debugger:return this.parseDebuggerStatement(r);case k._do:return this.parseDoStatement(r);case k._for:return this.parseForStatement(r);case k._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case k._class:return t&&this.unexpected(),this.parseClass(r,!0);case k._if:return this.parseIfStatement(r);case k._return:return this.parseReturnStatement(r);case k._switch:return this.parseSwitchStatement(r);case k._throw:return this.parseThrowStatement(r);case k._try:return this.parseTryStatement(r);case k._const:case k._var:return i=i||this.value,t&&"var"!==i&&this.unexpected(),this.parseVarStatement(r,i);case k._while:return this.parseWhileStatement(r);case k._with:return this.parseWithStatement(r);case k.braceL:return this.parseBlock(!0,r);case k.semi:return this.parseEmptyStatement(r);case k._export:case k._import:if(this.options.ecmaVersion>10&&s===k._import){A.lastIndex=this.pos;var a=A.exec(this.input),o=this.pos+a[0].length;if(40===this.input.charCodeAt(o))return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===k._import?this.parseImport(r):this.parseExport(r,n);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var l=this.value,u=this.parseExpression();return s===k.name&&"Identifier"===u.type&&this.eat(k.colon)?this.parseLabeledStatement(r,l,u,t):this.parseExpressionStatement(r,u)}},Y.parseBreakContinueStatement=function(t,e){var n="break"===e;this.next(),this.eat(k.semi)||this.insertSemicolon()?t.label=null:this.type!==k.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var s=this.labels[i];if(null==t.label||s.name===t.label.name){if(null!=s.kind&&(n||"loop"===s.kind))break;if(t.label&&n)break}}return i===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},Y.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},Y.parseDoStatement=function(t){return this.next(),this.labels.push(X),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(k._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(k.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},Y.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(X),this.enterScope(0),this.expect(k.parenL),this.type===k.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var n=this.isLet();if(this.type===k._var||this.type===k._const||n){var i=this.startNode(),s=n?"let":this.value;return this.next(),this.parseVar(i,!0,s),this.finishNode(i,"VariableDeclaration"),(this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===i.declarations.length?(this.options.ecmaVersion>=9&&(this.type===k._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,i)):(e>-1&&this.unexpected(e),this.parseFor(t,i))}var r=new Q,a=this.parseExpression(!0,r);return this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===k._in?e>-1&&this.unexpected(e):t.await=e>-1),this.toAssignable(a,!1,r),this.checkLVal(a),this.parseForIn(t,a)):(this.checkExpressionErrors(r,!0),e>-1&&this.unexpected(e),this.parseFor(t,a))},Y.parseFunctionStatement=function(t,e,n){return this.next(),this.parseFunction(t,K|(n?0:tt),!1,e)},Y.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(k._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},Y.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(k.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},Y.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(k.braceL),this.labels.push(Z),this.enterScope(0);for(var n=!1;this.type!==k.braceR;)if(this.type===k._case||this.type===k._default){var i=this.type===k._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),i?e.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,e.test=null),this.expect(k.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},Y.parseThrowStatement=function(t){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var J=[];Y.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===k._catch){var e=this.startNode();if(this.next(),this.eat(k.parenL)){e.param=this.parseBindingAtom();var n="Identifier"===e.param.type;this.enterScope(n?32:0),this.checkLVal(e.param,n?4:2),this.expect(k.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(k._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},Y.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},Y.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(X),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},Y.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},Y.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},Y.parseLabeledStatement=function(t,e,n,i){for(var s=0,r=this.labels;s<r.length;s+=1)r[s].name===e&&this.raise(n.start,"Label '"+e+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===k._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=this.labels[o];if(l.statementStart!==t.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),t.label=n,this.finishNode(t,"LabeledStatement")},Y.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},Y.parseBlock=function(t,e){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(k.braceL),t&&this.enterScope(0);!this.eat(k.braceR);){var n=this.parseStatement(null);e.body.push(n)}return t&&this.exitScope(),this.finishNode(e,"BlockStatement")},Y.parseFor=function(t,e){return t.init=e,this.expect(k.semi),t.test=this.type===k.semi?null:this.parseExpression(),this.expect(k.semi),t.update=this.type===k.parenR?null:this.parseExpression(),this.expect(k.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},Y.parseForIn=function(t,e){var n=this.type===k._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)?this.raise(e.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===e.type&&this.raise(e.start,"Invalid left-hand side in for-loop"),t.left=e,t.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(k.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,n?"ForInStatement":"ForOfStatement")},Y.parseVar=function(t,e,n){for(t.declarations=[],t.kind=n;;){var i=this.startNode();if(this.parseVarId(i,n),this.eat(k.eq)?i.init=this.parseMaybeAssign(e):"const"!==n||this.type===k._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"===i.id.type||e&&(this.type===k._in||this.isContextual("of"))?i.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(k.comma))break}return t},Y.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLVal(t.id,"var"===e?1:2,!1)};var K=1,tt=2;Y.parseFunction=function(t,e,n,i){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===k.star&&e&tt&&this.unexpected(),t.generator=this.eat(k.star)),this.options.ecmaVersion>=8&&(t.async=!!i),e&K&&(t.id=4&e&&this.type!==k.name?null:this.parseIdent(),!t.id||e&tt||this.checkLVal(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(U(t.async,t.generator)),e&K||(t.id=this.type===k.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,n,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(t,e&K?"FunctionDeclaration":"FunctionExpression")},Y.parseFunctionParams=function(t){this.expect(k.parenL),t.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},Y.parseClass=function(t,e){this.next();var n=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var i=this.startNode(),s=!1;for(i.body=[],this.expect(k.braceL);!this.eat(k.braceR);){var r=this.parseClassElement(null!==t.superClass);r&&(i.body.push(r),"MethodDefinition"===r.type&&"constructor"===r.kind&&(s&&this.raise(r.start,"Duplicate constructor in the same class"),s=!0))}return t.body=this.finishNode(i,"ClassBody"),this.strict=n,this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},Y.parseClassElement=function(t){var e=this;if(this.eat(k.semi))return null;var n=this.startNode(),i=function(t,i){void 0===i&&(i=!1);var s=e.start,r=e.startLoc;return!(!e.eatContextual(t)||(e.type===k.parenL||i&&e.canInsertSemicolon())&&(n.key&&e.unexpected(),n.computed=!1,n.key=e.startNodeAt(s,r),n.key.name=t,e.finishNode(n.key,"Identifier"),1))};n.kind="method",n.static=i("static");var s=this.eat(k.star),r=!1;s||(this.options.ecmaVersion>=8&&i("async",!0)?(r=!0,s=this.options.ecmaVersion>=9&&this.eat(k.star)):i("get")?n.kind="get":i("set")&&(n.kind="set")),n.key||this.parsePropertyName(n);var a=n.key,o=!1;return n.computed||n.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?n.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==n.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),s&&this.raise(a.start,"Constructor can't be a generator"),r&&this.raise(a.start,"Constructor can't be an async method"),n.kind="constructor",o=t),this.parseClassMethod(n,s,r,o),"get"===n.kind&&0!==n.value.params.length&&this.raiseRecoverable(n.value.start,"getter should have no params"),"set"===n.kind&&1!==n.value.params.length&&this.raiseRecoverable(n.value.start,"setter should have exactly one param"),"set"===n.kind&&"RestElement"===n.value.params[0].type&&this.raiseRecoverable(n.value.params[0].start,"Setter cannot use rest params"),n},Y.parseClassMethod=function(t,e,n,i){return t.value=this.parseMethod(e,n,i),this.finishNode(t,"MethodDefinition")},Y.parseClassId=function(t,e){this.type===k.name?(t.id=this.parseIdent(),e&&this.checkLVal(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},Y.parseClassSuper=function(t){t.superClass=this.eat(k._extends)?this.parseExprSubscripts():null},Y.parseExport=function(t,e){if(this.next(),this.eat(k.star))return this.expectContextual("from"),this.type!==k.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(k._default)){var n;if(this.checkExport(e,"default",this.lastTokStart),this.type===k._function||(n=this.isAsyncFunction())){var i=this.startNode();this.next(),n&&this.next(),t.declaration=this.parseFunction(i,4|K,!1,n)}else if(this.type===k._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==k.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,a=t.specifiers;r<a.length;r+=1){var o=a[r];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},Y.checkExport=function(t,e,n){t&&(O(t,e)&&this.raiseRecoverable(n,"Duplicate export '"+e+"'"),t[e]=!0)},Y.checkPatternExport=function(t,e){var n=e.type;if("Identifier"===n)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===n)for(var i=0,s=e.properties;i<s.length;i+=1){var r=s[i];this.checkPatternExport(t,r)}else if("ArrayPattern"===n)for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(t,l)}else"Property"===n?this.checkPatternExport(t,e.value):"AssignmentPattern"===n?this.checkPatternExport(t,e.left):"RestElement"===n?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===n&&this.checkPatternExport(t,e.expression)},Y.checkVariableExport=function(t,e){if(t)for(var n=0,i=e;n<i.length;n+=1){var s=i[n];this.checkPatternExport(t,s.id)}},Y.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},Y.parseExportSpecifiers=function(t){var e=[],n=!0;for(this.expect(k.braceL);!this.eat(k.braceR);){if(n)n=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var i=this.startNode();i.local=this.parseIdent(!0),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,this.checkExport(t,i.exported.name,i.exported.start),e.push(this.finishNode(i,"ExportSpecifier"))}return e},Y.parseImport=function(t){return this.next(),this.type===k.string?(t.specifiers=J,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===k.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},Y.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===k.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,2),t.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(k.comma))return t}if(this.type===k.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,2),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(k.braceL);!this.eat(k.braceR);){if(e)e=!1;else if(this.expect(k.comma),this.afterTrailingComma(k.braceR))break;var s=this.startNode();s.imported=this.parseIdent(!0),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLVal(s.local,2),t.push(this.finishNode(s,"ImportSpecifier"))}return t},Y.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},Y.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var et=G.prototype;et.toAssignable=function(t,e,n){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,s=t.properties;i<s.length;i+=1){var r=s[i];this.toAssignable(r,e),"RestElement"!==r.type||"ArrayPattern"!==r.argument.type&&"ObjectPattern"!==r.argument.type||this.raise(r.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,n);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return t},et.toAssignableList=function(t,e){for(var n=t.length,i=0;i<n;i++){var s=t[i];s&&this.toAssignable(s,e)}if(n){var r=t[n-1];6===this.options.ecmaVersion&&e&&r&&"RestElement"===r.type&&"Identifier"!==r.argument.type&&this.unexpected(r.argument.start)}return t},et.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},et.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==k.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},et.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case k.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(k.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case k.braceL:return this.parseObj(!0)}return this.parseIdent()},et.parseBindingList=function(t,e,n){for(var i=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(k.comma),e&&this.type===k.comma)i.push(null);else{if(n&&this.afterTrailingComma(t))break;if(this.type===k.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),i.push(r),this.type===k.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),i.push(a)}return i},et.parseBindingListItem=function(t){return t},et.parseMaybeDefault=function(t,e,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(k.eq))return n;var i=this.startNodeAt(t,e);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},et.checkLVal=function(t,e,n){switch(void 0===e&&(e=0),t.type){case"Identifier":2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(O(n,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),n[t.name]=!0),0!==e&&5!==e&&this.declareName(t.name,e,t.start);break;case"MemberExpression":e&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ObjectPattern":for(var i=0,s=t.properties;i<s.length;i+=1){var r=s[i];this.checkLVal(r,e,n)}break;case"Property":this.checkLVal(t.value,e,n);break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLVal(l,e,n)}break;case"AssignmentPattern":this.checkLVal(t.left,e,n);break;case"RestElement":this.checkLVal(t.argument,e,n);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,n);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var nt=G.prototype;nt.checkPropClash=function(t,e,n){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var i,s=t.key;switch(s.type){case"Identifier":i=s.name;break;case"Literal":i=String(s.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===i&&"init"===r&&(e.proto&&(n&&n.doubleProto<0?n.doubleProto=s.start:this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);else{var a=e[i="$"+i];a?("init"===r?this.strict&&a.init||a.get||a.set:a.init||a[r])&&this.raiseRecoverable(s.start,"Redefinition of property"):a=e[i]={init:!1,get:!1,set:!1},a[r]=!0}}},nt.parseExpression=function(t,e){var n=this.start,i=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type===k.comma){var r=this.startNodeAt(n,i);for(r.expressions=[s];this.eat(k.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return s},nt.parseMaybeAssign=function(t,e,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var i=!1,s=-1,r=-1,a=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,a=e.shorthandAssign,e.parenthesizedAssign=e.trailingComma=e.shorthandAssign=-1):(e=new Q,i=!0);var o=this.start,l=this.startLoc;this.type!==k.parenL&&this.type!==k.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(t,e);if(n&&(u=n.call(this,u,o,l)),this.type.isAssign){var c=this.startNodeAt(o,l);return c.operator=this.value,c.left=this.type===k.eq?this.toAssignable(u,!1,e):u,i||Q.call(e),e.shorthandAssign=-1,this.checkLVal(u),this.next(),c.right=this.parseMaybeAssign(t),this.finishNode(c,"AssignmentExpression")}return i&&this.checkExpressionErrors(e,!0),s>-1&&(e.parenthesizedAssign=s),r>-1&&(e.trailingComma=r),a>-1&&(e.shorthandAssign=a),u},nt.parseMaybeConditional=function(t,e){var n=this.start,i=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(k.question)){var r=this.startNodeAt(n,i);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(k.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s},nt.parseExprOps=function(t,e){var n=this.start,i=this.startLoc,s=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)?s:s.start===n&&"ArrowFunctionExpression"===s.type?s:this.parseExprOp(s,n,i,-1,t)},nt.parseExprOp=function(t,e,n,i,s){var r=this.type.binop;if(null!=r&&(!s||this.type!==k._in)&&r>i){var a=this.type===k.logicalOR||this.type===k.logicalAND,o=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,r,s),h=this.buildBinary(e,n,t,c,o,a);return this.parseExprOp(h,e,n,i,s)}return t},nt.buildBinary=function(t,e,n,i,s,r){var a=this.startNodeAt(t,e);return a.left=n,a.operator=s,a.right=i,this.finishNode(a,r?"LogicalExpression":"BinaryExpression")},nt.parseMaybeUnary=function(t,e){var n,i=this.start,s=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))n=this.parseAwait(),e=!0;else if(this.type.prefix){var r=this.startNode(),a=this.type===k.incDec;r.operator=this.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(r.argument):this.strict&&"delete"===r.operator&&"Identifier"===r.argument.type?this.raiseRecoverable(r.start,"Deleting local variable in strict mode"):e=!0,n=this.finishNode(r,a?"UpdateExpression":"UnaryExpression")}else{if(n=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(i,s);o.operator=this.value,o.prefix=!1,o.argument=n,this.checkLVal(n),this.next(),n=this.finishNode(o,"UpdateExpression")}}return!e&&this.eat(k.starstar)?this.buildBinary(i,s,n,this.parseMaybeUnary(null,!1),"**",!1):n},nt.parseExprSubscripts=function(t){var e=this.start,n=this.startLoc,i=this.parseExprAtom(t),s="ArrowFunctionExpression"===i.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(t)||s)return i;var r=this.parseSubscripts(i,e,n);return t&&"MemberExpression"===r.type&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1)),r},nt.parseSubscripts=function(t,e,n,i){for(var s=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(t.start,t.end);;){var r=this.parseSubscript(t,e,n,i,s);if(r===t||"ArrowFunctionExpression"===r.type)return r;t=r}},nt.parseSubscript=function(t,e,n,i,s){var r=this.eat(k.bracketL);if(r||this.eat(k.dot)){var a=this.startNodeAt(e,n);a.object=t,a.property=r?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),a.computed=!!r,r&&this.expect(k.bracketR),t=this.finishNode(a,"MemberExpression")}else if(!i&&this.eat(k.parenL)){var o=new Q,l=this.yieldPos,u=this.awaitPos,c=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var h=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1,o);if(s&&!this.canInsertSemicolon()&&this.eat(k.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=u,this.awaitIdentPos=c,this.parseArrowExpression(this.startNodeAt(e,n),h,!0);this.checkExpressionErrors(o,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos,this.awaitIdentPos=c||this.awaitIdentPos;var d=this.startNodeAt(e,n);d.callee=t,d.arguments=h,t=this.finishNode(d,"CallExpression")}else if(this.type===k.backQuote){var p=this.startNodeAt(e,n);p.tag=t,p.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(p,"TaggedTemplateExpression")}return t},nt.parseExprAtom=function(t){this.type===k.slash&&this.readRegexp();var e,n=this.potentialArrowAt===this.start;switch(this.type){case k._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),e=this.startNode(),this.next(),this.type!==k.parenL||this.allowDirectSuper||this.raise(e.start,"super() call outside constructor of a subclass"),this.type!==k.dot&&this.type!==k.bracketL&&this.type!==k.parenL&&this.unexpected(),this.finishNode(e,"Super");case k._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case k.name:var i=this.start,s=this.startLoc,r=this.containsEsc,a=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!r&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(k._function))return this.parseFunction(this.startNodeAt(i,s),0,!1,!0);if(n&&!this.canInsertSemicolon()){if(this.eat(k.arrow))return this.parseArrowExpression(this.startNodeAt(i,s),[a],!1);if(this.options.ecmaVersion>=8&&"async"===a.name&&this.type===k.name&&!r)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(k.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(i,s),[a],!0)}return a;case k.regexp:var o=this.value;return(e=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},e;case k.num:case k.string:return this.parseLiteral(this.value);case k._null:case k._true:case k._false:return(e=this.startNode()).value=this.type===k._null?null:this.type===k._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case k.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(n);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),u;case k.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(k.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case k.braceL:return this.parseObj(!1,t);case k._function:return e=this.startNode(),this.next(),this.parseFunction(e,0);case k._class:return this.parseClass(this.startNode(),!1);case k._new:return this.parseNew();case k.backQuote:return this.parseTemplate();case k._import:return this.options.ecmaVersion>=11?this.parseExprImport():this.unexpected();default:this.unexpected()}},nt.parseExprImport=function(){var t=this.startNode();switch(this.next(),this.type){case k.parenL:return this.parseDynamicImport(t);default:this.unexpected()}},nt.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(k.parenR)){var e=this.start;this.eat(k.comma)&&this.eat(k.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},nt.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1)),this.next(),this.finishNode(e,"Literal")},nt.parseParenExpression=function(){this.expect(k.parenL);var t=this.parseExpression();return this.expect(k.parenR),t},nt.parseParenAndDistinguishExpression=function(t){var e,n=this.start,i=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var r,a=this.start,o=this.startLoc,l=[],u=!0,c=!1,h=new Q,d=this.yieldPos,p=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==k.parenR;){if(u?u=!1:this.expect(k.comma),s&&this.afterTrailingComma(k.parenR,!0)){c=!0;break}if(this.type===k.ellipsis){r=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===k.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,h,this.parseParenItem))}var f=this.start,m=this.startLoc;if(this.expect(k.parenR),t&&!this.canInsertSemicolon()&&this.eat(k.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=p,this.parseParenArrowList(n,i,l);l.length&&!c||this.unexpected(this.lastTokStart),r&&this.unexpected(r),this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,l.length>1?((e=this.startNodeAt(a,o)).expressions=l,this.finishNodeAt(e,"SequenceExpression",f,m)):e=l[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var _=this.startNodeAt(n,i);return _.expression=e,this.finishNode(_,"ParenthesizedExpression")}return e},nt.parseParenItem=function(t){return t},nt.parseParenArrowList=function(t,e,n){return this.parseArrowExpression(this.startNodeAt(t,e),n)};var it=[];nt.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(k.dot)){t.meta=e;var n=this.containsEsc;return t.property=this.parseIdent(!0),("target"!==t.property.name||n)&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty")}var i=this.start,s=this.startLoc,r=this.type===k._import;return t.callee=this.parseSubscripts(this.parseExprAtom(),i,s,!0),r&&"ImportExpression"===t.callee.type&&this.raise(i,"Cannot use new with import()"),this.eat(k.parenL)?t.arguments=this.parseExprList(k.parenR,this.options.ecmaVersion>=8,!1):t.arguments=it,this.finishNode(t,"NewExpression")},nt.parseTemplateElement=function(t){var e=t.isTagged,n=this.startNode();return this.type===k.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value,cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===k.backQuote,this.finishNode(n,"TemplateElement")},nt.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:e});for(n.quasis=[i];!i.tail;)this.type===k.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(k.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(k.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(n,"TemplateLiteral")},nt.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===k.name||this.type===k.num||this.type===k.string||this.type===k.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===k.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},nt.parseObj=function(t,e){var n=this.startNode(),i=!0,s={};for(n.properties=[],this.next();!this.eat(k.braceR);){if(i)i=!1;else if(this.expect(k.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(k.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),n.properties.push(r)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},nt.parseProperty=function(t,e){var n,i,s,r,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(k.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===k.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===k.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,e),this.type===k.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(s=this.start,r=this.startLoc),t||(n=this.eat(k.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(k.star),this.parsePropertyName(a,e)):i=!1,this.parsePropertyValue(a,t,n,i,s,r,e,o),this.finishNode(a,"Property")},nt.parsePropertyValue=function(t,e,n,i,s,r,a,o){if((n||i)&&this.type===k.colon&&this.unexpected(),this.eat(k.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===k.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(n,i);else if(e||o||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===k.comma||this.type===k.braceR)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((n||i)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,t.key):this.type===k.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected();else{(n||i)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var l="get"===t.kind?0:1;if(t.value.params.length!==l){var u=t.value.start;"get"===t.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},nt.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(k.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(k.bracketR),t.key;t.computed=!1}return t.key=this.type===k.num||this.type===k.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},nt.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},nt.parseMethod=function(t,e,n){var i=this.startNode(),s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=t),this.options.ecmaVersion>=8&&(i.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|U(e,i.generator)|(n?128:0)),this.expect(k.parenL),i.params=this.parseBindingList(k.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},nt.parseArrowExpression=function(t,e,n){var i=this.yieldPos,s=this.awaitPos,r=this.awaitIdentPos;return this.enterScope(16|U(n,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=i,this.awaitPos=s,this.awaitIdentPos=r,this.finishNode(t,"ArrowFunctionExpression")},nt.parseFunctionBody=function(t,e,n){var i=e&&this.type!==k.braceL,s=this.strict,r=!1;if(i)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var a=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);s&&!a||(r=this.strictDirective(this.end))&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(t,!s&&!r&&!e&&!n&&this.isSimpleParamList(t.params)),t.body=this.parseBlock(!1),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=o}this.exitScope(),this.strict&&t.id&&this.checkLVal(t.id,5),this.strict=s},nt.isSimpleParamList=function(t){for(var e=0,n=t;e<n.length;e+=1)if("Identifier"!==n[e].type)return!1;return!0},nt.checkParams=function(t,e){for(var n={},i=0,s=t.params;i<s.length;i+=1){var r=s[i];this.checkLVal(r,1,e?null:n)}},nt.parseExprList=function(t,e,n,i){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(k.comma),e&&this.afterTrailingComma(t))break;var a=void 0;n&&this.type===k.comma?a=null:this.type===k.ellipsis?(a=this.parseSpread(i),i&&this.type===k.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),s.push(a)}return s},nt.checkUnreserved=function(t){var e=t.start,n=t.end,i=t.name;this.inGenerator&&"yield"===i&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(i)&&this.raise(e,"Unexpected keyword '"+i+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,n).indexOf("\\")||(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+i+"' is reserved"))},nt.parseIdent=function(t,e){var n=this.startNode();return this.type===k.name?n.name=this.value:this.type.keyword?(n.name=this.type.keyword,"class"!==n.name&&"function"!==n.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(n,"Identifier"),t||(this.checkUnreserved(n),"await"!==n.name||this.awaitIdentPos||(this.awaitIdentPos=n.start)),n},nt.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===k.semi||this.canInsertSemicolon()||this.type!==k.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(k.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},nt.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")};var st=G.prototype;st.raise=function(t,e){var n=N(this.input,t);e+=" ("+n.line+":"+n.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=n,i.raisedAt=this.pos,i},st.raiseRecoverable=st.raise,st.curPosition=function(){if(this.options.locations)return new L(this.curLine,this.pos-this.lineStart)};var rt=G.prototype,at=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};rt.enterScope=function(t){this.scopeStack.push(new at(t))},rt.exitScope=function(){this.scopeStack.pop()},rt.treatFunctionsAsVarInScope=function(t){return t.flags&D||!this.inModule&&1&t.flags},rt.declareName=function(t,e,n){var i=!1;if(2===e){var s=this.currentScope();i=s.lexical.indexOf(t)>-1||s.functions.indexOf(t)>-1||s.var.indexOf(t)>-1,s.lexical.push(t),this.inModule&&1&s.flags&&delete this.undefinedExports[t]}else if(4===e)this.currentScope().lexical.push(t);else if(3===e){var r=this.currentScope();i=this.treatFunctionsAsVar?r.lexical.indexOf(t)>-1:r.lexical.indexOf(t)>-1||r.var.indexOf(t)>-1,r.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(t)>-1&&!(32&o.flags&&o.lexical[0]===t)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(t)>-1){i=!0;break}if(o.var.push(t),this.inModule&&1&o.flags&&delete this.undefinedExports[t],o.flags&B)break}i&&this.raiseRecoverable(n,"Identifier '"+t+"' has already been declared")},rt.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},rt.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},rt.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&B)return e}},rt.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&B&&!(16&e.flags))return e}};var ot=function(t,e,n){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new R(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},lt=G.prototype;function ut(t,e,n,i){return t.type=e,t.end=n,this.options.locations&&(t.loc.end=i),this.options.ranges&&(t.range[1]=n),t}lt.startNode=function(){return new ot(this,this.start,this.startLoc)},lt.startNodeAt=function(t,e){return new ot(this,t,e)},lt.finishNode=function(t,e){return ut.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},lt.finishNodeAt=function(t,e,n,i){return ut.call(this,t,e,n,i)};var ct=function(t,e,n,i,s){this.token=t,this.isExpr=!!e,this.preserveSpace=!!n,this.override=i,this.generator=!!s},ht={b_stat:new ct("{",!1),b_expr:new ct("{",!0),b_tmpl:new ct("${",!1),p_stat:new ct("(",!1),p_expr:new ct("(",!0),q_tmpl:new ct("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new ct("function",!1),f_expr:new ct("function",!0),f_expr_gen:new ct("function",!0,!1,null,!0),f_gen:new ct("function",!1,!1,null,!0)},dt=G.prototype;dt.initialContext=function(){return[ht.b_stat]},dt.braceIsBlock=function(t){var e=this.curContext();return e===ht.f_expr||e===ht.f_stat||(t!==k.colon||e!==ht.b_stat&&e!==ht.b_expr?t===k._return||t===k.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):t===k._else||t===k.semi||t===k.eof||t===k.parenR||t===k.arrow||(t===k.braceL?e===ht.b_stat:t!==k._var&&t!==k._const&&t!==k.name&&!this.exprAllowed):!e.isExpr)},dt.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},dt.updateContext=function(t){var e,n=this.type;n.keyword&&t===k.dot?this.exprAllowed=!1:(e=n.updateContext)?e.call(this,t):this.exprAllowed=n.beforeExpr},k.parenR.updateContext=k.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===ht.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},k.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ht.b_stat:ht.b_expr),this.exprAllowed=!0},k.dollarBraceL.updateContext=function(){this.context.push(ht.b_tmpl),this.exprAllowed=!0},k.parenL.updateContext=function(t){var e=t===k._if||t===k._for||t===k._with||t===k._while;this.context.push(e?ht.p_stat:ht.p_expr),this.exprAllowed=!0},k.incDec.updateContext=function(){},k._function.updateContext=k._class.updateContext=function(t){!t.beforeExpr||t===k.semi||t===k._else||t===k._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(t===k.colon||t===k.braceL)&&this.curContext()===ht.b_stat?this.context.push(ht.f_stat):this.context.push(ht.f_expr),this.exprAllowed=!1},k.backQuote.updateContext=function(){this.curContext()===ht.q_tmpl?this.context.pop():this.context.push(ht.q_tmpl),this.exprAllowed=!1},k.star.updateContext=function(t){if(t===k._function){var e=this.context.length-1;this.context[e]===ht.f_expr?this.context[e]=ht.f_expr_gen:this.context[e]=ht.f_gen}this.exprAllowed=!0},k.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==k.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var pt="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ft=pt+" Extended_Pictographic",mt={9:pt,10:ft,11:ft},_t="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",yt="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",gt=yt+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",vt={9:yt,10:gt,11:gt+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},bt={};function xt(t){var e=bt[t]={binary:M(mt[t]+" "+_t),nonBinary:{General_Category:M(_t),Script:M(vt[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}xt(9),xt(10),xt(11);var kt=G.prototype,wt=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":""),this.unicodeProperties=bt[t.options.ecmaVersion>=11?11:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function St(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function $t(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function Tt(t){return t>=65&&t<=90||t>=97&&t<=122}function At(t){return Tt(t)||95===t}function Et(t){return At(t)||Ct(t)}function Ct(t){return t>=48&&t<=57}function Pt(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function Ot(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function qt(t){return t>=48&&t<=55}wt.prototype.reset=function(t,e,n){var i=-1!==n.indexOf("u");this.start=0|t,this.source=e+"",this.flags=n,this.switchU=i&&this.parser.options.ecmaVersion>=6,this.switchN=i&&this.parser.options.ecmaVersion>=9},wt.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},wt.prototype.at=function(t){var e=this.source,n=e.length;if(t>=n)return-1;var i=e.charCodeAt(t);return!this.switchU||i<=55295||i>=57344||t+1>=n?i:(i<<10)+e.charCodeAt(t+1)-56613888},wt.prototype.nextIndex=function(t){var e=this.source,n=e.length;if(t>=n)return n;var i=e.charCodeAt(t);return!this.switchU||i<=55295||i>=57344||t+1>=n?t+1:t+2},wt.prototype.current=function(){return this.at(this.pos)},wt.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},wt.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},wt.prototype.eat=function(t){return this.current()===t&&(this.advance(),!0)},kt.validateRegExpFlags=function(t){for(var e=t.validFlags,n=t.flags,i=0;i<n.length;i++){var s=n.charAt(i);-1===e.indexOf(s)&&this.raise(t.start,"Invalid regular expression flag"),n.indexOf(s,i+1)>-1&&this.raise(t.start,"Duplicate regular expression flag")}},kt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},kt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,n=t.backReferenceNames;e<n.length;e+=1){var i=n[e];-1===t.groupNames.indexOf(i)&&t.raise("Invalid named capture referenced")}},kt.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},kt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},kt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!(t.switchU?!this.regexp_eatAtom(t):!this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},kt.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!n,!0}return t.pos=e,!1},kt.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},kt.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},kt.regexp_eatBracedQuantifier=function(t,e){var n=t.pos;if(t.eat(123)){var i=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(i=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return-1!==s&&s<i&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=n}return!1},kt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},kt.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},kt.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},kt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},kt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},kt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},kt.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!$t(e)&&(t.lastIntValue=e,t.advance(),!0)},kt.regexp_eatPatternCharacters=function(t){for(var e=t.pos,n=0;-1!==(n=t.current())&&!$t(n);)t.advance();return t.pos!==e},kt.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e||(t.advance(),0))},kt.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},kt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},kt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=St(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=St(t.lastIntValue);return!0}return!1},kt.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,n=t.current();return t.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(n=t.lastIntValue),function(t){return f(t,!0)||36===t||95===t}(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},kt.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,n=t.current();return t.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(n=t.lastIntValue),function(t){return m(t,!0)||36===t||95===t||8204===t||8205===t}(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)},kt.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},kt.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var n=t.lastIntValue;if(t.switchU)return n>t.maxBackReference&&(t.maxBackReference=n),!0;if(n<=t.numCapturingParens)return!0;t.pos=e}return!1},kt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},kt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},kt.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},kt.regexp_eatZero=function(t){return 48===t.current()&&!Ct(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},kt.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},kt.regexp_eatControlLetter=function(t){var e=t.current();return!!Tt(e)&&(t.lastIntValue=e%32,t.advance(),!0)},kt.regexp_eatRegExpUnicodeEscapeSequence=function(t){var e,n=t.pos;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(t.switchU&&i>=55296&&i<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(r>=56320&&r<=57343)return t.lastIntValue=1024*(i-55296)+(r-56320)+65536,!0}t.pos=s,t.lastIntValue=i}return!0}if(t.switchU&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&(e=t.lastIntValue)>=0&&e<=1114111)return!0;t.switchU&&t.raise("Invalid unicode escape"),t.pos=n}return!1},kt.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e||(t.lastIntValue=e,t.advance(),0))},kt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1},kt.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(function(t){return 100===t||68===t||115===t||83===t||119===t||87===t}(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(80===e||112===e)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},kt.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var n=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var i=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,n,i),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s),!0}return!1},kt.regexp_validateUnicodePropertyNameAndValue=function(t,e,n){O(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(n)||t.raise("Invalid property value")},kt.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},kt.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";At(e=t.current());)t.lastStringValue+=St(e),t.advance();return""!==t.lastStringValue},kt.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Et(e=t.current());)t.lastStringValue+=St(e),t.advance();return""!==t.lastStringValue},kt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},kt.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},kt.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var n=t.lastIntValue;!t.switchU||-1!==e&&-1!==n||t.raise("Invalid character class"),-1!==e&&-1!==n&&e>n&&t.raise("Range out of order in character class")}}},kt.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var n=t.current();(99===n||qt(n))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var i=t.current();return 93!==i&&(t.lastIntValue=i,t.advance(),!0)},kt.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},kt.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!Ct(e)&&95!==e||(t.lastIntValue=e%32,t.advance(),0))},kt.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},kt.regexp_eatDecimalDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Ct(n=t.current());)t.lastIntValue=10*t.lastIntValue+(n-48),t.advance();return t.pos!==e},kt.regexp_eatHexDigits=function(t){var e=t.pos,n=0;for(t.lastIntValue=0;Pt(n=t.current());)t.lastIntValue=16*t.lastIntValue+Ot(n),t.advance();return t.pos!==e},kt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var n=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*n+t.lastIntValue:t.lastIntValue=8*e+n}else t.lastIntValue=e;return!0}return!1},kt.regexp_eatOctalDigit=function(t){var e=t.current();return qt(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},kt.regexp_eatFixedHexDigits=function(t,e){var n=t.pos;t.lastIntValue=0;for(var i=0;i<e;++i){var s=t.current();if(!Pt(s))return t.pos=n,!1;t.lastIntValue=16*t.lastIntValue+Ot(s),t.advance()}return!0};var Mt=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new R(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Lt=G.prototype;function Rt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}Lt.next=function(){this.options.onToken&&this.options.onToken(new Mt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Lt.getToken=function(){return this.next(),new Mt(this)},"undefined"!=typeof Symbol&&(Lt[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===k.eof,value:e}}}}),Lt.curContext=function(){return this.context[this.context.length-1]},Lt.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(k.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},Lt.readToken=function(t){return f(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},Lt.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||t>=57344?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},Lt.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),n=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(S.lastIndex=n;(t=S.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(n+2,i),n,this.pos,e,this.curPosition())},Lt.skipLineComment=function(t){for(var e=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!$(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,n,this.curPosition())},Lt.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&T.test(String.fromCharCode(t))))break t;++this.pos}}},Lt.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=t,this.value=e,this.updateContext(n)},Lt.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(k.ellipsis)):(++this.pos,this.finishToken(k.dot))},Lt.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(k.assign,2):this.finishOp(k.slash,1)},Lt.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),n=1,i=42===t?k.star:k.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++n,i=k.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(k.assign,n+1):this.finishOp(i,n)},Lt.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?k.logicalOR:k.logicalAND,2):61===e?this.finishOp(k.assign,2):this.finishOp(124===t?k.bitwiseOR:k.bitwiseAND,1)},Lt.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(k.assign,2):this.finishOp(k.bitwiseXOR,1)},Lt.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(k.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(k.assign,2):this.finishOp(k.plusMin,1)},Lt.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),n=1;return e===t?(n=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n)?this.finishOp(k.assign,n+1):this.finishOp(k.bitShift,n)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(n=2),this.finishOp(k.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Lt.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(k.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(k.arrow)):this.finishOp(61===t?k.eq:k.prefix,1)},Lt.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(k.parenL);case 41:return++this.pos,this.finishToken(k.parenR);case 59:return++this.pos,this.finishToken(k.semi);case 44:return++this.pos,this.finishToken(k.comma);case 91:return++this.pos,this.finishToken(k.bracketL);case 93:return++this.pos,this.finishToken(k.bracketR);case 123:return++this.pos,this.finishToken(k.braceL);case 125:return++this.pos,this.finishToken(k.braceR);case 58:return++this.pos,this.finishToken(k.colon);case 63:return++this.pos,this.finishToken(k.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(k.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(k.prefix,1)}this.raise(this.pos,"Unexpected character '"+Rt(t)+"'")},Lt.finishOp=function(t,e){var n=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,n)},Lt.readRegexp=function(){for(var t,e,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(w.test(i)&&this.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===i)e=!0;else if("]"===i&&e)e=!1;else if("/"===i&&!e)break;t="\\"===i}++this.pos}var s=this.input.slice(n,this.pos);++this.pos;var r=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(r);var o=this.regexpState||(this.regexpState=new wt(this));o.reset(n,s,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(s,a)}catch(t){}return this.finishToken(k.regexp,{pattern:s,flags:a,value:l})},Lt.readInt=function(t,e){for(var n=this.pos,i=0,s=0,r=null==e?1/0:e;s<r;++s){var a=this.input.charCodeAt(this.pos),o=void 0;if((o=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0)>=t)break;++this.pos,i=i*t+o}return this.pos===n||null!=e&&this.pos-n!==e?null:i},Lt.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var n=this.readInt(t);return null==n&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n="undefined"!=typeof BigInt?BigInt(this.input.slice(e,this.pos)):null,++this.pos):f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,n)},Lt.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10)||this.raise(e,"Invalid number");var n=this.pos-e>=2&&48===this.input.charCodeAt(e);n&&this.strict&&this.raise(e,"Invalid number"),n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1);var i=this.input.charCodeAt(this.pos);if(!n&&!t&&this.options.ecmaVersion>=11&&110===i){var s=this.input.slice(e,this.pos),r="undefined"!=typeof BigInt?BigInt(s):null;return++this.pos,f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(k.num,r)}46!==i||n||(++this.pos,this.readInt(10),i=this.input.charCodeAt(this.pos)),69!==i&&101!==i||n||(43!==(i=this.input.charCodeAt(++this.pos))&&45!==i||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),f(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(e,this.pos),o=n?parseInt(a,8):parseFloat(a);return this.finishToken(k.num,o)},Lt.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},Lt.readString=function(t){for(var e="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===t)break;92===i?(e+=this.input.slice(n,this.pos),e+=this.readEscapedChar(!1),n=this.pos):($(i,this.options.ecmaVersion>=10)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(n,this.pos++),this.finishToken(k.string,e)};var Nt={};function It(t,e,n){return G.parseExpressionAt(t,e,n)}Lt.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==Nt)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Lt.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Nt;this.raise(t,e)},Lt.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==k.template&&this.type!==k.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(k.template,t)):36===n?(this.pos+=2,this.finishToken(k.dollarBraceL)):(++this.pos,this.finishToken(k.backQuote));if(92===n)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if($(n)){switch(t+=this.input.slice(e,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},Lt.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(k.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Lt.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Rt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),"0"===n&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return $(e)?"":String.fromCharCode(e)}},Lt.readHexChar=function(t){var e=this.pos,n=this.readInt(16,t);return null===n&&this.invalidStringToken(e,"Bad character escape sequence"),n},Lt.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(m(s,i))this.pos+=s<=65535?1:2;else{if(92!==s)break;this.containsEsc=!0,t+=this.input.slice(n,this.pos);var r=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?f:m)(a,i)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=Rt(a),n=this.pos}e=!1}return t+this.input.slice(n,this.pos)},Lt.readWord=function(){var t=this.readWord1(),e=k.name;return this.keywords.test(t)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+t),e=b[t]),this.finishToken(e,t)},G.acorn={Parser:G,version:"7.1.0",defaultOptions:I,Position:L,SourceLocation:R,getLineInfo:N,Node:ot,TokenType:_,tokTypes:k,keywordTypes:b,TokContext:ct,tokContexts:ht,isIdentifierChar:m,isIdentifierStart:f,Token:Mt,isNewLine:$,lineBreak:w,lineBreakG:S,nonASCIIwhitespace:T};const Ft=G,Dt=t=>Ft.parse(t,{sourceType:"module",ecmaVersion:11,locations:!0}),Bt=(t,e)=>Ft.parseExpressionAt(t,e,{ecmaVersion:11,locations:!0}),Vt=/[ \t\r\n]/,jt=/^(?:offset|client)(?:Width|Height)$/,Ut=new Map([["true",!0],["false",!1],["null",null]]);function Gt(t){const e=t.index,n=t.read_until(/\s*}/);if(n&&/^[a-z]+$/.test(n)){const t=e+n.length;return Ut.has(n)?{type:"Literal",start:e,end:t,value:Ut.get(n),raw:n}:{type:"Identifier",start:e,end:e+n.length,name:n}}t.index=e;try{const e=Bt(t.template,t.index);let n=0;for(let i=t.index;i<e.start;i+=1)"("===t.template[i]&&(n+=1);let i=e.end;for(;n>0;){const e=t.template[i];")"===e?n-=1:Vt.test(e)||t.error({code:"unexpected-token",message:"Expected )"},i),i+=1}return t.index=i,e}catch(e){t.acorn_error(e)}}const Wt="<\/script>";function zt(t,e,n){const i=e.find(t=>"context"===t.name);if(!i)return"default";1===i.value.length&&"Text"===i.value[0].type||t.error({code:"invalid-script",message:"context attribute must be static"},n);const s=i.value[0].data;return"module"!==s&&t.error({code:"invalid-script",message:'If the context attribute is supplied, its value must be "module"'},i.start),s}var Ht=100,Qt=60,Yt="    ";function Xt(t,e){function n(t,e){return i.slice(t,e).map((function(e,n){for(var i=String(t+n+1);i.length<l;)i=" "+i;return i+" |"+e})).join("\n")}var i=t.source.split(/\n|\r\n?|\f/),s=t.line,r=t.column,a=Math.max(1,s-e)-1,o=Math.min(s+e,i.length+1),l=Math.max(4,String(o).length)+1,u=0;(r+=(Yt.length-1)*(i[s-1].substr(0,r-1).match(/\t/g)||[]).length)>Ht&&(u=r-Qt+3,r=Qt-2);for(var c=a;c<=o;c++)c>=0&&c<i.length&&(i[c]=i[c].replace(/\t/g,Yt),i[c]=(u>0&&i[c].length>u?"…":"")+i[c].substr(u,Ht-2)+(i[c].length>u+Ht-1?"…":""));return[n(a,s),new Array(r+l+2).join("-")+"^",n(s,o)].join("\n")}for(var Zt=function(t,e,n,i,s){var r=Object.create(SyntaxError.prototype);return r.name="CssSyntaxError",r.message=t,r.stack=((new Error).stack||"").replace(/^.+\n/,r.name+": "+r.message+"\n"),r.source=e,r.offset=n,r.line=i,r.column=s,r.sourceFragment=function(t){return Xt(r,isNaN(t)?0:t)},Object.defineProperty(r,"formattedMessage",{get:function(){return"Parse error: "+r.message+"\n"+Xt(r,2)}}),r.parseError={offset:n,line:i,column:s},r},Jt={WhiteSpace:1,Identifier:2,Number:3,String:4,Comment:5,Punctuator:6,CDO:7,CDC:8,Atrule:14,Function:15,Url:16,Raw:17,ExclamationMark:33,QuotationMark:34,NumberSign:35,DollarSign:36,PercentSign:37,Ampersand:38,Apostrophe:39,LeftParenthesis:40,RightParenthesis:41,Asterisk:42,PlusSign:43,Comma:44,HyphenMinus:45,FullStop:46,Solidus:47,Colon:58,Semicolon:59,LessThanSign:60,EqualsSign:61,GreaterThanSign:62,QuestionMark:63,CommercialAt:64,LeftSquareBracket:91,Backslash:92,RightSquareBracket:93,CircumflexAccent:94,LowLine:95,GraveAccent:96,LeftCurlyBracket:123,VerticalLine:124,RightCurlyBracket:125,Tilde:126},Kt=Object.keys(Jt).reduce((function(t,e){return t[Jt[e]]=e,t}),{}),te="undefined"!=typeof Uint32Array?Uint32Array:Array,ee=new te(128),ne=new te(128),ie=new te(128),se=0;se<ee.length;se++)ee[se]=2;for([Jt.ExclamationMark,Jt.QuotationMark,Jt.NumberSign,Jt.DollarSign,Jt.PercentSign,Jt.Ampersand,Jt.Apostrophe,Jt.LeftParenthesis,Jt.RightParenthesis,Jt.Asterisk,Jt.PlusSign,Jt.Comma,Jt.HyphenMinus,Jt.FullStop,Jt.Solidus,Jt.Colon,Jt.Semicolon,Jt.LessThanSign,Jt.EqualsSign,Jt.GreaterThanSign,Jt.QuestionMark,Jt.CommercialAt,Jt.LeftSquareBracket,Jt.RightSquareBracket,Jt.CircumflexAccent,Jt.GraveAccent,Jt.LeftCurlyBracket,Jt.VerticalLine,Jt.RightCurlyBracket,Jt.Tilde].forEach((function(t){ee[Number(t)]=6,ne[Number(t)]=6})),se=48;se<=57;se++)ee[se]=3;ee[32]=1,ee[9]=1,ee[10]=1,ee[13]=1,ee[12]=1,ee[Jt.Apostrophe]=4,ee[Jt.QuotationMark]=4,ie[32]=1,ie[9]=1,ie[10]=1,ie[13]=1,ie[12]=1,ie[Jt.Apostrophe]=1,ie[Jt.QuotationMark]=1,ie[Jt.LeftParenthesis]=1,ie[Jt.RightParenthesis]=1,ne[32]=6,ne[9]=6,ne[10]=6,ne[13]=6,ne[12]=6,ne[Jt.HyphenMinus]=0;var re={TYPE:Jt,NAME:Kt,SYMBOL_TYPE:ee,PUNCTUATION:ne,STOP_URL_RAW:ie},ae=re.PUNCTUATION,oe=re.STOP_URL_RAW,le=re.TYPE,ue=le.FullStop,ce=le.PlusSign,he=le.HyphenMinus,de=le.Punctuator,pe=9,fe=10,me=12,_e=13,ye=32,ge=92,ve=101;function be(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function xe(t){return t>=48&&t<=57}function ke(t,e,n){return n===fe||n===me||n===_e?n===_e&&e+1<t.length&&t.charCodeAt(e+1)===fe?2:1:0}function we(t,e,n,i){if(n-e!==i.length)return!1;if(e<0||n>t.length)return!1;for(var s=e;s<n;s++){var r=t.charCodeAt(s);if(r>=65&&r<=90&&(r|=32),r!==i.charCodeAt(s-e))return!1}return!0}function Se(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)break}return e}function $e(t,e){for(var n=0;n<7&&e+n<t.length;n++){var i=t.charCodeAt(e+n);if(6===n||!be(i)){n>0&&(e+=n-1+ke(t,e+n,i),i!==ye&&i!==pe||e++);break}}return e}var Te={firstCharOffset:function(t){return 65279===t.charCodeAt(0)||65534===t.charCodeAt(0)?1:0},isHex:be,isNumber:xe,isNewline:ke,cmpChar:function(t,e,n){var i=t.charCodeAt(e);return i>=65&&i<=90&&(i|=32),i===n},cmpStr:we,endsWith:function(t,e){return we(t,t.length-e.length,t.length,e)},findLastNonSpaceLocation:function(t){for(var e=t.source.length-1;e>=0;e--){var n=t.source.charCodeAt(e);if(n!==ye&&n!==pe&&n!==_e&&n!==fe&&n!==me)break}return t.getLocation(e+1)},findWhiteSpaceEnd:function(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n!==ye&&n!==pe&&n!==_e&&n!==fe&&n!==me)break}return e},findCommentEnd:function(t,e){var n=t.indexOf("*/",e);return-1===n?t.length:n+2},findStringEnd:function(t,e,n){for(;e<t.length;e++){var i=t.charCodeAt(e);if(i===ge)e++;else if(i===n){e++;break}}return e},findDecimalNumberEnd:Se,findNumberEnd:function(t,e,n){var i;return e=Se(t,e),n&&e+1<t.length&&t.charCodeAt(e)===ue&&xe(i=t.charCodeAt(e+1))&&(e=Se(t,e+1)),e+1<t.length&&(32|t.charCodeAt(e))===ve&&((i=t.charCodeAt(e+1))!==ce&&i!==he||e+2<t.length&&(i=t.charCodeAt(e+2)),xe(i)&&(e=Se(t,e+2))),e},findEscaseEnd:$e,findIdentifierEnd:function(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n===ge)e=$e(t,e+1);else if(n<128&&ae[n]===de)break}return e},findUrlRawEnd:function(t,e){for(;e<t.length;e++){var n=t.charCodeAt(e);if(n===ge)e=$e(t,e+1);else if(n<128&&1===oe[n])break}return e}},Ae=re.TYPE,Ee=re.NAME,Ce=re.SYMBOL_TYPE,Pe=Te.firstCharOffset,Oe=Te.cmpStr,qe=Te.isNumber,Me=Te.findLastNonSpaceLocation,Le=Te.findWhiteSpaceEnd,Re=Te.findCommentEnd,Ne=Te.findStringEnd,Ie=Te.findNumberEnd,Fe=Te.findIdentifierEnd,De=Te.findUrlRawEnd,Be=Ae.WhiteSpace,Ve=Ae.Identifier,je=Ae.Number,Ue=Ae.String,Ge=Ae.Comment,We=Ae.Punctuator,ze=Ae.CDO,He=Ae.CDC,Qe=Ae.Atrule,Ye=Ae.Function,Xe=Ae.Url,Ze=Ae.Raw,Je=10,Ke=12,tn=13,en=Ae.Asterisk,nn=Ae.Solidus,sn=Ae.FullStop,rn=Ae.PlusSign,an=Ae.HyphenMinus,on=Ae.GreaterThanSign,ln=Ae.LessThanSign,un=Ae.ExclamationMark,cn=Ae.CommercialAt,hn=Ae.QuotationMark,dn=Ae.Apostrophe,pn=Ae.LeftParenthesis,fn=Ae.RightParenthesis,mn=Ae.LeftCurlyBracket,_n=Ae.RightCurlyBracket,yn=Ae.LeftSquareBracket,gn=Ae.RightSquareBracket,vn=16384,bn=16777215,xn=24,kn="undefined"!=typeof Uint32Array?Uint32Array:Array;function wn(t,e){var n=e.length,i=Pe(e),s=t.lines,r=t.startLine,a=t.columns,o=t.startColumn;(null===s||s.length<n+1)&&(s=new kn(Math.max(n+1024,vn)),a=new kn(s.length));for(var l=i;l<n;l++){var u=e.charCodeAt(l);s[l]=r,a[l]=o++,u!==Je&&u!==tn&&u!==Ke||(u===tn&&l+1<n&&e.charCodeAt(l+1)===Je&&(s[++l]=r,a[l]=o),r++,o=1)}s[l]=r,a[l]=o,t.linesAnsColumnsComputed=!0,t.lines=s,t.columns=a}var Sn=function(t,e,n,i){this.offsetAndType=null,this.balance=null,this.lines=null,this.columns=null,this.setSource(t,e,n,i)};Sn.prototype={setSource:function(t,e,n,i){var s=String(t||""),r=Pe(s);this.source=s,this.firstCharOffset=r,this.startOffset=void 0===e?0:e,this.startLine=void 0===n?1:n,this.startColumn=void 0===i?1:i,this.linesAnsColumnsComputed=!1,this.eof=!1,this.currentToken=-1,this.tokenType=0,this.tokenStart=r,this.tokenEnd=r,function(t,e,n){var i=e.length,s=t.offsetAndType,r=t.balance,a=0,o=0,l=n,u=0,c=0,h=0,d=0;for((null===s||s.length<i+1)&&(s=new kn(i+1024),r=new kn(i+1024));l<i;){var p=e.charCodeAt(l),f=p<128?Ce[p]:Ve;switch(r[a]=i,f){case Be:l=Le(e,l+1);break;case We:switch(p){case c:for(c=(h=r[d=h&bn])>>xn,r[a]=d,r[d++]=a;d<a;d++)r[d]===i&&(r[d]=a);break;case yn:r[a]=h,h=(c=gn)<<xn|a;break;case mn:r[a]=h,h=(c=_n)<<xn|a;break;case pn:r[a]=h,h=(c=fn)<<xn|a}if(p===en&&o===nn){f=Ge,l=Re(e,l+1),a--;break}if(p===sn&&(o===rn||o===an)&&l+1<i&&qe(e.charCodeAt(l+1))){f=je,l=Ie(e,l+2,!1),a--;break}if(p===un&&o===ln&&l+2<i&&e.charCodeAt(l+1)===an&&e.charCodeAt(l+2)===an){f=ze,l+=3,a--;break}if(p===an&&o===an&&l+1<i&&e.charCodeAt(l+1)===on){f=He,l+=2,a--;break}if(p===pn&&o===Ve){l+=1,r[--a]=r[a+1],h--,l-u==4&&Oe(e,u,l,"url(")?(u=Le(e,l),(p=e.charCodeAt(u))!==pn&&p!==fn&&p!==hn&&p!==dn?(s[a++]=Xe<<xn|l,r[a]=i,u!==l&&(s[a++]=Be<<xn|u,r[a]=i),f=Ze,l=De(e,u)):f=Xe):f=Ye;break}f=p,l+=1;break;case je:l=Ie(e,l+1,o!==sn),o!==sn&&o!==an&&o!==rn||a--;break;case Ue:l=Ne(e,l+1,p);break;default:u=l,l=Fe(e,l),o===an&&(o=0==--a?0:s[a-1]>>xn),o===cn&&(a--,f=Qe)}s[a++]=f<<xn|l,o=f}for(s[a]=l,r[a]=i;0!==h;)h=r[d=h&bn],r[d]=i;t.offsetAndType=s,t.tokenCount=a,t.balance=r}(this,s,r),this.next()},lookupType:function(t){return(t+=this.currentToken)<this.tokenCount?this.offsetAndType[t]>>xn:0},lookupNonWSType:function(t){t+=this.currentToken;for(var e;t<this.tokenCount;t++)if((e=this.offsetAndType[t]>>xn)!==Be)return e;return 0},lookupValue:function(t,e){return(t+=this.currentToken)<this.tokenCount&&Oe(this.source,this.offsetAndType[t-1]&bn,this.offsetAndType[t]&bn,e)},getTokenStart:function(t){return t===this.currentToken?this.tokenStart:t>0?t<this.tokenCount?this.offsetAndType[t-1]&bn:this.offsetAndType[this.tokenCount]&bn:this.firstCharOffset},getOffsetExcludeWS:function(){return this.currentToken>0&&this.offsetAndType[this.currentToken-1]>>xn===Be?this.currentToken>1?this.offsetAndType[this.currentToken-2]&bn:this.firstCharOffset:this.tokenStart},getRawLength:function(t,e,n,i){var s,r=t;t:for(;r<this.tokenCount&&!((s=this.balance[r])<t);r++)switch(this.offsetAndType[r]>>xn){case e:break t;case n:i&&r++;break t;default:this.balance[s]===r&&(r=s)}return r-this.currentToken},getTokenValue:function(){return this.source.substring(this.tokenStart,this.tokenEnd)},substrToCursor:function(t){return this.source.substring(t,this.tokenStart)},skipWS:function(){for(var t=this.currentToken,e=0;t<this.tokenCount&&this.offsetAndType[t]>>xn===Be;t++,e++);e>0&&this.skip(e)},skipSC:function(){for(;this.tokenType===Be||this.tokenType===Ge;)this.next()},skip:function(t){var e=this.currentToken+t;e<this.tokenCount?(this.currentToken=e,this.tokenStart=this.offsetAndType[e-1]&bn,e=this.offsetAndType[e],this.tokenType=e>>xn,this.tokenEnd=e&bn):(this.currentToken=this.tokenCount,this.next())},next:function(){var t=this.currentToken+1;t<this.tokenCount?(this.currentToken=t,this.tokenStart=this.tokenEnd,t=this.offsetAndType[t],this.tokenType=t>>xn,this.tokenEnd=t&bn):(this.currentToken=this.tokenCount,this.eof=!0,this.tokenType=0,this.tokenStart=this.tokenEnd=this.source.length)},eat:function(t){if(this.tokenType!==t){var e=this.tokenStart,n=Ee[t]+" is expected";t===Ve?this.tokenType!==Ye&&this.tokenType!==Xe||(e=this.tokenEnd-1,n+=" but function found"):this.source.charCodeAt(this.tokenStart)===t&&(e+=1),this.error(n,e)}this.next()},eatNonWS:function(t){this.skipWS(),this.eat(t)},consume:function(t){var e=this.getTokenValue();return this.eat(t),e},consumeFunctionName:function(){var t=this.source.substring(this.tokenStart,this.tokenEnd-1);return this.eat(Ye),t},consumeNonWS:function(t){return this.skipWS(),this.consume(t)},expectIdentifier:function(t){this.tokenType===Ve&&!1!==Oe(this.source,this.tokenStart,this.tokenEnd,t)||this.error("Identifier `"+t+"` is expected"),this.next()},getLocation:function(t,e){return this.linesAnsColumnsComputed||wn(this,this.source),{source:e,offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}},getLocationRange:function(t,e,n){return this.linesAnsColumnsComputed||wn(this,this.source),{source:n,start:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]},end:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}},error:function(t,e){var n=void 0!==e&&e<this.source.length?this.getLocation(e):this.eof?Me(this):this.getLocation(this.tokenStart);throw new Zt(t||"Unexpected input",this.source,n.offset,n.line,n.column)},dump:function(){var t=0;return Array.prototype.slice.call(this.offsetAndType,0,this.tokenCount).map((function(e,n){var i=t,s=e&bn;return t=s,{idx:n,type:Ee[e>>xn],chunk:this.source.substring(i,s),balance:this.balance[n]}}),this)}},Sn.CssSyntaxError=Zt,Object.keys(re).forEach((function(t){Sn[t]=re[t]})),Object.keys(Te).forEach((function(t){Sn[t]=Te[t]})),new Sn("\n\r\r\n\f\x3c!----\x3e//\"\"''/*\r\n\f*/1a;.\\31\t+2{url(a);func();+1.2e3 -.4e-5 .6e+7}").getLocation();var $n=Sn;function Tn(t){return{prev:null,next:null,data:t}}var An=null,En=function(){this.cursor=null,this.head=null,this.tail=null};function Cn(t,e,n){var i;return null!==An?(i=An,An=An.cursor,i.prev=e,i.next=n,i.cursor=t.cursor):i={prev:e,next:n,cursor:t.cursor},t.cursor=i,i}function Pn(t){var e=t.cursor;t.cursor=e.cursor,e.prev=null,e.next=null,e.cursor=An,An=e}En.createItem=Tn,En.prototype.createItem=Tn,En.prototype.getSize=function(){for(var t=0,e=this.head;e;)t++,e=e.next;return t},En.prototype.fromArray=function(t){var e=null;this.head=null;for(var n=0;n<t.length;n++){var i=Tn(t[n]);null!==e?e.next=i:this.head=i,i.prev=e,e=i}return this.tail=e,this},En.prototype.toArray=function(){for(var t=this.head,e=[];t;)e.push(t.data),t=t.next;return e},En.prototype.toJSON=En.prototype.toArray,En.prototype.isEmpty=function(){return null===this.head},En.prototype.first=function(){return this.head&&this.head.data},En.prototype.last=function(){return this.tail&&this.tail.data},En.prototype.each=function(t,e){var n;void 0===e&&(e=this);for(var i=Cn(this,null,this.head);null!==i.next;)n=i.next,i.next=n.next,t.call(e,n.data,n,this);Pn(this)},En.prototype.eachRight=function(t,e){var n;void 0===e&&(e=this);for(var i=Cn(this,this.tail,null);null!==i.prev;)n=i.prev,i.prev=n.prev,t.call(e,n.data,n,this);Pn(this)},En.prototype.nextUntil=function(t,e,n){if(null!==t){var i;void 0===n&&(n=this);for(var s=Cn(this,null,t);null!==s.next&&(i=s.next,s.next=i.next,!e.call(n,i.data,i,this)););Pn(this)}},En.prototype.prevUntil=function(t,e,n){if(null!==t){var i;void 0===n&&(n=this);for(var s=Cn(this,t,null);null!==s.prev&&(i=s.prev,s.prev=i.prev,!e.call(n,i.data,i,this)););Pn(this)}},En.prototype.some=function(t,e){var n=this.head;for(void 0===e&&(e=this);null!==n;){if(t.call(e,n.data,n,this))return!0;n=n.next}return!1},En.prototype.map=function(t,e){var n=[],i=this.head;for(void 0===e&&(e=this);null!==i;)n.push(t.call(e,i.data,i,this)),i=i.next;return n},En.prototype.clear=function(){this.head=null,this.tail=null},En.prototype.copy=function(){for(var t=new En,e=this.head;null!==e;)t.insert(Tn(e.data)),e=e.next;return t},En.prototype.updateCursors=function(t,e,n,i){for(var s=this.cursor;null!==s;)s.prev===t&&(s.prev=e),s.next===n&&(s.next=i),s=s.cursor},En.prototype.prepend=function(t){return this.updateCursors(null,t,this.head,t),null!==this.head?(this.head.prev=t,t.next=this.head):this.tail=t,this.head=t,this},En.prototype.prependData=function(t){return this.prepend(Tn(t))},En.prototype.append=function(t){return this.updateCursors(this.tail,t,null,t),null!==this.tail?(this.tail.next=t,t.prev=this.tail):this.head=t,this.tail=t,this},En.prototype.appendData=function(t){return this.append(Tn(t))},En.prototype.insert=function(t,e){if(null!=e)if(this.updateCursors(e.prev,t,e,t),null===e.prev){if(this.head!==e)throw new Error("before doesn't belong to list");this.head=t,e.prev=t,t.next=e,this.updateCursors(null,t)}else e.prev.next=t,t.prev=e.prev,e.prev=t,t.next=e;else this.append(t)},En.prototype.insertData=function(t,e){this.insert(Tn(t),e)},En.prototype.remove=function(t){if(this.updateCursors(t,t.prev,t,t.next),null!==t.prev)t.prev.next=t.next;else{if(this.head!==t)throw new Error("item doesn't belong to list");this.head=t.next}if(null!==t.next)t.next.prev=t.prev;else{if(this.tail!==t)throw new Error("item doesn't belong to list");this.tail=t.prev}return t.prev=null,t.next=null,t},En.prototype.appendList=function(t){null!==t.head&&(this.updateCursors(this.tail,t.tail,null,t.head),null!==this.tail?(this.tail.next=t.head,t.head.prev=this.tail):this.head=t.head,this.tail=t.tail,t.head=null,t.tail=null)},En.prototype.insertList=function(t,e){if(null!=e){if(null===t.head)return;this.updateCursors(e.prev,t.tail,e,t.head),null!==e.prev?(e.prev.next=t.head,t.head.prev=e.prev):this.head=t.head,e.prev=t.tail,t.tail.next=e,t.head=null,t.tail=null}else this.appendList(t)},En.prototype.replace=function(t,e){"head"in e?this.insertList(e,t):this.insert(e,t),this.remove(t)};var On=En,qn=$n.TYPE,Mn=qn.WhiteSpace,Ln=qn.Comment,Rn=function(t){var e=new On,n=null,i={recognizer:t,space:null,ignoreWS:!1,ignoreWSAfter:!1};for(this.scanner.skipSC();!this.scanner.eof;){switch(this.scanner.tokenType){case Ln:this.scanner.next();continue;case Mn:i.ignoreWS?this.scanner.next():i.space=this.WhiteSpace();continue}if(void 0===(n=t.getNode.call(this,i)))break;null!==i.space&&(e.appendData(i.space),i.space=null),e.appendData(n),i.ignoreWSAfter?(i.ignoreWSAfter=!1,i.ignoreWS=!0):i.ignoreWS=!1}return e},Nn=function(){};function In(t){return function(){return this[t]()}}var Fn=$n.cmpChar,Dn=$n.TYPE,Bn=Dn.Identifier,Vn=Dn.String,jn=Dn.Number,Un=Dn.Function,Gn=Dn.Url,Wn=Dn.NumberSign,zn=Dn.LeftParenthesis,Hn=Dn.LeftSquareBracket,Qn=Dn.PlusSign,Yn=Dn.HyphenMinus,Xn=Dn.Comma,Zn=Dn.Solidus,Jn=Dn.Asterisk,Kn=Dn.PercentSign,ti=Dn.Backslash,ei=function(t){switch(this.scanner.tokenType){case Wn:return this.HexColor();case Xn:return t.space=null,t.ignoreWSAfter=!0,this.Operator();case Zn:case Jn:case Qn:case Yn:return this.Operator();case zn:return this.Parentheses(this.readSequence,t.recognizer);case Hn:return this.Brackets(this.readSequence,t.recognizer);case Vn:return this.String();case jn:switch(this.scanner.lookupType(1)){case Kn:return this.Percentage();case Bn:return Fn(this.scanner.source,this.scanner.tokenEnd,ti)?this.Number():this.Dimension();default:return this.Number()}case Un:return this.Function(this.readSequence,t.recognizer);case Gn:return this.Url();case Bn:return Fn(this.scanner.source,this.scanner.tokenStart,117)&&Fn(this.scanner.source,this.scanner.tokenStart+1,Qn)?this.UnicodeRange():this.Identifier()}},ni={getNode:ei},ii=$n.TYPE,si=ii.Identifier,ri=ii.Number,ai=ii.NumberSign,oi=ii.LeftSquareBracket,li=ii.PlusSign,ui=ii.Solidus,ci=ii.Asterisk,hi=ii.FullStop,di=ii.Colon,pi=ii.GreaterThanSign,fi=ii.VerticalLine,mi=ii.Tilde,_i={getNode:function(t){switch(this.scanner.tokenType){case li:case pi:case mi:return t.space=null,t.ignoreWSAfter=!0,this.Combinator();case ui:return this.Combinator();case hi:return this.ClassSelector();case oi:return this.AttributeSelector();case ai:return this.IdSelector();case di:return this.scanner.lookupType(1)===di?this.PseudoElementSelector():this.PseudoClassSelector();case si:case ci:case fi:return this.TypeSelector();case ri:return this.Percentage()}}},yi=function(){this.scanner.skipSC();var t=this.IdSelector();return this.scanner.skipSC(),(new On).appendData(t)},gi=$n.TYPE,vi=gi.Identifier,bi=gi.Comma,xi=gi.Semicolon,ki=gi.HyphenMinus,wi=gi.ExclamationMark,Si={AtruleExpression:ni,Selector:_i,Value:{getNode:ei,"-moz-element":yi,element:yi,expression:function(){return(new On).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1))},var:function(){var t=new On;this.scanner.skipSC();var e=this.scanner.tokenStart;return this.scanner.eat(ki),this.scanner.source.charCodeAt(this.scanner.tokenStart)!==ki&&this.scanner.error("HyphenMinus is expected"),this.scanner.eat(vi),t.appendData({type:"Identifier",loc:this.getLocation(e,this.scanner.tokenStart),name:this.scanner.substrToCursor(e)}),this.scanner.skipSC(),this.scanner.tokenType===bi&&(t.appendData(this.Operator()),t.appendData(this.parseCustomProperty?this.Value(null):this.Raw(this.scanner.currentToken,wi,xi,!1,!1))),t}}},$i=$n.TYPE,Ti=$i.String,Ai=$i.Identifier,Ei=$i.Url,Ci=$i.LeftParenthesis,Pi={parse:{expression:function(){var t=new On;switch(this.scanner.skipSC(),this.scanner.tokenType){case Ti:t.appendData(this.String());break;case Ei:t.appendData(this.Url());break;default:this.scanner.error("String or url() is expected")}return this.scanner.lookupNonWSType(0)!==Ai&&this.scanner.lookupNonWSType(0)!==Ci||(t.appendData(this.WhiteSpace()),t.appendData(this.MediaQueryList())),t},block:null}},Oi={parse:{expression:function(){return(new On).appendData(this.MediaQueryList())},block:function(){return this.Block(this.Rule)}}},qi=$n.TYPE.LeftCurlyBracket,Mi={parse:{expression:function(){return this.scanner.lookupNonWSType(0)===qi?null:(new On).appendData(this.SelectorList())},block:function(){return this.Block(this.Declaration)}}},Li=$n.TYPE,Ri=Li.WhiteSpace,Ni=Li.Comment,Ii=Li.Identifier,Fi=Li.Function,Di=Li.LeftParenthesis,Bi=Li.HyphenMinus,Vi=Li.Colon;function ji(){return(new On).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1))}function Ui(){var t=0;return this.scanner.skipSC(),this.scanner.tokenType===Ii?t=1:this.scanner.tokenType===Bi&&this.scanner.lookupType(1)===Ii&&(t=2),0!==t&&this.scanner.lookupNonWSType(t)===Vi?(new On).appendData(this.Declaration()):Gi.call(this)}function Gi(){var t,e=new On,n=null;this.scanner.skipSC();t:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case Ri:n=this.WhiteSpace();continue;case Ni:this.scanner.next();continue;case Fi:t=this.Function(ji,this.scope.AtruleExpression);break;case Ii:t=this.Identifier();break;case Di:t=this.Parentheses(Ui,this.scope.AtruleExpression);break;default:break t}null!==n&&(e.appendData(n),n=null),e.appendData(t)}return e}var Wi={"font-face":{parse:{expression:null,block:function(){return this.Block(this.Declaration)}}},import:Pi,media:Oi,page:Mi,supports:{parse:{expression:function(){var t=Gi.call(this);return t.isEmpty()&&this.scanner.error("Condition is expected"),t},block:function(){return this.Block(this.Rule)}}}},zi={parse:function(){return(new On).appendData(this.SelectorList())}},Hi={parse:function(){return(new On).appendData(this.Nth(!0))}},Qi={parse:function(){return(new On).appendData(this.Nth(!1))}},Yi={dir:{parse:function(){return(new On).appendData(this.Identifier())}},has:{parse:function(){return(new On).appendData(this.SelectorList())}},lang:{parse:function(){return(new On).appendData(this.Identifier())}},matches:zi,not:zi,"nth-child":Hi,"nth-last-child":Hi,"nth-last-of-type":Qi,"nth-of-type":Qi,slotted:{parse:function(){return(new On).appendData(this.Selector())}}},Xi=$n.cmpChar,Zi=$n.isNumber,Ji=$n.TYPE,Ki=Ji.Identifier,ts=Ji.Number,es=Ji.PlusSign,ns=Ji.HyphenMinus;function is(t,e){var n=t.tokenStart;for(t.source.charCodeAt(n)!==es&&t.source.charCodeAt(n)!==ns||(e&&t.error(),n++);n<t.tokenEnd;n++)Zi(t.source.charCodeAt(n))||t.error("Unexpected input",n)}var ss={name:"AnPlusB",structure:{a:[String,null],b:[String,null]},parse:function(){var t=this.scanner.tokenStart,e=t,n="",i=null,s=null;if(this.scanner.tokenType!==ts&&this.scanner.tokenType!==es||(is(this.scanner,!1),n=this.scanner.getTokenValue(),this.scanner.next(),e=this.scanner.tokenStart),this.scanner.tokenType===Ki){var r=this.scanner.tokenStart;Xi(this.scanner.source,r,ns)&&(""===n?(n="-",r++):this.scanner.error("Unexpected hyphen minus")),Xi(this.scanner.source,r,110)||this.scanner.error(),i=""===n?"1":"+"===n?"+1":"-"===n?"-1":n;var a=this.scanner.tokenEnd-r;a>1?(this.scanner.source.charCodeAt(r+1)!==ns&&this.scanner.error("Unexpected input",r+1),a>2?this.scanner.tokenStart=r+2:(this.scanner.next(),this.scanner.skipSC()),is(this.scanner,!0),s="-"+this.scanner.getTokenValue(),this.scanner.next(),e=this.scanner.tokenStart):(n="",this.scanner.next(),e=this.scanner.tokenStart,this.scanner.skipSC(),this.scanner.tokenType!==ns&&this.scanner.tokenType!==es||(n=this.scanner.getTokenValue(),this.scanner.next(),this.scanner.skipSC()),this.scanner.tokenType===ts?(is(this.scanner,""!==n),Zi(this.scanner.source.charCodeAt(this.scanner.tokenStart))||(n=this.scanner.source.charAt(this.scanner.tokenStart),this.scanner.tokenStart++),""===n?this.scanner.error():"+"===n&&(n=""),s=n+this.scanner.getTokenValue(),this.scanner.next(),e=this.scanner.tokenStart):n&&this.scanner.eat(ts))}else""!==n&&"+"!==n||this.scanner.error("Number or identifier is expected",this.scanner.tokenStart+(this.scanner.tokenType===es||this.scanner.tokenType===ns)),s=n;return{type:"AnPlusB",loc:this.getLocation(t,e),a:i,b:s}},generate:function(t,e){var n=null!==e.a&&void 0!==e.a,i=null!==e.b&&void 0!==e.b;n?(t("+1"===e.a?"+n":"1"===e.a?"n":"-1"===e.a?"-n":e.a+"n"),i&&("-"===(i=String(e.b)).charAt(0)||"+"===i.charAt(0)?(t(i.charAt(0)),t(i.substr(1))):(t("+"),t(i)))):t(String(e.b))}},rs=$n.TYPE,as=rs.Atrule,os=rs.Semicolon,ls=rs.LeftCurlyBracket,us=rs.RightCurlyBracket;function cs(){for(var t,e=1;t=this.scanner.lookupType(e);e++){if(t===us)return!0;if(t===ls||t===as)return!1}this.scanner.skip(e),this.scanner.eat(us)}var hs={name:"Atrule",structure:{name:String,expression:["AtruleExpression",null],block:["Block",null]},parse:function(){var t,e,n=this.scanner.tokenStart,i=null,s=null;if(this.scanner.eat(as),e=(t=this.scanner.substrToCursor(n+1)).toLowerCase(),this.scanner.skipSC(),null===(i=this.AtruleExpression(t)).children.head&&(i=null),this.scanner.skipSC(),this.atrule.hasOwnProperty(e))"function"==typeof this.atrule[e].block?(this.scanner.tokenType!==ls&&this.scanner.error("Curly bracket is expected"),s=this.atrule[e].block.call(this)):this.tolerant&&this.scanner.eof||this.scanner.eat(os);else switch(this.scanner.tokenType){case os:this.scanner.next();break;case ls:s=this.Block(cs.call(this)?this.Declaration:this.Rule);break;default:this.tolerant||this.scanner.error("Semicolon or block is expected")}return{type:"Atrule",loc:this.getLocation(n,this.scanner.tokenStart),name:t,expression:i,block:s}},generate:function(t,e){t("@"),t(e.name),null!==e.expression&&(t(" "),this.generate(t,e.expression)),e.block?this.generate(t,e.block):t(";")},walkContext:"atrule"},ds=$n.TYPE,ps=ds.Semicolon,fs=ds.LeftCurlyBracket;function ms(t){return(new On).appendData(this.Raw(t,ps,fs,!1,!0))}function _s(){return this.readSequence(this.scope.AtruleExpression)}var ys={name:"AtruleExpression",structure:{children:[[]]},parse:function(t){var e=null,n=this.scanner.currentToken;return null!==t&&(t=t.toLowerCase()),this.parseAtruleExpression?(this.atrule.hasOwnProperty(t)?"function"==typeof this.atrule[t].expression&&(e=this.tolerantParse(this.atrule[t].expression,ms)):(this.scanner.skipSC(),e=this.tolerantParse(_s,ms)),this.tolerant&&(this.scanner.eof||this.scanner.tokenType!==ps&&this.scanner.tokenType!==fs)&&(e=ms.call(this,n))):e=ms.call(this,n),null===e&&(e=new On),{type:"AtruleExpression",loc:this.getLocationFromList(e),children:e}},generate:function(t,e){this.each(t,e)},walkContext:"atruleExpression"},gs=$n.TYPE,vs=gs.Identifier,bs=gs.String,xs=gs.DollarSign,ks=gs.Asterisk,ws=gs.Colon,Ss=gs.EqualsSign,$s=gs.LeftSquareBracket,Ts=gs.RightSquareBracket,As=gs.CircumflexAccent,Es=gs.VerticalLine,Cs=gs.Tilde;function Ps(){this.scanner.eof&&this.scanner.error("Unexpected end of input");var t=this.scanner.tokenStart,e=!1,n=!0;return this.scanner.tokenType===ks?(e=!0,n=!1,this.scanner.next()):this.scanner.tokenType!==Es&&this.scanner.eat(vs),this.scanner.tokenType===Es?this.scanner.lookupType(1)!==Ss?(this.scanner.next(),this.scanner.eat(vs)):e&&this.scanner.error("Identifier is expected",this.scanner.tokenEnd):e&&this.scanner.error("Vertical line is expected"),n&&this.scanner.tokenType===ws&&(this.scanner.next(),this.scanner.eat(vs)),{type:"Identifier",loc:this.getLocation(t,this.scanner.tokenStart),name:this.scanner.substrToCursor(t)}}function Os(){var t=this.scanner.tokenStart,e=this.scanner.tokenType;return e!==Ss&&e!==Cs&&e!==As&&e!==xs&&e!==ks&&e!==Es&&this.scanner.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),e===Ss?this.scanner.next():(this.scanner.next(),this.scanner.eat(Ss)),this.scanner.substrToCursor(t)}var qs={name:"AttributeSelector",structure:{name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]},parse:function(){var t,e=this.scanner.tokenStart,n=null,i=null,s=null;return this.scanner.eat($s),this.scanner.skipSC(),t=Ps.call(this),this.scanner.skipSC(),this.scanner.tokenType!==Ts&&(this.scanner.tokenType!==vs&&(n=Os.call(this),this.scanner.skipSC(),i=this.scanner.tokenType===bs?this.String():this.Identifier(),this.scanner.skipSC()),this.scanner.tokenType===vs&&(s=this.scanner.getTokenValue(),this.scanner.next(),this.scanner.skipSC())),this.scanner.eat(Ts),{type:"AttributeSelector",loc:this.getLocation(e,this.scanner.tokenStart),name:t,matcher:n,value:i,flags:s}},generate:function(t,e){var n=" ";t("["),this.generate(t,e.name),null!==e.matcher&&(t(e.matcher),null!==e.value&&(this.generate(t,e.value),"String"===e.value.type&&(n=""))),null!==e.flags&&(t(n),t(e.flags)),t("]")}},Ms=$n.TYPE,Ls=Ms.WhiteSpace,Rs=Ms.Comment,Ns=Ms.Semicolon,Is=Ms.Atrule,Fs=Ms.LeftCurlyBracket,Ds=Ms.RightCurlyBracket;function Bs(t){return this.Raw(t,0,Ns,!0,!0)}var Vs={name:"Block",structure:{children:[["Atrule","Rule","Declaration"]]},parse:function(t){t||(t=this.Declaration);var e=this.scanner.tokenStart,n=new On;this.scanner.eat(Fs);t:for(;!this.scanner.eof;)switch(this.scanner.tokenType){case Ds:break t;case Ls:case Rs:case Ns:this.scanner.next();break;case Is:n.appendData(this.tolerantParse(this.Atrule,Bs));break;default:n.appendData(this.tolerantParse(t,Bs))}return this.tolerant&&this.scanner.eof||this.scanner.eat(Ds),{type:"Block",loc:this.getLocation(e,this.scanner.tokenStart),children:n}},generate:function(t,e){t("{"),this.each(t,e),t("}")},walkContext:"block"},js=$n.TYPE,Us=js.LeftSquareBracket,Gs=js.RightSquareBracket,Ws={name:"Brackets",structure:{children:[[]]},parse:function(t,e){var n,i=this.scanner.tokenStart;return this.scanner.eat(Us),n=t.call(this,e),this.scanner.eat(Gs),{type:"Brackets",loc:this.getLocation(i,this.scanner.tokenStart),children:n}},generate:function(t,e){t("["),this.each(t,e),t("]")}},zs=$n.TYPE.CDC,Hs={name:"CDC",structure:[],parse:function(){var t=this.scanner.tokenStart;return this.scanner.eat(zs),{type:"CDC",loc:this.getLocation(t,this.scanner.tokenStart)}},generate:function(t){t("--\x3e")}},Qs=$n.TYPE.CDO,Ys={name:"CDO",structure:[],parse:function(){var t=this.scanner.tokenStart;return this.scanner.eat(Qs),{type:"CDO",loc:this.getLocation(t,this.scanner.tokenStart)}},generate:function(t){t("\x3c!--")}},Xs=$n.TYPE,Zs=Xs.Identifier,Js=Xs.FullStop,Ks={name:"ClassSelector",structure:{name:String},parse:function(){return this.scanner.eat(Js),{type:"ClassSelector",loc:this.getLocation(this.scanner.tokenStart-1,this.scanner.tokenEnd),name:this.scanner.consume(Zs)}},generate:function(t,e){t("."),t(e.name)}},tr=$n.TYPE,er=tr.PlusSign,nr=tr.Solidus,ir=tr.GreaterThanSign,sr=tr.Tilde,rr={name:"Combinator",structure:{name:String},parse:function(){var t=this.scanner.tokenStart;switch(this.scanner.tokenType){case ir:case er:case sr:this.scanner.next();break;case nr:this.scanner.next(),this.scanner.expectIdentifier("deep"),this.scanner.eat(nr);break;default:this.scanner.error("Combinator is expected")}return{type:"Combinator",loc:this.getLocation(t,this.scanner.tokenStart),name:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.name)}},ar=$n.TYPE,or=ar.Asterisk,lr=ar.Solidus,ur={name:"Comment",structure:{value:String},parse:function(){var t=this.scanner.tokenStart,e=this.scanner.tokenEnd;return e-t+2>=2&&this.scanner.source.charCodeAt(e-2)===or&&this.scanner.source.charCodeAt(e-1)===lr&&(e-=2),this.scanner.next(),{type:"Comment",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.source.substring(t+2,e)}},generate:function(t,e){t("/*"),t(e.value),t("*/")}},cr=$n.TYPE,hr=cr.Identifier,dr=cr.Colon,pr=cr.ExclamationMark,fr=cr.Solidus,mr=cr.Asterisk,_r=cr.DollarSign,yr=cr.HyphenMinus,gr=cr.Semicolon,vr=cr.RightCurlyBracket,br=cr.RightParenthesis,xr=cr.PlusSign,kr=cr.NumberSign,wr={name:"Declaration",structure:{important:[Boolean,String],property:String,value:["Value","Raw"]},parse:function(){var t,e,n=this.scanner.tokenStart,i=Sr.call(this),s=!1;return this.scanner.skipSC(),this.scanner.eat(dr),t=((e=i).length>=2&&e.charCodeAt(0)===yr&&e.charCodeAt(1)===yr?this.parseCustomProperty:this.parseValue)?this.Value(i):this.Raw(this.scanner.currentToken,pr,gr,!1,!1),this.scanner.tokenType===pr&&(s=function(t){t.eat(pr),t.skipSC();var e=t.consume(hr);return"important"===e||e}(this.scanner),this.scanner.skipSC()),this.scanner.eof||this.scanner.tokenType===gr||this.scanner.tokenType===br||this.scanner.tokenType===vr||this.scanner.error(),{type:"Declaration",loc:this.getLocation(n,this.scanner.tokenStart),important:s,property:i,value:t}},generate:function(t,e,n){t(e.property),t(":"),this.generate(t,e.value),e.important&&t(!0===e.important?"!important":"!"+e.important),n&&n.next&&t(";")},walkContext:"declaration"};function Sr(){var t=this.scanner.tokenStart,e=0;switch(this.scanner.tokenType){case mr:case _r:case xr:case kr:e=1;break;case fr:e=this.scanner.lookupType(1)===fr?2:1}return this.scanner.lookupType(e)===yr&&e++,e&&this.scanner.skip(e),this.scanner.eat(hr),this.scanner.substrToCursor(t)}var $r=$n.TYPE,Tr=$r.WhiteSpace,Ar=$r.Comment,Er=$r.Semicolon;function Cr(t){return this.Raw(t,0,Er,!0,!0)}var Pr={name:"DeclarationList",structure:{children:[["Declaration"]]},parse:function(){for(var t=new On;!this.scanner.eof;)switch(this.scanner.tokenType){case Tr:case Ar:case Er:this.scanner.next();break;default:t.appendData(this.tolerantParse(this.Declaration,Cr))}return{type:"DeclarationList",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.each(t,e)}},Or=$n.TYPE.Number,qr={name:"Dimension",structure:{value:String,unit:String},parse:function(){var t=this.scanner.tokenStart,e=this.scanner.consume(Or),n=function(t){var e=t.getTokenValue(),n=e.indexOf("\\");return n>0?(t.tokenStart+=n,e.substring(0,n)):(t.next(),e)}(this.scanner);return{type:"Dimension",loc:this.getLocation(t,this.scanner.tokenStart),value:e,unit:n}},generate:function(t,e){t(e.value),t(e.unit)}},Mr=$n.TYPE.RightParenthesis,Lr={name:"Function",structure:{name:String,children:[[]]},parse:function(t,e){var n,i=this.scanner.tokenStart,s=this.scanner.consumeFunctionName(),r=s.toLowerCase();return n=e.hasOwnProperty(r)?e[r].call(this,e):t.call(this,e),this.scanner.eat(Mr),{type:"Function",loc:this.getLocation(i,this.scanner.tokenStart),name:s,children:n}},generate:function(t,e){t(e.name),t("("),this.each(t,e),t(")")},walkContext:"function"},Rr=$n.isHex,Nr=$n.TYPE,Ir=Nr.Identifier,Fr=Nr.Number,Dr=Nr.NumberSign;function Br(t,e){if(!Rr(t.source.charCodeAt(t.tokenStart))){if(!e)return;t.error("Unexpected input",t.tokenStart)}for(var n=t.tokenStart+1;n<t.tokenEnd;n++){var i=t.source.charCodeAt(n);if(!Rr(i))return void(t.tokenStart=n)}t.next()}var Vr={name:"HexColor",structure:{value:String},parse:function(){var t=this.scanner.tokenStart;switch(this.scanner.eat(Dr),this.scanner.tokenType){case Fr:Br(this.scanner,!0),this.scanner.tokenType===Ir&&Br(this.scanner,!1);break;case Ir:Br(this.scanner,!0);break;default:this.scanner.error("Number or identifier is expected")}return{type:"HexColor",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.substrToCursor(t+1)}},generate:function(t,e){t("#"),t(e.value)}},jr=$n.TYPE.Identifier,Ur={name:"Identifier",structure:{name:String},parse:function(){return{type:"Identifier",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),name:this.scanner.consume(jr)}},generate:function(t,e){t(e.name)}},Gr=$n.TYPE,Wr=Gr.Identifier,zr=Gr.NumberSign,Hr={name:"IdSelector",structure:{name:String},parse:function(){return this.scanner.eat(zr),{type:"IdSelector",loc:this.getLocation(this.scanner.tokenStart-1,this.scanner.tokenEnd),name:this.scanner.consume(Wr)}},generate:function(t,e){t("#"),t(e.name)}},Qr=$n.TYPE,Yr=Qr.Identifier,Xr=Qr.Number,Zr=Qr.LeftParenthesis,Jr=Qr.RightParenthesis,Kr=Qr.Colon,ta=Qr.Solidus,ea={name:"MediaFeature",structure:{name:String,value:["Identifier","Number","Dimension","Ratio",null]},parse:function(){var t,e=this.scanner.tokenStart,n=null;if(this.scanner.eat(Zr),this.scanner.skipSC(),t=this.scanner.consume(Yr),this.scanner.skipSC(),this.scanner.tokenType!==Jr){switch(this.scanner.eat(Kr),this.scanner.skipSC(),this.scanner.tokenType){case Xr:n=this.scanner.lookupType(1)===Yr?this.Dimension():this.scanner.lookupNonWSType(1)===ta?this.Ratio():this.Number();break;case Yr:n=this.Identifier();break;default:this.scanner.error("Number, dimension, ratio or identifier is expected")}this.scanner.skipSC()}return this.scanner.eat(Jr),{type:"MediaFeature",loc:this.getLocation(e,this.scanner.tokenStart),name:t,value:n}},generate:function(t,e){t("("),t(e.name),null!==e.value&&(t(":"),this.generate(t,e.value)),t(")")}},na=$n.TYPE,ia=na.WhiteSpace,sa=na.Comment,ra=na.Identifier,aa=na.LeftParenthesis,oa={name:"MediaQuery",structure:{children:[["Identifier","MediaFeature","WhiteSpace"]]},parse:function(){this.scanner.skipSC();var t=new On,e=null,n=null;t:for(;!this.scanner.eof;){switch(this.scanner.tokenType){case sa:this.scanner.next();continue;case ia:n=this.WhiteSpace();continue;case ra:e=this.Identifier();break;case aa:e=this.MediaFeature();break;default:break t}null!==n&&(t.appendData(n),n=null),t.appendData(e)}return null===e&&this.scanner.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.each(t,e)}},la=$n.TYPE.Comma,ua={name:"MediaQueryList",structure:{children:[["MediaQuery"]]},parse:function(t){var e=new On;for(this.scanner.skipSC();!this.scanner.eof&&(e.appendData(this.MediaQuery(t)),this.scanner.tokenType===la);)this.scanner.next();return{type:"MediaQueryList",loc:this.getLocationFromList(e),children:e}},generate:function(t,e){this.eachComma(t,e)}},ca=$n.TYPE.Number,ha={name:"Number",structure:{value:String},parse:function(){return{type:"Number",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.scanner.consume(ca)}},generate:function(t,e){t(e.value)}},da={name:"Operator",structure:{value:String},parse:function(){var t=this.scanner.tokenStart;return this.scanner.next(),{type:"Operator",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.value)}},pa=$n.TYPE,fa=pa.LeftParenthesis,ma=pa.RightParenthesis,_a={name:"Parentheses",structure:{children:[[]]},parse:function(t,e){var n,i=this.scanner.tokenStart;return this.scanner.eat(fa),n=t.call(this,e),this.scanner.eat(ma),{type:"Parentheses",loc:this.getLocation(i,this.scanner.tokenStart),children:n}},generate:function(t,e){t("("),this.each(t,e),t(")")}},ya=$n.TYPE,ga=ya.Number,va=ya.PercentSign,ba={name:"Percentage",structure:{value:String},parse:function(){var t=this.scanner.tokenStart,e=this.scanner.consume(ga);return this.scanner.eat(va),{type:"Percentage",loc:this.getLocation(t,this.scanner.tokenStart),value:e}},generate:function(t,e){t(e.value),t("%")}},xa=$n.TYPE,ka=xa.Identifier,wa=xa.Function,Sa=xa.Colon,$a=xa.RightParenthesis,Ta={name:"PseudoClassSelector",structure:{name:String,children:[["Raw"],null]},parse:function(){var t,e,n=this.scanner.tokenStart,i=null;return this.scanner.eat(Sa),this.scanner.tokenType===wa?(e=(t=this.scanner.consumeFunctionName()).toLowerCase(),this.pseudo.hasOwnProperty(e)?(this.scanner.skipSC(),i=this.pseudo[e].call(this),this.scanner.skipSC()):i=(new On).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1)),this.scanner.eat($a)):t=this.scanner.consume(ka),{type:"PseudoClassSelector",loc:this.getLocation(n,this.scanner.tokenStart),name:t,children:i}},generate:function(t,e){t(":"),t(e.name),null!==e.children&&(t("("),this.each(t,e),t(")"))},walkContext:"function"},Aa=$n.TYPE,Ea=Aa.Identifier,Ca=Aa.Function,Pa=Aa.Colon,Oa=Aa.RightParenthesis,qa={name:"PseudoElementSelector",structure:{name:String,children:[["Raw"],null]},parse:function(){var t,e,n=this.scanner.tokenStart,i=null;return this.scanner.eat(Pa),this.scanner.eat(Pa),this.scanner.tokenType===Ca?(e=(t=this.scanner.consumeFunctionName()).toLowerCase(),this.pseudo.hasOwnProperty(e)?(this.scanner.skipSC(),i=this.pseudo[e].call(this),this.scanner.skipSC()):i=(new On).appendData(this.Raw(this.scanner.currentToken,0,0,!1,!1)),this.scanner.eat(Oa)):t=this.scanner.consume(Ea),{type:"PseudoElementSelector",loc:this.getLocation(n,this.scanner.tokenStart),name:t,children:i}},generate:function(t,e){t("::"),t(e.name),null!==e.children&&(t("("),this.each(t,e),t(")"))},walkContext:"function"},Ma=$n.isNumber,La=$n.TYPE,Ra=La.Number,Na=La.Solidus,Ia=La.FullStop;function Fa(t){for(var e=t.consumeNonWS(Ra),n=0;n<e.length;n++){var i=e.charCodeAt(n);Ma(i)||i===Ia||t.error("Unsigned number is expected",t.tokenStart-e.length+n)}return 0===Number(e)&&t.error("Zero number is not allowed",t.tokenStart-e.length),e}var Da={name:"Ratio",structure:{left:String,right:String},parse:function(){var t,e=this.scanner.tokenStart,n=Fa(this.scanner);return this.scanner.eatNonWS(Na),t=Fa(this.scanner),{type:"Ratio",loc:this.getLocation(e,this.scanner.tokenStart),left:n,right:t}},generate:function(t,e){t(e.left),t("/"),t(e.right)}},Ba={name:"Raw",structure:{value:String},parse:function(t,e,n,i,s){var r,a=this.scanner.getTokenStart(t);return this.scanner.skip(this.scanner.getRawLength(t,e,n,i)),r=s&&this.scanner.tokenStart>a?this.scanner.getOffsetExcludeWS():this.scanner.tokenStart,{type:"Raw",loc:this.getLocation(a,r),value:this.scanner.source.substring(a,r)}},generate:function(t,e){t(e.value)}},Va=$n.TYPE.LeftCurlyBracket;function ja(t){return this.Raw(t,Va,0,!1,!0)}var Ua={name:"Rule",structure:{selector:["SelectorList","Raw"],block:["Block"]},parse:function(){var t=this.scanner.currentToken,e=this.scanner.tokenStart,n=this.parseSelector?this.tolerantParse(this.SelectorList,ja):ja.call(this,t),i=this.Block(this.Declaration);return{type:"Rule",loc:this.getLocation(e,this.scanner.tokenStart),selector:n,block:i}},generate:function(t,e){this.generate(t,e.selector),this.generate(t,e.block)},walkContext:"rule"},Ga=$n.TYPE,Wa=Ga.Comma,za=Ga.LeftCurlyBracket,Ha={name:"SelectorList",structure:{children:[["Selector","Raw"]]},parse:function(){for(var t=new On;!this.scanner.eof&&(t.appendData(this.parseSelector?this.Selector():this.Raw(this.scanner.currentToken,Wa,za,!1,!1)),this.scanner.tokenType===Wa);)this.scanner.next();return{type:"SelectorList",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.eachComma(t,e)},walkContext:"selector"},Qa=$n.TYPE.String,Ya={name:"String",structure:{value:String},parse:function(){return{type:"String",loc:this.getLocation(this.scanner.tokenStart,this.scanner.tokenEnd),value:this.scanner.consume(Qa)}},generate:function(t,e){t(e.value)}},Xa=$n.TYPE,Za=Xa.WhiteSpace,Ja=Xa.Comment,Ka=Xa.ExclamationMark,to=Xa.Atrule,eo=Xa.CDO,no=Xa.CDC;function io(t){return this.Raw(t,0,0,!1,!1)}var so={name:"StyleSheet",structure:{children:[["Comment","Atrule","Rule","Raw"]]},parse:function(){for(var t,e=this.scanner.tokenStart,n=new On;!this.scanner.eof;){switch(this.scanner.tokenType){case Za:this.scanner.next();continue;case Ja:if(this.scanner.source.charCodeAt(this.scanner.tokenStart+2)!==Ka){this.scanner.next();continue}t=this.Comment();break;case eo:t=this.CDO();break;case no:t=this.CDC();break;case to:t=this.Atrule();break;default:t=this.tolerantParse(this.Rule,io)}n.appendData(t)}return{type:"StyleSheet",loc:this.getLocation(e,this.scanner.tokenStart),children:n}},generate:function(t,e){this.each(t,e)},walkContext:"stylesheet"},ro=$n.TYPE,ao=ro.Identifier,oo=ro.Asterisk,lo=ro.VerticalLine;function uo(){this.scanner.tokenType!==ao&&this.scanner.tokenType!==oo&&this.scanner.error("Identifier or asterisk is expected"),this.scanner.next()}var co={name:"TypeSelector",structure:{name:String},parse:function(){var t=this.scanner.tokenStart;return this.scanner.tokenType===lo?(this.scanner.next(),uo.call(this)):(uo.call(this),this.scanner.tokenType===lo&&(this.scanner.next(),uo.call(this))),{type:"TypeSelector",loc:this.getLocation(t,this.scanner.tokenStart),name:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.name)}},ho=$n.isHex,po=$n.TYPE,fo=po.Identifier,mo=po.Number,_o=po.PlusSign,yo=po.HyphenMinus,go=po.FullStop,vo=po.QuestionMark;function bo(t){var e=t.tokenStart+1,n=0;t:{if(t.tokenType===mo){if(t.source.charCodeAt(t.tokenStart)!==go&&function(t){for(var e=t.tokenStart+1;e<t.tokenEnd;e++){var n=t.source.charCodeAt(e);if(n===go||n===_o)return t.tokenStart=e,!1}return!0}(t))t.next();else if(t.source.charCodeAt(t.tokenStart)!==yo)break t}else t.next();t.tokenType===yo&&t.next(),t.tokenType===mo&&t.next(),t.tokenType===fo&&t.next(),t.tokenStart===e&&t.error("Unexpected input",e)}for(var i=e,s=!1;i<t.tokenStart;i++){var r=t.source.charCodeAt(i);!1!==ho(r)||r===yo&&!s||t.error("Unexpected input",i),r===yo?(0===n&&t.error("Unexpected input",i),s=!0,n=0):++n>6&&t.error("Too long hex sequence",i)}if(0===n&&t.error("Unexpected input",i-1),!s)for(;n<6&&!t.eof&&t.tokenType===vo;t.next())n++}var xo={name:"UnicodeRange",structure:{value:String},parse:function(){var t=this.scanner.tokenStart;return this.scanner.next(),bo(this.scanner),{type:"UnicodeRange",loc:this.getLocation(t,this.scanner.tokenStart),value:this.scanner.substrToCursor(t)}},generate:function(t,e){t(e.value)}},ko=$n.TYPE,wo=ko.String,So=ko.Url,$o=ko.Raw,To=ko.RightParenthesis,Ao={name:"Url",structure:{value:["String","Raw"]},parse:function(){var t,e=this.scanner.tokenStart;switch(this.scanner.eat(So),this.scanner.skipSC(),this.scanner.tokenType){case wo:t=this.String();break;case $o:t=this.Raw(this.scanner.currentToken,0,$o,!0,!1);break;default:this.scanner.error("String or Raw is expected")}return this.scanner.skipSC(),this.scanner.eat(To),{type:"Url",loc:this.getLocation(e,this.scanner.tokenStart),value:t}},generate:function(t,e){t("url"),t("("),this.generate(t,e.value),t(")")}},Eo=$n.endsWith,Co=$n.TYPE,Po=Co.WhiteSpace,Oo=Co.Comment,qo=Co.Function,Mo=Co.Colon,Lo=Co.Semicolon,Ro=Co.ExclamationMark,No={name:"Value",structure:{children:[[]]},parse:function(t){if(null!==t&&Eo(t,"filter")&&function(t){for(var e,n=0;(e=t.lookupType(n))&&(e===Po||e===Oo);n++);if(t.lookupValue(n,"alpha(")||t.lookupValue(n,"chroma(")||t.lookupValue(n,"dropshadow(")){if(t.lookupType(n)!==qo)return!1}else if(!1===t.lookupValue(n,"progid")||t.lookupType(n+1)!==Mo)return!1;return!0}(this.scanner))return this.scanner.skipSC(),this.Raw(this.scanner.currentToken,Ro,Lo,!1,!1);var e=this.scanner.tokenStart,n=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(e,this.scanner.tokenStart),children:n}},generate:function(t,e){this.each(t,e)}},Io=$n.TYPE.WhiteSpace,Fo=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),Do=function(t){var e={scanner:new $n,filename:"<unknown>",needPositions:!1,tolerant:!1,onParseError:Nn,parseAtruleExpression:!0,parseSelector:!0,parseValue:!0,parseCustomProperty:!1,readSequence:Rn,tolerantParse:function(t,e){if(!this.tolerant)return t.call(this);var n=this.scanner.currentToken;try{return t.call(this)}catch(t){return this.onParseError(t),e.call(this,n)}},getLocation:function(t,e){return this.needPositions?this.scanner.getLocationRange(t,e,this.filename):null},getLocationFromList:function(t){return this.needPositions?this.scanner.getLocationRange(null!==t.head?t.first().loc.start.offset-this.scanner.startOffset:this.scanner.tokenStart,null!==t.head?t.last().loc.end.offset-this.scanner.startOffset:this.scanner.tokenStart,this.filename):null}};for(var n in t=function(t){var e={context:{},scope:{},atrule:{},pseudo:{}};if(t.parseContext)for(var n in t.parseContext)switch(typeof t.parseContext[n]){case"function":e.context[n]=t.parseContext[n];break;case"string":e.context[n]=In(t.parseContext[n])}if(t.scope)for(var n in t.scope)e.scope[n]=t.scope[n];if(t.atrule)for(var n in t.atrule){var i=t.atrule[n];i.parse&&(e.atrule[n]=i.parse)}if(t.pseudo)for(var n in t.pseudo){var s=t.pseudo[n];s.parse&&(e.pseudo[n]=s.parse)}if(t.node)for(var n in t.node)e[n]=t.node[n].parse;return e}(t||{}))e[n]=t[n];return function(t,n){var i,s=(n=n||{}).context||"default";if(e.scanner.setSource(t,n.offset,n.line,n.column),e.filename=n.filename||"<unknown>",e.needPositions=Boolean(n.positions),e.tolerant=Boolean(n.tolerant),e.onParseError="function"==typeof n.onParseError?n.onParseError:Nn,e.parseAtruleExpression=!("parseAtruleExpression"in n)||Boolean(n.parseAtruleExpression),e.parseSelector=!("parseSelector"in n)||Boolean(n.parseSelector),e.parseValue=!("parseValue"in n)||Boolean(n.parseValue),e.parseCustomProperty="parseCustomProperty"in n&&Boolean(n.parseCustomProperty),!e.context.hasOwnProperty(s))throw new Error("Unknown context `"+s+"`");return i=e.context[s].call(e,n),e.scanner.eof||e.scanner.error(),i}}({parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atruleExpression:function(t){return this.AtruleExpression(t.atrule?String(t.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",rule:"Rule",selectorList:"SelectorList",selector:"Selector",block:function(){return this.Block(this.Declaration)},declarationList:"DeclarationList",declaration:"Declaration",value:function(t){return this.Value(t.property?String(t.property):null)}},scope:Si,atrule:Wi,pseudo:Yi,node:{AnPlusB:ss,Atrule:hs,AtruleExpression:ys,AttributeSelector:qs,Block:Vs,Brackets:Ws,CDC:Hs,CDO:Ys,ClassSelector:Ks,Combinator:rr,Comment:ur,Declaration:wr,DeclarationList:Pr,Dimension:qr,Function:Lr,HexColor:Vr,Identifier:Ur,IdSelector:Hr,MediaFeature:ea,MediaQuery:oa,MediaQueryList:ua,Nth:{name:"Nth",structure:{nth:["AnPlusB","Identifier"],selector:["SelectorList",null]},parse:function(t){this.scanner.skipSC();var e,n=this.scanner.tokenStart,i=n,s=null;return e=this.scanner.lookupValue(0,"odd")||this.scanner.lookupValue(0,"even")?this.Identifier():this.AnPlusB(),this.scanner.skipSC(),t&&this.scanner.lookupValue(0,"of")?(this.scanner.next(),s=this.SelectorList(),this.needPositions&&(i=s.children.last().loc.end.offset)):this.needPositions&&(i=e.loc.end.offset),{type:"Nth",loc:this.getLocation(n,i),nth:e,selector:s}},generate:function(t,e){this.generate(t,e.nth),null!==e.selector&&(t(" of "),this.generate(t,e.selector))}},Number:ha,Operator:da,Parentheses:_a,Percentage:ba,PseudoClassSelector:Ta,PseudoElementSelector:qa,Ratio:Da,Raw:Ba,Rule:Ua,Selector:{name:"Selector",structure:{children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]},parse:function(){var t=this.readSequence(this.scope.Selector);return t.isEmpty()&&this.scanner.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(t),children:t}},generate:function(t,e){this.each(t,e)}},SelectorList:Ha,String:Ya,StyleSheet:so,TypeSelector:co,UnicodeRange:xo,Url:Ao,Value:No,WhiteSpace:{name:"WhiteSpace",structure:{value:String},parse:function(){return this.scanner.eat(Io),Fo},generate:function(t,e){t(e.value)}}}});function Bo(t,{enter:e,leave:n}){return function t(e,n,i,s,r,a){if(e){if(i){const t=Vo,s=jo,o=Uo;Vo=!1,jo=!1,Uo=null,i.call(Go,e,n,r,a),Uo&&Wo(n,r,a,e=Uo),jo&&zo(n,r,a);const l=Vo,u=jo;if(Vo=t,jo=s,Uo=o,l)return e;if(u)return null}for(const n in e){const r=e[n];if("object"==typeof r)if(Array.isArray(r))for(let a=0,o=0;a<r.length;a+=1,o+=1)null!==r[a]&&"string"==typeof r[a].type&&(t(r[a],e,i,s,n,o)||a--);else null!==r&&"string"==typeof r.type&&t(r,e,i,s,n,null)}if(s){const t=Uo,i=jo;Uo=null,jo=!1,s.call(Go,e,n,r,a),Uo&&Wo(n,r,a,e=Uo),jo&&zo(n,r,a);const o=jo;if(Uo=t,jo=i,o)return null}}return e}(t,null,e,n)}let Vo=!1,jo=!1,Uo=null;const Go={skip:()=>Vo=!0,remove:()=>jo=!0,replace:t=>Uo=t};function Wo(t,e,n,i){t&&(null!==n?t[e][n]=i:t[e]=i)}function zo(t,e,n){t&&(null!==n?t[e].splice(n,1):delete t[e])}function Ho(t,e){return!!e&&"TypeSelector"===t.type&&"ref"===t.name&&"PseudoClassSelector"===e.type}var Qo={CounterClockwiseContourIntegral:8755,ClockwiseContourIntegral:8754,DoubleLongLeftRightArrow:10234,DiacriticalDoubleAcute:733,NotSquareSupersetEqual:8931,CloseCurlyDoubleQuote:8221,DoubleContourIntegral:8751,FilledVerySmallSquare:9642,NegativeVeryThinSpace:8203,NotPrecedesSlantEqual:8928,NotRightTriangleEqual:8941,NotSucceedsSlantEqual:8929,CapitalDifferentialD:8517,DoubleLeftRightArrow:8660,DoubleLongRightArrow:10233,EmptyVerySmallSquare:9643,NestedGreaterGreater:8811,NotDoubleVerticalBar:8742,NotLeftTriangleEqual:8940,NotSquareSubsetEqual:8930,OpenCurlyDoubleQuote:8220,ReverseUpEquilibrium:10607,DoubleLongLeftArrow:10232,DownLeftRightVector:10576,LeftArrowRightArrow:8646,NegativeMediumSpace:8203,RightArrowLeftArrow:8644,SquareSupersetEqual:8850,leftrightsquigarrow:8621,DownRightTeeVector:10591,DownRightVectorBar:10583,LongLeftRightArrow:10231,Longleftrightarrow:10234,NegativeThickSpace:8203,PrecedesSlantEqual:8828,ReverseEquilibrium:8651,RightDoubleBracket:10215,RightDownTeeVector:10589,RightDownVectorBar:10581,RightTriangleEqual:8885,SquareIntersection:8851,SucceedsSlantEqual:8829,blacktriangleright:9656,longleftrightarrow:10231,DoubleUpDownArrow:8661,DoubleVerticalBar:8741,DownLeftTeeVector:10590,DownLeftVectorBar:10582,FilledSmallSquare:9724,GreaterSlantEqual:10878,LeftDoubleBracket:10214,LeftDownTeeVector:10593,LeftDownVectorBar:10585,LeftTriangleEqual:8884,NegativeThinSpace:8203,NotReverseElement:8716,NotTildeFullEqual:8775,RightAngleBracket:10217,RightUpDownVector:10575,SquareSubsetEqual:8849,VerticalSeparator:10072,blacktriangledown:9662,blacktriangleleft:9666,leftrightharpoons:8651,rightleftharpoons:8652,twoheadrightarrow:8608,DiacriticalAcute:180,DiacriticalGrave:96,DiacriticalTilde:732,DoubleRightArrow:8658,DownArrowUpArrow:8693,EmptySmallSquare:9723,GreaterEqualLess:8923,GreaterFullEqual:8807,LeftAngleBracket:10216,LeftUpDownVector:10577,LessEqualGreater:8922,NonBreakingSpace:160,NotRightTriangle:8939,NotSupersetEqual:8841,RightTriangleBar:10704,RightUpTeeVector:10588,RightUpVectorBar:10580,UnderParenthesis:9181,UpArrowDownArrow:8645,circlearrowright:8635,downharpoonright:8642,ntrianglerighteq:8941,rightharpoondown:8641,rightrightarrows:8649,twoheadleftarrow:8606,vartriangleright:8883,CloseCurlyQuote:8217,ContourIntegral:8750,DoubleDownArrow:8659,DoubleLeftArrow:8656,DownRightVector:8641,LeftRightVector:10574,LeftTriangleBar:10703,LeftUpTeeVector:10592,LeftUpVectorBar:10584,LowerRightArrow:8600,NotGreaterEqual:8817,NotGreaterTilde:8821,NotLeftTriangle:8938,OverParenthesis:9180,RightDownVector:8642,ShortRightArrow:8594,UpperRightArrow:8599,bigtriangledown:9661,circlearrowleft:8634,curvearrowright:8631,downharpoonleft:8643,leftharpoondown:8637,leftrightarrows:8646,nLeftrightarrow:8654,nleftrightarrow:8622,ntrianglelefteq:8940,rightleftarrows:8644,rightsquigarrow:8605,rightthreetimes:8908,straightepsilon:1013,trianglerighteq:8885,vartriangleleft:8882,DiacriticalDot:729,DoubleRightTee:8872,DownLeftVector:8637,GreaterGreater:10914,HorizontalLine:9472,InvisibleComma:8291,InvisibleTimes:8290,LeftDownVector:8643,LeftRightArrow:8596,Leftrightarrow:8660,LessSlantEqual:10877,LongRightArrow:10230,Longrightarrow:10233,LowerLeftArrow:8601,NestedLessLess:8810,NotGreaterLess:8825,NotLessGreater:8824,NotSubsetEqual:8840,NotVerticalBar:8740,OpenCurlyQuote:8216,ReverseElement:8715,RightTeeVector:10587,RightVectorBar:10579,ShortDownArrow:8595,ShortLeftArrow:8592,SquareSuperset:8848,TildeFullEqual:8773,UpperLeftArrow:8598,ZeroWidthSpace:8203,curvearrowleft:8630,doublebarwedge:8966,downdownarrows:8650,hookrightarrow:8618,leftleftarrows:8647,leftrightarrow:8596,leftthreetimes:8907,longrightarrow:10230,looparrowright:8620,nshortparallel:8742,ntriangleright:8939,rightarrowtail:8611,rightharpoonup:8640,trianglelefteq:8884,upharpoonright:8638,ApplyFunction:8289,DifferentialD:8518,DoubleLeftTee:10980,DoubleUpArrow:8657,LeftTeeVector:10586,LeftVectorBar:10578,LessFullEqual:8806,LongLeftArrow:10229,Longleftarrow:10232,NotTildeEqual:8772,NotTildeTilde:8777,Poincareplane:8460,PrecedesEqual:10927,PrecedesTilde:8830,RightArrowBar:8677,RightTeeArrow:8614,RightTriangle:8883,RightUpVector:8638,SucceedsEqual:10928,SucceedsTilde:8831,SupersetEqual:8839,UpEquilibrium:10606,VerticalTilde:8768,VeryThinSpace:8202,bigtriangleup:9651,blacktriangle:9652,divideontimes:8903,fallingdotseq:8786,hookleftarrow:8617,leftarrowtail:8610,leftharpoonup:8636,longleftarrow:10229,looparrowleft:8619,measuredangle:8737,ntriangleleft:8938,shortparallel:8741,smallsetminus:8726,triangleright:9657,upharpoonleft:8639,DownArrowBar:10515,DownTeeArrow:8615,ExponentialE:8519,GreaterEqual:8805,GreaterTilde:8819,HilbertSpace:8459,HumpDownHump:8782,Intersection:8898,LeftArrowBar:8676,LeftTeeArrow:8612,LeftTriangle:8882,LeftUpVector:8639,NotCongruent:8802,NotLessEqual:8816,NotLessTilde:8820,Proportional:8733,RightCeiling:8969,RoundImplies:10608,ShortUpArrow:8593,SquareSubset:8847,UnderBracket:9141,VerticalLine:124,blacklozenge:10731,exponentiale:8519,risingdotseq:8787,triangledown:9663,triangleleft:9667,CircleMinus:8854,CircleTimes:8855,Equilibrium:8652,GreaterLess:8823,LeftCeiling:8968,LessGreater:8822,MediumSpace:8287,NotPrecedes:8832,NotSucceeds:8833,OverBracket:9140,RightVector:8640,Rrightarrow:8667,RuleDelayed:10740,SmallCircle:8728,SquareUnion:8852,SubsetEqual:8838,UpDownArrow:8597,Updownarrow:8661,VerticalBar:8739,backepsilon:1014,blacksquare:9642,circledcirc:8858,circleddash:8861,curlyeqprec:8926,curlyeqsucc:8927,diamondsuit:9830,eqslantless:10901,expectation:8496,nRightarrow:8655,nrightarrow:8603,preccurlyeq:8828,precnapprox:10937,quaternions:8461,straightphi:981,succcurlyeq:8829,succnapprox:10938,thickapprox:8776,updownarrow:8597,Bernoullis:8492,CirclePlus:8853,EqualTilde:8770,Fouriertrf:8497,ImaginaryI:8520,Laplacetrf:8466,LeftVector:8636,Lleftarrow:8666,NotElement:8713,NotGreater:8815,Proportion:8759,RightArrow:8594,RightFloor:8971,Rightarrow:8658,TildeEqual:8771,TildeTilde:8776,UnderBrace:9183,UpArrowBar:10514,UpTeeArrow:8613,circledast:8859,complement:8705,curlywedge:8911,eqslantgtr:10902,gtreqqless:10892,lessapprox:10885,lesseqqgtr:10891,lmoustache:9136,longmapsto:10236,mapstodown:8615,mapstoleft:8612,nLeftarrow:8653,nleftarrow:8602,precapprox:10935,rightarrow:8594,rmoustache:9137,sqsubseteq:8849,sqsupseteq:8850,subsetneqq:10955,succapprox:10936,supsetneqq:10956,upuparrows:8648,varepsilon:949,varnothing:8709,Backslash:8726,CenterDot:183,CircleDot:8857,Congruent:8801,Coproduct:8720,DoubleDot:168,DownArrow:8595,DownBreve:785,Downarrow:8659,HumpEqual:8783,LeftArrow:8592,LeftFloor:8970,Leftarrow:8656,LessTilde:8818,Mellintrf:8499,MinusPlus:8723,NotCupCap:8813,NotExists:8708,OverBrace:9182,PlusMinus:177,Therefore:8756,ThinSpace:8201,TripleDot:8411,UnionPlus:8846,backprime:8245,backsimeq:8909,bigotimes:10754,centerdot:183,checkmark:10003,complexes:8450,dotsquare:8865,downarrow:8595,gtrapprox:10886,gtreqless:8923,heartsuit:9829,leftarrow:8592,lesseqgtr:8922,nparallel:8742,nshortmid:8740,nsubseteq:8840,nsupseteq:8841,pitchfork:8916,rationals:8474,spadesuit:9824,subseteqq:10949,subsetneq:8842,supseteqq:10950,supsetneq:8843,therefore:8756,triangleq:8796,varpropto:8733,DDotrahd:10513,DotEqual:8784,Integral:8747,LessLess:10913,NotEqual:8800,NotTilde:8769,PartialD:8706,Precedes:8826,RightTee:8866,Succeeds:8827,SuchThat:8715,Superset:8835,Uarrocir:10569,UnderBar:818,andslope:10840,angmsdaa:10664,angmsdab:10665,angmsdac:10666,angmsdad:10667,angmsdae:10668,angmsdaf:10669,angmsdag:10670,angmsdah:10671,angrtvbd:10653,approxeq:8778,awconint:8755,backcong:8780,barwedge:8965,bbrktbrk:9142,bigoplus:10753,bigsqcup:10758,biguplus:10756,bigwedge:8896,boxminus:8863,boxtimes:8864,capbrcup:10825,circledR:174,circledS:9416,cirfnint:10768,clubsuit:9827,cupbrcap:10824,curlyvee:8910,cwconint:8754,doteqdot:8785,dotminus:8760,drbkarow:10512,dzigrarr:10239,elinters:9191,emptyset:8709,eqvparsl:10725,fpartint:10765,geqslant:10878,gesdotol:10884,gnapprox:10890,hksearow:10533,hkswarow:10534,imagline:8464,imagpart:8465,infintie:10717,integers:8484,intercal:8890,intlarhk:10775,laemptyv:10676,ldrushar:10571,leqslant:10877,lesdotor:10883,llcorner:8990,lnapprox:10889,lrcorner:8991,lurdshar:10570,mapstoup:8613,multimap:8888,naturals:8469,otimesas:10806,parallel:8741,plusacir:10787,pointint:10773,precneqq:10933,precnsim:8936,profalar:9006,profline:8978,profsurf:8979,raemptyv:10675,realpart:8476,rppolint:10770,rtriltri:10702,scpolint:10771,setminus:8726,shortmid:8739,smeparsl:10724,sqsubset:8847,sqsupset:8848,subseteq:8838,succneqq:10934,succnsim:8937,supseteq:8839,thetasym:977,thicksim:8764,timesbar:10801,triangle:9653,triminus:10810,trpezium:9186,ulcorner:8988,urcorner:8989,varkappa:1008,varsigma:962,vartheta:977,Because:8757,Cayleys:8493,Cconint:8752,Cedilla:184,Diamond:8900,DownTee:8868,Element:8712,Epsilon:917,Implies:8658,LeftTee:8867,NewLine:10,NoBreak:8288,NotLess:8814,Omicron:927,OverBar:175,Product:8719,UpArrow:8593,Uparrow:8657,Upsilon:933,alefsym:8501,angrtvb:8894,angzarr:9084,asympeq:8781,backsim:8765,because:8757,bemptyv:10672,between:8812,bigcirc:9711,bigodot:10752,bigstar:9733,boxplus:8862,ccupssm:10832,cemptyv:10674,cirscir:10690,coloneq:8788,congdot:10861,cudarrl:10552,cudarrr:10549,cularrp:10557,curarrm:10556,dbkarow:10511,ddagger:8225,ddotseq:10871,demptyv:10673,diamond:8900,digamma:989,dotplus:8724,dwangle:10662,epsilon:949,eqcolon:8789,equivDD:10872,gesdoto:10882,gtquest:10876,gtrless:8823,harrcir:10568,intprod:10812,isindot:8949,larrbfs:10527,larrsim:10611,lbrksld:10639,lbrkslu:10637,ldrdhar:10599,lesdoto:10881,lessdot:8918,lessgtr:8822,lesssim:8818,lotimes:10804,lozenge:9674,ltquest:10875,luruhar:10598,maltese:10016,minusdu:10794,napprox:8777,natural:9838,nearrow:8599,nexists:8708,notinva:8713,notinvb:8951,notinvc:8950,notniva:8716,notnivb:8958,notnivc:8957,npolint:10772,nsqsube:8930,nsqsupe:8931,nvinfin:10718,nwarrow:8598,olcross:10683,omicron:959,orderof:8500,orslope:10839,pertenk:8241,planckh:8462,pluscir:10786,plussim:10790,plustwo:10791,precsim:8830,quatint:10774,questeq:8799,rarrbfs:10528,rarrsim:10612,rbrksld:10638,rbrkslu:10640,rdldhar:10601,realine:8475,rotimes:10805,ruluhar:10600,searrow:8600,simplus:10788,simrarr:10610,subedot:10947,submult:10945,subplus:10943,subrarr:10617,succsim:8831,supdsub:10968,supedot:10948,suphsub:10967,suplarr:10619,supmult:10946,supplus:10944,swarrow:8601,topfork:10970,triplus:10809,tritime:10811,uparrow:8593,upsilon:965,uwangle:10663,vzigzag:10650,zigrarr:8669,Aacute:193,Abreve:258,Agrave:192,Assign:8788,Atilde:195,Barwed:8966,Bumpeq:8782,Cacute:262,Ccaron:268,Ccedil:199,Colone:10868,Conint:8751,CupCap:8781,Dagger:8225,Dcaron:270,DotDot:8412,Dstrok:272,Eacute:201,Ecaron:282,Egrave:200,Exists:8707,ForAll:8704,Gammad:988,Gbreve:286,Gcedil:290,HARDcy:1066,Hstrok:294,Iacute:205,Igrave:204,Itilde:296,Jsercy:1032,Kcedil:310,Lacute:313,Lambda:923,Lcaron:317,Lcedil:315,Lmidot:319,Lstrok:321,Nacute:323,Ncaron:327,Ncedil:325,Ntilde:209,Oacute:211,Odblac:336,Ograve:210,Oslash:216,Otilde:213,Otimes:10807,Racute:340,Rarrtl:10518,Rcaron:344,Rcedil:342,SHCHcy:1065,SOFTcy:1068,Sacute:346,Scaron:352,Scedil:350,Square:9633,Subset:8912,Supset:8913,Tcaron:356,Tcedil:354,Tstrok:358,Uacute:218,Ubreve:364,Udblac:368,Ugrave:217,Utilde:360,Vdashl:10982,Verbar:8214,Vvdash:8874,Yacute:221,Zacute:377,Zcaron:381,aacute:225,abreve:259,agrave:224,andand:10837,angmsd:8737,angsph:8738,apacir:10863,approx:8776,atilde:227,barvee:8893,barwed:8965,becaus:8757,bernou:8492,bigcap:8898,bigcup:8899,bigvee:8897,bkarow:10509,bottom:8869,bowtie:8904,boxbox:10697,bprime:8245,brvbar:166,bullet:8226,bumpeq:8783,cacute:263,capand:10820,capcap:10827,capcup:10823,capdot:10816,ccaron:269,ccedil:231,circeq:8791,cirmid:10991,colone:8788,commat:64,compfn:8728,conint:8750,coprod:8720,copysr:8471,cularr:8630,cupcap:10822,cupcup:10826,cupdot:8845,curarr:8631,curren:164,cylcty:9005,dagger:8224,daleth:8504,dcaron:271,dfisht:10623,divide:247,divonx:8903,dlcorn:8990,dlcrop:8973,dollar:36,drcorn:8991,drcrop:8972,dstrok:273,eacute:233,easter:10862,ecaron:283,ecolon:8789,egrave:232,egsdot:10904,elsdot:10903,emptyv:8709,emsp13:8196,emsp14:8197,eparsl:10723,eqcirc:8790,equals:61,equest:8799,female:9792,ffilig:64259,ffllig:64260,forall:8704,frac12:189,frac13:8531,frac14:188,frac15:8533,frac16:8537,frac18:8539,frac23:8532,frac25:8534,frac34:190,frac35:8535,frac38:8540,frac45:8536,frac56:8538,frac58:8541,frac78:8542,gacute:501,gammad:989,gbreve:287,gesdot:10880,gesles:10900,gtlPar:10645,gtrarr:10616,gtrdot:8919,gtrsim:8819,hairsp:8202,hamilt:8459,hardcy:1098,hearts:9829,hellip:8230,hercon:8889,homtht:8763,horbar:8213,hslash:8463,hstrok:295,hybull:8259,hyphen:8208,iacute:237,igrave:236,iiiint:10764,iinfin:10716,incare:8453,inodot:305,intcal:8890,iquest:191,isinsv:8947,itilde:297,jsercy:1112,kappav:1008,kcedil:311,kgreen:312,lAtail:10523,lacute:314,lagran:8466,lambda:955,langle:10216,larrfs:10525,larrhk:8617,larrlp:8619,larrpl:10553,larrtl:8610,latail:10521,lbrace:123,lbrack:91,lcaron:318,lcedil:316,ldquor:8222,lesdot:10879,lesges:10899,lfisht:10620,lfloor:8970,lharul:10602,llhard:10603,lmidot:320,lmoust:9136,loplus:10797,lowast:8727,lowbar:95,lparlt:10643,lrhard:10605,lsaquo:8249,lsquor:8218,lstrok:322,lthree:8907,ltimes:8905,ltlarr:10614,ltrPar:10646,mapsto:8614,marker:9646,mcomma:10793,midast:42,midcir:10992,middot:183,minusb:8863,minusd:8760,mnplus:8723,models:8871,mstpos:8766,nVDash:8879,nVdash:8878,nacute:324,ncaron:328,ncedil:326,nearhk:10532,nequiv:8802,nesear:10536,nexist:8708,nltrie:8940,nprcue:8928,nrtrie:8941,nsccue:8929,nsimeq:8772,ntilde:241,numero:8470,nvDash:8877,nvHarr:10500,nvdash:8876,nvlArr:10498,nvrArr:10499,nwarhk:10531,nwnear:10535,oacute:243,odblac:337,odsold:10684,ograve:242,ominus:8854,origof:8886,oslash:248,otilde:245,otimes:8855,parsim:10995,percnt:37,period:46,permil:8240,phmmat:8499,planck:8463,plankv:8463,plusdo:8724,plusdu:10789,plusmn:177,preceq:10927,primes:8473,prnsim:8936,propto:8733,prurel:8880,puncsp:8200,qprime:8279,rAtail:10524,racute:341,rangle:10217,rarrap:10613,rarrfs:10526,rarrhk:8618,rarrlp:8620,rarrpl:10565,rarrtl:8611,ratail:10522,rbrace:125,rbrack:93,rcaron:345,rcedil:343,rdquor:8221,rfisht:10621,rfloor:8971,rharul:10604,rmoust:9137,roplus:10798,rpargt:10644,rsaquo:8250,rsquor:8217,rthree:8908,rtimes:8906,sacute:347,scaron:353,scedil:351,scnsim:8937,searhk:10533,seswar:10537,sfrown:8994,shchcy:1097,sigmaf:962,sigmav:962,simdot:10858,smashp:10803,softcy:1100,solbar:9023,spades:9824,sqsube:8849,sqsupe:8850,square:9633,squarf:9642,ssetmn:8726,ssmile:8995,sstarf:8902,subdot:10941,subset:8834,subsim:10951,subsub:10965,subsup:10963,succeq:10928,supdot:10942,supset:8835,supsim:10952,supsub:10964,supsup:10966,swarhk:10534,swnwar:10538,target:8982,tcaron:357,tcedil:355,telrec:8981,there4:8756,thetav:977,thinsp:8201,thksim:8764,timesb:8864,timesd:10800,topbot:9014,topcir:10993,tprime:8244,tridot:9708,tstrok:359,uacute:250,ubreve:365,udblac:369,ufisht:10622,ugrave:249,ulcorn:8988,ulcrop:8975,urcorn:8989,urcrop:8974,utilde:361,vangrt:10652,varphi:966,varrho:1009,veebar:8891,vellip:8942,verbar:124,wedbar:10847,wedgeq:8793,weierp:8472,wreath:8768,xoplus:10753,xotime:10754,xsqcup:10758,xuplus:10756,xwedge:8896,yacute:253,zacute:378,zcaron:382,zeetrf:8488,AElig:198,Acirc:194,Alpha:913,Amacr:256,Aogon:260,Aring:197,Breve:728,Ccirc:264,Colon:8759,Cross:10799,Dashv:10980,Delta:916,Ecirc:202,Emacr:274,Eogon:280,Equal:10869,Gamma:915,Gcirc:284,Hacek:711,Hcirc:292,IJlig:306,Icirc:206,Imacr:298,Iogon:302,Iukcy:1030,Jcirc:308,Jukcy:1028,Kappa:922,OElig:338,Ocirc:212,Omacr:332,Omega:937,Prime:8243,RBarr:10512,Scirc:348,Sigma:931,THORN:222,TRADE:8482,TSHcy:1035,Theta:920,Tilde:8764,Ubrcy:1038,Ucirc:219,Umacr:362,Union:8899,Uogon:370,UpTee:8869,Uring:366,VDash:8875,Vdash:8873,Wcirc:372,Wedge:8896,Ycirc:374,acirc:226,acute:180,aelig:230,aleph:8501,alpha:945,amacr:257,amalg:10815,angle:8736,angrt:8735,angst:8491,aogon:261,aring:229,asymp:8776,awint:10769,bcong:8780,bdquo:8222,bepsi:1014,blank:9251,blk12:9618,blk14:9617,blk34:9619,block:9608,boxDL:9559,boxDR:9556,boxDl:9558,boxDr:9555,boxHD:9574,boxHU:9577,boxHd:9572,boxHu:9575,boxUL:9565,boxUR:9562,boxUl:9564,boxUr:9561,boxVH:9580,boxVL:9571,boxVR:9568,boxVh:9579,boxVl:9570,boxVr:9567,boxdL:9557,boxdR:9554,boxdl:9488,boxdr:9484,boxhD:9573,boxhU:9576,boxhd:9516,boxhu:9524,boxuL:9563,boxuR:9560,boxul:9496,boxur:9492,boxvH:9578,boxvL:9569,boxvR:9566,boxvh:9532,boxvl:9508,boxvr:9500,breve:728,bsemi:8271,bsime:8909,bsolb:10693,bumpE:10926,bumpe:8783,caret:8257,caron:711,ccaps:10829,ccirc:265,ccups:10828,cedil:184,check:10003,clubs:9827,colon:58,comma:44,crarr:8629,cross:10007,csube:10961,csupe:10962,ctdot:8943,cuepr:8926,cuesc:8927,cupor:10821,cuvee:8910,cuwed:8911,cwint:8753,dashv:8867,dblac:733,ddarr:8650,delta:948,dharl:8643,dharr:8642,diams:9830,disin:8946,doteq:8784,dtdot:8945,dtrif:9662,duarr:8693,duhar:10607,eDDot:10871,ecirc:234,efDot:8786,emacr:275,empty:8709,eogon:281,eplus:10865,epsiv:949,eqsim:8770,equiv:8801,erDot:8787,erarr:10609,esdot:8784,exist:8707,fflig:64256,filig:64257,fllig:64258,fltns:9649,forkv:10969,frasl:8260,frown:8994,gamma:947,gcirc:285,gescc:10921,gimel:8503,gneqq:8809,gnsim:8935,grave:96,gsime:10894,gsiml:10896,gtcir:10874,gtdot:8919,harrw:8621,hcirc:293,hoarr:8703,icirc:238,iexcl:161,iiint:8749,iiota:8489,ijlig:307,imacr:299,image:8465,imath:305,imped:437,infin:8734,iogon:303,iprod:10812,isinE:8953,isins:8948,isinv:8712,iukcy:1110,jcirc:309,jmath:567,jukcy:1108,kappa:954,lAarr:8666,lBarr:10510,langd:10641,laquo:171,larrb:8676,lbarr:10508,lbbrk:10098,lbrke:10635,lceil:8968,ldquo:8220,lescc:10920,lhard:8637,lharu:8636,lhblk:9604,llarr:8647,lltri:9722,lneqq:8808,lnsim:8934,loang:10220,loarr:8701,lobrk:10214,lopar:10629,lrarr:8646,lrhar:8651,lrtri:8895,lsime:10893,lsimg:10895,lsquo:8216,ltcir:10873,ltdot:8918,ltrie:8884,ltrif:9666,mDDot:8762,mdash:8212,micro:181,minus:8722,mumap:8888,nabla:8711,napos:329,natur:9838,ncong:8775,ndash:8211,neArr:8663,nearr:8599,ngsim:8821,nhArr:8654,nharr:8622,nhpar:10994,nlArr:8653,nlarr:8602,nless:8814,nlsim:8820,nltri:8938,notin:8713,notni:8716,nprec:8832,nrArr:8655,nrarr:8603,nrtri:8939,nsime:8772,nsmid:8740,nspar:8742,nsube:8840,nsucc:8833,nsupe:8841,numsp:8199,nwArr:8662,nwarr:8598,ocirc:244,odash:8861,oelig:339,ofcir:10687,ohbar:10677,olarr:8634,olcir:10686,oline:8254,omacr:333,omega:969,operp:10681,oplus:8853,orarr:8635,order:8500,ovbar:9021,parsl:11005,phone:9742,plusb:8862,pluse:10866,pound:163,prcue:8828,prime:8242,prnap:10937,prsim:8830,quest:63,rAarr:8667,rBarr:10511,radic:8730,rangd:10642,range:10661,raquo:187,rarrb:8677,rarrc:10547,rarrw:8605,ratio:8758,rbarr:10509,rbbrk:10099,rbrke:10636,rceil:8969,rdquo:8221,reals:8477,rhard:8641,rharu:8640,rlarr:8644,rlhar:8652,rnmid:10990,roang:10221,roarr:8702,robrk:10215,ropar:10630,rrarr:8649,rsquo:8217,rtrie:8885,rtrif:9656,sbquo:8218,sccue:8829,scirc:349,scnap:10938,scsim:8831,sdotb:8865,sdote:10854,seArr:8664,searr:8600,setmn:8726,sharp:9839,sigma:963,simeq:8771,simgE:10912,simlE:10911,simne:8774,slarr:8592,smile:8995,sqcap:8851,sqcup:8852,sqsub:8847,sqsup:8848,srarr:8594,starf:9733,strns:175,subnE:10955,subne:8842,supnE:10956,supne:8843,swArr:8665,swarr:8601,szlig:223,theta:952,thkap:8776,thorn:254,tilde:732,times:215,trade:8482,trisb:10701,tshcy:1115,twixt:8812,ubrcy:1118,ucirc:251,udarr:8645,udhar:10606,uharl:8639,uharr:8638,uhblk:9600,ultri:9720,umacr:363,uogon:371,uplus:8846,upsih:978,uring:367,urtri:9721,utdot:8944,utrif:9652,uuarr:8648,vBarv:10985,vDash:8872,varpi:982,vdash:8866,veeeq:8794,vltri:8882,vprop:8733,vrtri:8883,wcirc:373,wedge:8743,xcirc:9711,xdtri:9661,xhArr:10234,xharr:10231,xlArr:10232,xlarr:10229,xodot:10752,xrArr:10233,xrarr:10230,xutri:9651,ycirc:375,Aopf:120120,Ascr:119964,Auml:196,Barv:10983,Beta:914,Bopf:120121,Bscr:8492,CHcy:1063,COPY:169,Cdot:266,Copf:8450,Cscr:119966,DJcy:1026,DScy:1029,DZcy:1039,Darr:8609,Dopf:120123,Dscr:119967,Edot:278,Eopf:120124,Escr:8496,Esim:10867,Euml:203,Fopf:120125,Fscr:8497,GJcy:1027,Gdot:288,Gopf:120126,Gscr:119970,Hopf:8461,Hscr:8459,IEcy:1045,IOcy:1025,Idot:304,Iopf:120128,Iota:921,Iscr:8464,Iuml:207,Jopf:120129,Jscr:119973,KHcy:1061,KJcy:1036,Kopf:120130,Kscr:119974,LJcy:1033,Lang:10218,Larr:8606,Lopf:120131,Lscr:8466,Mopf:120132,Mscr:8499,NJcy:1034,Nopf:8469,Nscr:119977,Oopf:120134,Oscr:119978,Ouml:214,Popf:8473,Pscr:119979,QUOT:34,Qopf:8474,Qscr:119980,Rang:10219,Rarr:8608,Ropf:8477,Rscr:8475,SHcy:1064,Sopf:120138,Sqrt:8730,Sscr:119982,Star:8902,TScy:1062,Topf:120139,Tscr:119983,Uarr:8607,Uopf:120140,Upsi:978,Uscr:119984,Uuml:220,Vbar:10987,Vert:8214,Vopf:120141,Vscr:119985,Wopf:120142,Wscr:119986,Xopf:120143,Xscr:119987,YAcy:1071,YIcy:1031,YUcy:1070,Yopf:120144,Yscr:119988,Yuml:376,ZHcy:1046,Zdot:379,Zeta:918,Zopf:8484,Zscr:119989,andd:10844,andv:10842,ange:10660,aopf:120146,apid:8779,apos:39,ascr:119990,auml:228,bNot:10989,bbrk:9141,beta:946,beth:8502,bnot:8976,bopf:120147,boxH:9552,boxV:9553,boxh:9472,boxv:9474,bscr:119991,bsim:8765,bsol:92,bull:8226,bump:8782,cdot:267,cent:162,chcy:1095,cirE:10691,circ:710,cire:8791,comp:8705,cong:8773,copf:120148,copy:169,cscr:119992,csub:10959,csup:10960,dArr:8659,dHar:10597,darr:8595,dash:8208,diam:8900,djcy:1106,dopf:120149,dscr:119993,dscy:1109,dsol:10742,dtri:9663,dzcy:1119,eDot:8785,ecir:8790,edot:279,emsp:8195,ensp:8194,eopf:120150,epar:8917,epsi:1013,escr:8495,esim:8770,euml:235,euro:8364,excl:33,flat:9837,fnof:402,fopf:120151,fork:8916,fscr:119995,gdot:289,geqq:8807,gjcy:1107,gnap:10890,gneq:10888,gopf:120152,gscr:8458,gsim:8819,gtcc:10919,hArr:8660,half:189,harr:8596,hbar:8463,hopf:120153,hscr:119997,iecy:1077,imof:8887,iocy:1105,iopf:120154,iota:953,iscr:119998,isin:8712,iuml:239,jopf:120155,jscr:119999,khcy:1093,kjcy:1116,kopf:120156,kscr:12e4,lArr:8656,lHar:10594,lang:10216,larr:8592,late:10925,lcub:123,ldca:10550,ldsh:8626,leqq:8806,ljcy:1113,lnap:10889,lneq:10887,lopf:120157,lozf:10731,lpar:40,lscr:120001,lsim:8818,lsqb:91,ltcc:10918,ltri:9667,macr:175,male:9794,malt:10016,mlcp:10971,mldr:8230,mopf:120158,mscr:120002,nbsp:160,ncap:10819,ncup:10818,ngeq:8817,ngtr:8815,nisd:8954,njcy:1114,nldr:8229,nleq:8816,nmid:8740,nopf:120159,npar:8742,nscr:120003,nsim:8769,nsub:8836,nsup:8837,ntgl:8825,ntlg:8824,oast:8859,ocir:8858,odiv:10808,odot:8857,ogon:731,oint:8750,omid:10678,oopf:120160,opar:10679,ordf:170,ordm:186,oror:10838,oscr:8500,osol:8856,ouml:246,para:182,part:8706,perp:8869,phiv:966,plus:43,popf:120161,prap:10935,prec:8826,prnE:10933,prod:8719,prop:8733,pscr:120005,qint:10764,qopf:120162,qscr:120006,quot:34,rArr:8658,rHar:10596,race:10714,rang:10217,rarr:8594,rcub:125,rdca:10551,rdsh:8627,real:8476,rect:9645,rhov:1009,ring:730,ropf:120163,rpar:41,rscr:120007,rsqb:93,rtri:9657,scap:10936,scnE:10934,sdot:8901,sect:167,semi:59,sext:10038,shcy:1096,sime:8771,simg:10910,siml:10909,smid:8739,smte:10924,solb:10692,sopf:120164,spar:8741,squf:9642,sscr:120008,star:9734,subE:10949,sube:8838,succ:8827,sung:9834,sup1:185,sup2:178,sup3:179,supE:10950,supe:8839,tbrk:9140,tdot:8411,tint:8749,toea:10536,topf:120165,tosa:10537,trie:8796,tscr:120009,tscy:1094,uArr:8657,uHar:10595,uarr:8593,uopf:120166,upsi:965,uscr:120010,utri:9653,uuml:252,vArr:8661,vBar:10984,varr:8597,vert:124,vopf:120167,vscr:120011,wopf:120168,wscr:120012,xcap:8898,xcup:8899,xmap:10236,xnis:8955,xopf:120169,xscr:120013,xvee:8897,yacy:1103,yicy:1111,yopf:120170,yscr:120014,yucy:1102,yuml:255,zdot:380,zeta:950,zhcy:1078,zopf:120171,zscr:120015,zwnj:8204,AMP:38,Acy:1040,Afr:120068,And:10835,Bcy:1041,Bfr:120069,Cap:8914,Cfr:8493,Chi:935,Cup:8915,Dcy:1044,Del:8711,Dfr:120071,Dot:168,ENG:330,ETH:208,Ecy:1069,Efr:120072,Eta:919,Fcy:1060,Ffr:120073,Gcy:1043,Gfr:120074,Hat:94,Hfr:8460,Icy:1048,Ifr:8465,Int:8748,Jcy:1049,Jfr:120077,Kcy:1050,Kfr:120078,Lcy:1051,Lfr:120079,Lsh:8624,Map:10501,Mcy:1052,Mfr:120080,Ncy:1053,Nfr:120081,Not:10988,Ocy:1054,Ofr:120082,Pcy:1055,Pfr:120083,Phi:934,Psi:936,Qfr:120084,REG:174,Rcy:1056,Rfr:8476,Rho:929,Rsh:8625,Scy:1057,Sfr:120086,Sub:8912,Sum:8721,Sup:8913,Tab:9,Tau:932,Tcy:1058,Tfr:120087,Ucy:1059,Ufr:120088,Vcy:1042,Vee:8897,Vfr:120089,Wfr:120090,Xfr:120091,Ycy:1067,Yfr:120092,Zcy:1047,Zfr:8488,acd:8767,acy:1072,afr:120094,amp:38,and:8743,ang:8736,apE:10864,ape:8778,ast:42,bcy:1073,bfr:120095,bot:8869,cap:8745,cfr:120096,chi:967,cir:9675,cup:8746,dcy:1076,deg:176,dfr:120097,die:168,div:247,dot:729,ecy:1101,efr:120098,egs:10902,ell:8467,els:10901,eng:331,eta:951,eth:240,fcy:1092,ffr:120099,gEl:10892,gap:10886,gcy:1075,gel:8923,geq:8805,ges:10878,gfr:120100,ggg:8921,glE:10898,gla:10917,glj:10916,gnE:8809,gne:10888,hfr:120101,icy:1080,iff:8660,ifr:120102,int:8747,jcy:1081,jfr:120103,kcy:1082,kfr:120104,lEg:10891,lap:10885,lat:10923,lcy:1083,leg:8922,leq:8804,les:10877,lfr:120105,lgE:10897,lnE:8808,lne:10887,loz:9674,lrm:8206,lsh:8624,map:8614,mcy:1084,mfr:120106,mho:8487,mid:8739,nap:8777,ncy:1085,nfr:120107,nge:8817,ngt:8815,nis:8956,niv:8715,nle:8816,nlt:8814,not:172,npr:8832,nsc:8833,num:35,ocy:1086,ofr:120108,ogt:10689,ohm:8486,olt:10688,ord:10845,orv:10843,par:8741,pcy:1087,pfr:120109,phi:966,piv:982,prE:10931,pre:10927,psi:968,qfr:120110,rcy:1088,reg:174,rfr:120111,rho:961,rlm:8207,rsh:8625,scE:10932,sce:10928,scy:1089,sfr:120112,shy:173,sim:8764,smt:10922,sol:47,squ:9633,sub:8834,sum:8721,sup:8835,tau:964,tcy:1090,tfr:120113,top:8868,ucy:1091,ufr:120114,uml:168,vcy:1074,vee:8744,vfr:120115,wfr:120116,xfr:120117,ycy:1099,yen:165,yfr:120118,zcy:1079,zfr:120119,zwj:8205,DD:8517,GT:62,Gg:8921,Gt:8811,Im:8465,LT:60,Ll:8920,Lt:8810,Mu:924,Nu:925,Or:10836,Pi:928,Pr:10939,Re:8476,Sc:10940,Xi:926,ac:8766,af:8289,ap:8776,dd:8518,ee:8519,eg:10906,el:10905,gE:8807,ge:8805,gg:8811,gl:8823,gt:62,ic:8291,ii:8520,in:8712,it:8290,lE:8806,le:8804,lg:8822,ll:8810,lt:60,mp:8723,mu:956,ne:8800,ni:8715,nu:957,oS:9416,or:8744,pi:960,pm:177,pr:8826,rx:8478,sc:8827,wp:8472,wr:8768,xi:958};const Yo=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Xo=new RegExp(`&(#?(?:x[\\w\\d]+|\\d+|${Object.keys(Qo).join("|")}))(?:;|\\b)`,"g");function Zo(t){return t.replace(Xo,(t,e)=>{let n;return n="#"!==e[0]?Qo[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCodePoint(function(t){return 10===t?32:t<128?t:t<=159?Yo[t-128]:t<55296?t:t<=57343?Jo:t<=65535?t:t>=65536&&t<=131071?t:t>=131072&&t<=196607?t:Jo}(n)):t})}const Jo=0,Ko=new Map([["li",new Set(["li"])],["dt",new Set(["dt","dd"])],["dd",new Set(["dt","dd"])],["p",new Set("address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "))],["rt",new Set(["rt","rp"])],["rp",new Set(["rt","rp"])],["optgroup",new Set(["optgroup"])],["option",new Set(["option","optgroup"])],["thead",new Set(["tbody","tfoot"])],["tbody",new Set(["tbody","tfoot"])],["tfoot",new Set(["tbody"])],["tr",new Set(["tr","tbody"])],["td",new Set(["td","th","tr"])],["th",new Set(["td","th","tr"])]]);function tl(t,e){return!(!Ko.has(t)||e&&!Ko.get(t).has(e))}function el(t,e){const n=t.charCodeAt(e);return n<=55295||n>=57344?n:(n<<10)+t.charCodeAt(e+1)-56613888}const nl=new Set(["alert","Array","Boolean","confirm","console","Date","decodeURI","decodeURIComponent","document","encodeURI","encodeURIComponent","Error","EvalError","Event","history","Infinity","InternalError","Intl","isFinite","isNaN","JSON","localStorage","location","Map","Math","NaN","navigator","Number","Object","parseFloat","parseInt","process","Promise","prompt","RangeError","ReferenceError","RegExp","sessionStorage","Set","String","SyntaxError","TypeError","undefined","URIError","window"]),il=new Set(["arguments","await","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","implements","import","in","instanceof","interface","let","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","var","void","while","with","yield"]),sl=/^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;function rl(t){return sl.test(t)||"!doctype"===t.toLowerCase()}function al(t){return t.replace(/[^a-zA-Z0-9_]+/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^[0-9]/,"_$&")}function ol(t,e){const n=new fl(e).get(t);return n&&n[0]&&n[0][0]>.7?n[0][1]:null}const ll=2,ul=3;function cl(t,e){if(null===t&&null===e)throw"Trying to compare two null values";if(null===t||null===e)return 0;const n=function(t,e){const n=[];let i,s;for(let r=0;r<=e.length;r++)for(let a=0;a<=t.length;a++)s=r&&a?t.charAt(a-1)===e.charAt(r-1)?i:Math.min(n[a],n[a-1],i)+1:r+a,i=n[a],n[a]=s;return n.pop()}(t=String(t),e=String(e));return t.length>e.length?1-n/t.length:1-n/e.length}const hl=/[^\w, ]+/;function dl(t,e=2){const n={},i=function(t,e=2){const n="-"+t.toLowerCase().replace(hl,"")+"-",i=e-n.length,s=[];if(i>0)for(let e=0;e<i;++e)t+="-";for(let t=0;t<n.length-e+1;++t)s.push(n.slice(t,t+e));return s}(t,e);let s=0;for(;s<i.length;++s)i[s]in n?n[i[s]]+=1:n[i[s]]=1;return n}function pl(t,e){return e[0]-t[0]}class fl{constructor(t){this.exact_set={},this.match_dict={},this.items={};for(let t=ll;t<ul+1;++t)this.items[t]=[];for(let e=0;e<t.length;++e)this.add(t[e])}add(t){if(t.toLowerCase()in this.exact_set)return!1;let e=ll;for(;e<ul+1;++e)this._add(t,e)}_add(t,e){const n=t.toLowerCase(),i=this.items[e]||[],s=i.length;i.push(0);const r=dl(n,e);let a,o,l=0;for(a in r)o=r[a],l+=Math.pow(o,2),a in this.match_dict?this.match_dict[a].push([s,o]):this.match_dict[a]=[[s,o]];const u=Math.sqrt(l);i[s]=[u,n],this.items[e]=i,this.exact_set[n]=t}get(t){const e=t.toLowerCase(),n=this.exact_set[e];if(n)return[[1,n]];let i=[];for(let e=ul;e>=ll;--e)if(i=this.__get(t,e),i)return i;return null}__get(t,e){const n=t.toLowerCase(),i={},s=dl(n,e),r=this.items[e];let a,o,l,u,c,h=0;for(a in s)if(o=s[a],h+=Math.pow(o,2),a in this.match_dict)for(l=0;l<this.match_dict[a].length;++l)u=this.match_dict[a][l][0],c=this.match_dict[a][l][1],u in i?i[u]+=o*c:i[u]=o*c;const d=Math.sqrt(h);let p,f=[];for(const t in i)p=i[t],f.push([p/(d*r[t][0]),r[t][1]]);f.sort(pl);let m=[];const _=Math.min(50,f.length);for(let t=0;t<_;++t)m.push([cl(f[t][1],n),f[t][1]]);f=m,f.sort(pl),m=[];for(let t=0;t<f.length;++t)f[t][0]==f[0][0]&&m.push([f[t][0],this.exact_set[f[t][1]]]);return m}}function ml(t,e="or"){return 1===t.length?t[0]:`${t.slice(0,-1).join(", ")} ${e} ${t[t.length-1]}`}const _l=/^\!?[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,yl=new Map([["svelte:head","Head"],["svelte:options","Options"],["svelte:window","Window"],["svelte:body","Body"]]),gl=Array.from(yl.keys()).concat("svelte:self","svelte:component"),vl=new Map([["script",{read:function(t,e,n){const i=t.index,s=t.template.indexOf(Wt,i);-1===s&&t.error({code:"unclosed-script",message:"<script> must have a closing tag"});const r=" ".repeat(i)+t.template.slice(i,s);let a;t.index=s+Wt.length;try{a=Dt(r)}catch(e){t.acorn_error(e)}return a.start=i,{type:"Script",start:e,end:t.index,context:zt(t,n,e),content:a}},property:"js"}],["style",{read:function(t,e,n){const i=t.index,s=t.read_until(/<\/style>/),r=t.index;let a;try{a=Do(s,{positions:!0,offset:i})}catch(e){if("CssSyntaxError"!==e.name)throw e;t.error({code:"css-syntax-error",message:e.message},e.offset)}return a=JSON.parse(JSON.stringify(a)),Bo(a,{enter:e=>{if("Selector"===e.type)for(let n=0;n<e.children.length;n+=1){const i=e.children[n];Ho(i,e.children[n+1])&&t.error({code:"invalid-ref-selector",message:"ref selectors are no longer supported"},i.loc.start.offset)}"Declaration"===e.type&&"Value"===e.value.type&&0===e.value.children.length&&t.error({code:"invalid-declaration",message:"Declaration cannot be empty"},e.start),e.loc&&(e.start=e.loc.start.offset,e.end=e.loc.end.offset,delete e.loc)}}),t.eat("</style>",!0),{type:"Style",start:e,end:t.index,attributes:n,children:a.children,content:{start:i,end:r,styles:s}}},property:"css"}]]),bl=/^svelte:self(?=[\s/>])/,xl=/^svelte:component(?=[\s/>])/;function kl(t){const e=t.index++;let n=t.current();if(t.eat("!--")){const n=t.read_until(/-->/);return t.eat("--\x3e",!0,"comment was left open, expected --\x3e"),void t.current().children.push({start:e,end:t.index,type:"Comment",data:n})}const i=t.eat("/"),s=function(t){const e=t.index;if(t.read(bl)){let n=t.stack.length,i=!1;for(;n--;){const e=t.stack[n];if("IfBlock"===e.type||"EachBlock"===e.type){i=!0;break}}return i||t.error({code:"invalid-self-placement",message:"<svelte:self> components can only exist inside if-blocks or each-blocks"},e),"svelte:self"}if(t.read(xl))return"svelte:component";const n=t.read_until(/(\s|\/|>)/);if(yl.has(n))return n;if(n.startsWith("svelte:")){const i=ol(n.slice(7),gl);let s=`Valid <svelte:...> tag names are ${ml(gl)}`;i&&(s+=` (did you mean '${i}'?)`),t.error({code:"invalid-tag-name",message:s},e)}return _l.test(n)||t.error({code:"invalid-tag-name",message:"Expected valid tag name"},e),n}(t);if(yl.has(s)){const n=yl.get(s).toLowerCase();i?"svelte:window"!==s&&"svelte:body"!==s||!t.current().children.length||t.error({code:`invalid-${n}-content`,message:`<${s}> cannot have children`},t.current().children[0].start):(s in t.meta_tags&&t.error({code:`duplicate-${n}`,message:`A component can only have one <${s}> tag`},e),t.stack.length>1&&t.error({code:`invalid-${n}-placement`,message:`<${s}> tags cannot be inside elements or blocks`},e),t.meta_tags[s]=!0)}const r={start:e,end:null,type:yl.has(s)?yl.get(s):/[A-Z]/.test(s[0])||"svelte:self"===s||"svelte:component"===s?"InlineComponent":"title"===s&&function(t){let e=t.length;for(;e--;){const{type:n}=t[e];if("Head"===n)return!0;if("Element"===n||"InlineComponent"===n)return!1}return!1}(t.stack)?"Title":"slot"!==s||t.customElement?"Element":"Slot",name:s,attributes:[],children:[]};if(t.allow_whitespace(),i){for(rl(s)&&t.error({code:"invalid-void-content",message:`<${s}> is a void element and cannot have children, or a closing tag`},e),t.eat(">",!0);n.name!==s;)"Element"!==n.type&&t.error({code:"invalid-closing-tag",message:`</${s}> attempted to close an element that was not open`},e),n.end=e,t.stack.pop(),n=t.current();return n.end=t.index,void t.stack.pop()}tl(n.name,s)&&(n.end=e,t.stack.pop());const a=new Set;let o;for(;o=wl(t,a);)r.attributes.push(o),t.allow_whitespace();if("svelte:component"===s){const n=r.attributes.findIndex(t=>"Attribute"===t.type&&"this"===t.name);~n||t.error({code:"missing-component-definition",message:"<svelte:component> must have a 'this' attribute"},e);const i=r.attributes.splice(n,1)[0];!0!==i.value&&1===i.value.length&&"Text"!==i.value[0].type||t.error({code:"invalid-component-definition",message:"invalid component definition"},i.start),r.expression=i.value[0].expression}if(vl.has(s)&&1===t.stack.length){const n=vl.get(s);t.eat(">",!0);const i=n.read(t,e,r.attributes);return void(i&&t[n.property].push(i))}t.current().children.push(r);const l=t.eat("/")||rl(s);if(t.eat(">",!0),l)r.end=t.index;else if("textarea"===s)r.children=Sl(t,()=>"</textarea>"===t.template.slice(t.index,t.index+11)),t.read(/<\/textarea>/),r.end=t.index;else if("script"===s){const e=t.index,n=t.read_until(/<\/script>/),i=t.index;r.children.push({start:e,end:i,type:"Text",data:n}),t.eat("<\/script>",!0),r.end=t.index}else if("style"===s){const e=t.index,n=t.read_until(/<\/style>/),i=t.index;r.children.push({start:e,end:i,type:"Text",data:n}),t.eat("</style>",!0)}else t.stack.push(r)}function wl(t,e){const n=t.index;if(t.eat("{")){if(t.allow_whitespace(),t.eat("...")){const e=Gt(t);return t.allow_whitespace(),t.eat("}",!0),{start:n,end:t.index,type:"Spread",expression:e}}{const e=t.index,i=t.read_identifier();return t.allow_whitespace(),t.eat("}",!0),{start:n,end:t.index,type:"Attribute",name:i,value:[{start:e,end:e+i.length,type:"AttributeShorthand",expression:{start:e,end:e+i.length,type:"Identifier",name:i}}]}}}const i=t.read_until(/[\s=\/>"']/);if(!i)return null;let s=t.index;t.allow_whitespace();const r=i.indexOf(":"),a=-1!==r&&function(t){return"use"===t?"Action":"animate"===t?"Animation":"bind"===t?"Binding":"class"===t?"Class":"on"===t?"EventHandler":"let"===t?"Let":"ref"===t?"Ref":"in"===t||"out"===t||"transition"===t?"Transition":void 0}(i.slice(0,r));e.has(i)&&t.error({code:"duplicate-attribute",message:"Attributes need to be unique"},n),"EventHandler"!==a&&e.add(i);let o=!0;if(t.eat("=")?(t.allow_whitespace(),o=function(t){const e=t.eat("'")?"'":t.eat('"')?'"':null,n="'"===e?/'/:'"'===e?/"/:/(\/>|[\s"'=<>`])/,i=Sl(t,()=>!!t.match_regex(n));return e&&(t.index+=1),i}(t),s=t.index):t.match_regex(/["']/)&&t.error({code:"unexpected-token",message:"Expected ="},t.index),a){const[e,...l]=i.slice(r+1).split("|");"Ref"===a&&t.error({code:"invalid-ref-directive",message:`The ref directive is no longer supported — use \`bind:this={${e}}\` instead`},n),o[0]&&(o.length>1||"Text"===o[0].type)&&t.error({code:"invalid-directive-value",message:"Directive value must be a JavaScript expression enclosed in curly braces"},o[0].start);const u={start:n,end:s,type:a,name:e,modifiers:l,expression:o[0]&&o[0].expression||null};if("Transition"===a){const t=i.slice(0,r);u.intro="in"===t||"transition"===t,u.outro="out"===t||"transition"===t}return u.expression||"Binding"!==a&&"Class"!==a||(u.expression={start:u.start+r+1,end:u.end,type:"Identifier",name:u.name}),u}return{start:n,end:s,type:"Attribute",name:i,value:o}}function Sl(t,e){let n={start:t.index,end:null,type:"Text",raw:"",data:null};function i(){n.raw&&(n.data=Zo(n.raw),n.end=t.index,s.push(n))}const s=[];for(;t.index<t.template.length;){const r=t.index;if(e())return i(),s;if(t.eat("{")){i(),t.allow_whitespace();const e=Gt(t);t.allow_whitespace(),t.eat("}",!0),s.push({start:r,end:t.index,type:"MustacheTag",expression:e}),n={start:t.index,end:null,type:"Text",raw:"",data:null}}else n.raw+=t.template[t.index++]}t.error({code:"unexpected-eof",message:"Unexpected end of input"})}function $l(t){t.eat("=")&&t.error({code:"invalid-assignment-pattern",message:"Assignment patterns are not supported"},t.index-1)}function Tl(t){t.error({code:"rest-pattern-not-last",message:"Rest destructuring expected to be last"},t.index)}function Al(t){let e=0;for(;Vt.test(t[e]);)e+=1;return t.slice(e)}function El(t){let e=t.length;for(;Vt.test(t[e-1]);)e-=1;return t.slice(0,e)}function Cl(t){const e=t.index;if(t.index+=1,t.allow_whitespace(),t.eat("/")){let n,i=t.current();for(tl(i.name)&&(i.end=e,t.stack.pop(),i=t.current()),"ElseBlock"!==i.type&&"PendingBlock"!==i.type&&"ThenBlock"!==i.type&&"CatchBlock"!==i.type||(i.end=e,t.stack.pop(),i=t.current(),n="await"),"IfBlock"===i.type?n="if":"EachBlock"===i.type?n="each":"AwaitBlock"===i.type?n="await":t.error({code:"unexpected-block-close",message:"Unexpected block closing tag"}),t.eat(n,!0),t.allow_whitespace(),t.eat("}",!0);i.elseif;)i.end=t.index,t.stack.pop(),i=t.current(),i.else&&(i.else.end=e);const s=t.template[i.start-1],r=t.template[t.index];!function t(e,n,i){if(!e.children||0===e.children.length)return;const s=e.children[0],r=e.children[e.children.length-1];"Text"===s.type&&n&&(s.data=Al(s.data),s.data||e.children.shift()),"Text"===r.type&&i&&(r.data=El(r.data),r.data||e.children.pop()),e.else&&t(e.else,n,i),s.elseif&&t(s,n,i)}(i,!s||Vt.test(s),!r||Vt.test(r)),i.end=t.index,t.stack.pop()}else if(t.eat(":else"))if(t.eat("if")&&t.error({code:"invalid-elseif",message:"'elseif' should be 'else if'"}),t.allow_whitespace(),t.eat("if")){const e=t.current();"IfBlock"!==e.type&&t.error({code:"invalid-elseif-placement",message:"Cannot have an {:else if ...} block outside an {#if ...} block"}),t.require_whitespace();const n=Gt(t);t.allow_whitespace(),t.eat("}",!0),e.else={start:t.index,end:null,type:"ElseBlock",children:[{start:t.index,end:null,type:"IfBlock",elseif:!0,expression:n,children:[]}]},t.stack.push(e.else.children[0])}else{const e=t.current();"IfBlock"!==e.type&&"EachBlock"!==e.type&&t.error({code:"invalid-else-placement",message:"Cannot have an {:else} block outside an {#if ...} or {#each ...} block"}),t.allow_whitespace(),t.eat("}",!0),e.else={start:t.index,end:null,type:"ElseBlock",children:[]},t.stack.push(e.else)}else if(t.match(":then")||t.match(":catch")){const n=t.current(),i=t.eat(":then")||!t.eat(":catch");i?"PendingBlock"!==n.type&&t.error({code:"invalid-then-placement",message:"Cannot have an {:then} block outside an {#await ...} block"}):"ThenBlock"!==n.type&&"PendingBlock"!==n.type&&t.error({code:"invalid-catch-placement",message:"Cannot have an {:catch} block outside an {#await ...} block"}),n.end=e,t.stack.pop();const s=t.current();t.eat("}")||(t.require_whitespace(),s[i?"value":"error"]=t.read_identifier(),t.allow_whitespace(),t.eat("}",!0));const r={start:e,end:null,type:i?"ThenBlock":"CatchBlock",children:[],skip:!1};s[i?"then":"catch"]=r,t.stack.push(r)}else if(t.eat("#")){let n;t.eat("if")?n="IfBlock":t.eat("each")?n="EachBlock":t.eat("await")?n="AwaitBlock":t.error({code:"expected-block-type",message:"Expected if, each or await"}),t.require_whitespace();const i=Gt(t),s="AwaitBlock"===n?{start:e,end:null,type:n,expression:i,value:null,error:null,pending:{start:null,end:null,type:"PendingBlock",children:[],skip:!0},then:{start:null,end:null,type:"ThenBlock",children:[],skip:!0},catch:{start:null,end:null,type:"CatchBlock",children:[],skip:!0}}:{start:e,end:null,type:n,expression:i,children:[]};t.allow_whitespace(),"EachBlock"===n&&(t.eat("as",!0),t.require_whitespace(),s.context=function t(e){const n={start:e.index,end:null,type:null};if(e.eat("[")){n.type="ArrayPattern",n.elements=[];do{e.allow_whitespace();const i=n.elements[n.elements.length-1];i&&"RestIdentifier"===i.type&&Tl(e),","===e.template[e.index]?n.elements.push(null):(n.elements.push(t(e)),e.allow_whitespace())}while(e.eat(","));$l(e),e.eat("]",!0),n.end=e.index}else if(e.eat("{")){n.type="ObjectPattern",n.properties=[];do{if(e.allow_whitespace(),e.eat("...")){e.allow_whitespace();const t=e.index,i=e.read_identifier(),s={start:t,end:e.index,type:"Identifier",name:i},r={start:t,end:e.index,type:"Property",kind:"rest",shorthand:!0,key:s,value:s};n.properties.push(r),e.allow_whitespace(),e.eat(",")&&e.error({code:"comma-after-rest",message:"Comma is not permitted after the rest element"},e.index-1);break}const i=e.index,s=e.read_identifier(),r={start:i,end:e.index,type:"Identifier",name:s};e.allow_whitespace();const a=e.eat(":")?(e.allow_whitespace(),t(e)):r,o={start:i,end:a.end,type:"Property",kind:"init",shorthand:"Identifier"===a.type&&a.name===s,key:r,value:a};n.properties.push(o),e.allow_whitespace()}while(e.eat(","));$l(e),e.eat("}",!0),n.end=e.index}else if(e.eat("...")){const t=e.read_identifier();t?(n.type="RestIdentifier",n.end=e.index,n.name=t):e.error({code:"invalid-context",message:"Expected a rest pattern"})}else{const t=e.read_identifier();t?(n.type="Identifier",n.end=e.index,n.name=t):e.error({code:"invalid-context",message:"Expected a name, array pattern or object pattern"}),$l(e)}return n}(t),t.allow_whitespace(),t.eat(",")&&(t.allow_whitespace(),s.index=t.read_identifier(),s.index||t.error({code:"expected-name",message:"Expected name"}),t.allow_whitespace()),t.eat("(")&&(t.allow_whitespace(),s.key=Gt(t),t.allow_whitespace(),t.eat(")",!0),t.allow_whitespace()));const r="AwaitBlock"===n&&t.eat("then");if(r&&(t.require_whitespace(),s.value=t.read_identifier(),t.allow_whitespace()),t.eat("}",!0),t.current().children.push(s),t.stack.push(s),"AwaitBlock"===n){let e;r?(s.then.skip=!1,e=s.then):(s.pending.skip=!1,e=s.pending),e.start=t.index,t.stack.push(e)}}else if(t.eat("@html")){t.require_whitespace();const n=Gt(t);t.allow_whitespace(),t.eat("}",!0),t.current().children.push({start:e,end:t.index,type:"RawMustacheTag",expression:n})}else if(t.eat("@debug")){let n;if(t.read(/\s*}/))n=[];else{const e=Gt(t);n="SequenceExpression"===e.type?e.expressions:[e],n.forEach(e=>{"Identifier"!==e.type&&t.error({code:"invalid-debug-args",message:"{@debug ...} arguments must be identifiers, not arbitrary expressions"},e.start)}),t.allow_whitespace(),t.eat("}",!0)}t.current().children.push({start:e,end:t.index,type:"DebugTag",identifiers:n})}else{const n=Gt(t);t.allow_whitespace(),t.eat("}",!0),t.current().children.push({start:e,end:t.index,type:"MustacheTag",expression:n})}}function Pl(t){const e=t.index;let n="";for(;t.index<t.template.length&&!t.match("<")&&!t.match("{");)n+=t.template[t.index++];const i={start:e,end:t.index,type:"Text",raw:n,data:Zo(n)};t.current().children.push(i)}function Ol(t){return t.match("<")?kl:t.match("{")?Cl:Pl}function ql(t,e){void 0===e&&(e={});var n=e.offsetLine||0,i=e.offsetColumn||0,s=t.split("\n"),r=0,a=s.map((function(t,e){var n=r+t.length+1,i={start:r,end:n,line:e};return r=n,i})),o=0;function l(t,e){return t.start<=e&&e<t.end}function u(t,e){return{line:n+t.line,column:i+e-t.start,character:e}}return function(e,n){"string"==typeof e&&(e=t.indexOf(e,n||0));for(var i=a[o],s=e>=i.end?1:-1;i;){if(l(i,e))return u(i,e);i=a[o+=s]}}}function Ml(t,e,n){if("number"==typeof n)throw new Error("locate takes a { startIndex, offsetLine, offsetColumn } object as the third argument");return ql(t,n)(e,n&&n.startIndex)}function Ll(t){return t.replace(/^\t+/,t=>t.split("\t").join("  "))}function Rl(t,e,n){const i=t.split("\n"),s=Math.max(0,e-2),r=Math.min(e+3,i.length),a=String(r+1).length;return i.slice(s,r).map((t,i)=>{const r=s+i===e,o=String(i+s+1).padStart(a," ");if(r){const e=" ".repeat(a+2+Ll(t.slice(0,n)).length)+"^";return`${o}: ${Ll(t)}\n${e}`}return`${o}: ${Ll(t)}`}).join("\n")}class Nl extends Error{toString(){return`${this.message} (${this.start.line}:${this.start.column})\n${this.frame}`}}function Il(t,e){const n=new Nl(t);n.name=e.name;const i=Ml(e.source,e.start,{offsetLine:1}),s=Ml(e.source,e.end||e.start,{offsetLine:1});throw n.code=e.code,n.start=i,n.end=s,n.pos=e.start,n.filename=e.filename,n.frame=Rl(e.source,i.line-1,i.column),n}class Fl{constructor(t,e){if(this.index=0,this.stack=[],this.css=[],this.js=[],this.meta_tags={},"string"!=typeof t)throw new TypeError("Template must be a string");this.template=t.replace(/\s+$/,""),this.filename=e.filename,this.customElement=e.customElement,this.html={start:null,end:null,type:"Fragment",children:[]},this.stack.push(this.html);let n=Ol;for(;this.index<this.template.length;)n=n(this)||Ol;if(this.stack.length>1){const t=this.current(),e="Element"===t.type?`<${t.name}>`:"Block",n="Element"===t.type?"element":"block";this.error({code:`unclosed-${n}`,message:`${e} was left open`},t.start)}if(n!==Ol&&this.error({code:"unexpected-eof",message:"Unexpected end of input"}),this.html.children.length){let e=this.html.children[0].start;for(;Vt.test(t[e]);)e+=1;let n=this.html.children[this.html.children.length-1].end;for(;Vt.test(t[n-1]);)n-=1;this.html.start=e,this.html.end=n}else this.html.start=this.html.end=null}current(){return this.stack[this.stack.length-1]}acorn_error(t){this.error({code:"parse-error",message:t.message.replace(/ \(\d+:\d+\)$/,"")},t.pos)}error({code:t,message:e},n=this.index){Il(e,{name:"ParseError",code:t,source:this.template,start:n,filename:this.filename})}eat(t,e,n){return this.match(t)?(this.index+=t.length,!0):(e&&this.error({code:`unexpected-${this.index===this.template.length?"eof":"token"}`,message:n||`Expected ${t}`}),!1)}match(t){return this.template.slice(this.index,this.index+t.length)===t}match_regex(t){const e=t.exec(this.template.slice(this.index));return e&&0===e.index?e[0]:null}allow_whitespace(){for(;this.index<this.template.length&&Vt.test(this.template[this.index]);)this.index++}read(t){const e=this.match_regex(t);return e&&(this.index+=e.length),e}read_identifier(){const t=this.index;let e=this.index;const n=el(this.template,e);if(!f(n,!0))return null;for(e+=n<=65535?1:2;e<this.template.length;){const t=el(this.template,e);if(!m(t,!0))break;e+=t<=65535?1:2}const i=this.template.slice(this.index,this.index=e);return il.has(i)&&this.error({code:"unexpected-reserved-word",message:`'${i}' is a reserved word in JavaScript and cannot be used here`},t),i}read_until(t){this.index>=this.template.length&&this.error({code:"unexpected-eof",message:"Unexpected end of input"});const e=this.index,n=t.exec(this.template.slice(e));return n?(this.index=e+n.index,this.template.slice(e,this.index)):(this.index=this.template.length,this.template.slice(e))}require_whitespace(){Vt.test(this.template[this.index])||this.error({code:"missing-whitespace",message:"Expected whitespace"}),this.allow_whitespace()}}function Dl(t,e={}){const n=new Fl(t,e);n.css.length>1&&n.error({code:"duplicate-style",message:"You can only have one top-level <style> tag per component"},n.css[1].start);const i=n.js.filter(t=>"default"===t.context),s=n.js.filter(t=>"module"===t.context);return i.length>1&&n.error({code:"invalid-script",message:"A component can only have one instance-level <script> element"},i[1].start),s.length>1&&n.error({code:"invalid-script",message:'A component can only have one <script context="module"> element'},s[1].start),{html:n.html,css:n.css[0],instance:i[0],module:s[0]}}function Bl(t,e){if("MemberExpression"===t.type)return!t.computed&&Bl(t.object,t);if("Identifier"===t.type){if(!e)return!0;switch(e.type){case"MemberExpression":return e.computed||t===e.object;case"MethodDefinition":return e.computed;case"Property":return e.computed||t===e.value;case"ExportSpecifier":case"ImportSpecifier":return t===e.local;case"LabeledStatement":case"BreakStatement":case"ContinueStatement":return!1;default:return!0}}return!1}function Vl(t){const e=new WeakMap;let n=new jl(null,!1);Bo(t,{enter(t,i){"ImportDeclaration"===t.type?t.specifiers.forEach(t=>{n.declarations.set(t.local.name,t)}):/(Function(Declaration|Expression)|ArrowFunctionExpression)/.test(t.type)?("FunctionDeclaration"===t.type?(n.declarations.set(t.id.name,t),e.set(t,n=new jl(n,!1))):(e.set(t,n=new jl(n,!1)),"FunctionExpression"===t.type&&t.id&&n.declarations.set(t.id.name,t)),t.params.forEach(e=>{Ul(e).forEach(e=>{n.declarations.set(e,t)})})):/For(?:In|Of)?Statement/.test(t.type)?e.set(t,n=new jl(n,!0)):"BlockStatement"===t.type?e.set(t,n=new jl(n,!0)):/(Class|Variable)Declaration/.test(t.type)?n.add_declaration(t):"CatchClause"===t.type&&(e.set(t,n=new jl(n,!0)),t.param&&Ul(t.param).forEach(e=>{n.declarations.set(e,t.param)}))},leave(t){e.has(t)&&(n=n.parent)}});const i=new Map;return Bo(t,{enter(t,s){e.has(t)&&(n=e.get(t)),"Identifier"===t.type&&Bl(t,s)&&(n.find_owner(t.name)||i.set(t.name,t),function t(e,n){e.references.add(n),e.parent&&t(e.parent,n)}(n,t.name))},leave(t){e.has(t)&&(n=n.parent)}}),{map:e,scope:n,globals:i}}class jl{__init(){this.declarations=new Map}__init2(){this.initialised_declarations=new Set}__init3(){this.references=new Set}constructor(t,e){jl.prototype.__init.call(this),jl.prototype.__init2.call(this),jl.prototype.__init3.call(this),this.parent=t,this.block=e}add_declaration(t){"VariableDeclaration"===t.type?"var"===t.kind&&this.block&&this.parent?this.parent.add_declaration(t):"VariableDeclaration"===t.type&&t.declarations.forEach(e=>{Ul(e.id).forEach(n=>{this.declarations.set(n,t),e.init&&this.initialised_declarations.add(n)})}):this.declarations.set(t.id.name,t)}find_owner(t){return this.declarations.has(t)?this:this.parent&&this.parent.find_owner(t)}has(t){return this.declarations.has(t)||this.parent&&this.parent.has(t)}}function Ul(t){return Gl(t).map(t=>t.name)}function Gl(t){const e=[];return Wl[t.type]&&Wl[t.type](e,t),e}const Wl={Identifier(t,e){t.push(e)},MemberExpression(t,e){let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n)},ObjectPattern(t,e){e.properties.forEach(e=>{"RestElement"===e.type?t.push(e.argument):Wl[e.value.type](t,e.value)})},ArrayPattern(t,e){e.elements.forEach(e=>{e&&Wl[e.type](t,e)})},RestElement(t,e){Wl[e.argument.type](t,e.argument)},AssignmentPattern(t,e){Wl[e.left.type](t,e.left)}};var zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Hl(t){for(var e=0,n=0,i=0,s=0,r="",a=0;a<t.length;a++){var o=t[a];if(a>0&&(r+=";"),0!==o.length){for(var l=0,u=[],c=0,h=o;c<h.length;c++){var d=h[c],p=Ql(d[0]-l);l=d[0],d.length>1&&(p+=Ql(d[1]-e)+Ql(d[2]-n)+Ql(d[3]-i),e=d[1],n=d[2],i=d[3]),5===d.length&&(p+=Ql(d[4]-s),s=d[4]),u.push(p)}r+=u.join(",")}}return r}function Ql(t){var e="";t=t<0?-t<<1|1:t<<1;do{var n=31&t;(t>>>=5)>0&&(n|=32),e+=zl[n]}while(t>0);return e}const Yl=Math.round(1e20*Math.random()).toString(36),Xl=new RegExp(`_${Yl}_(?:(\\d+)|(AT)|(HASH))_(\\w+)?`,"g");function Zl(t,e){const n=cu[t.type];if(!n)throw new Error(`Not implemented ${t.type}`);const i=n(t,e);return t.leadingComments&&i.unshift(Jl(t.leadingComments.map(t=>"Block"===t.type?`/*${t.value}*/${t.has_trailing_newline?`\n${e.indent}`:" "}`:`//${t.value}${t.has_trailing_newline?`\n${e.indent}`:" "}`).join(""))),t.trailingComments&&e.comments.push(t.trailingComments[0]),i}function Jl(t,e){return{content:t,loc:e&&e.loc,has_newline:/\n/.test(t)}}const Kl={"||":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},tu=17,eu={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:tu,ClassExpression:tu,FunctionExpression:tu,ObjectExpression:tu,UpdateExpression:16,UnaryExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,AwaitExpression:2,YieldExpression:2,RestElement:1};function nu(t,e,n){const i=eu[t.type];if(i===tu)return!0;const s=eu[e.type];return i!==s?!n&&15===i&&14===s&&"**"===e.operator||i<s:(13===i||14===i)&&("**"===t.operator&&"**"===e.operator?!n:n?Kl[t.operator]<=Kl[e.operator]:Kl[t.operator]<Kl[e.operator])}const iu=t=>{for(let e=0;e<t.length;e+=1)if(t[e].has_newline)return!0;return!1},su=t=>{let e=0;for(let n=0;n<t.length;n+=1)e+=t[n].content.length;return e},ru=(t,e)=>t+e,au=(t,e)=>{if(0===t.length)return[];const n=[...t[0]];for(let i=1;i<t.length;i+=1)n.push(e,...t[i]);return n},ou=t=>(e,n)=>t(e,{...n,scope:n.scope_map.get(e)}),lu=(t,e)=>{const n=[],i=t.map(t=>{const n=Zl(t,{...e,indent:e.indent});for(;e.comments.length;){const t=e.comments.shift();n.push(Jl("Block"===t.type?` /*${t.value}*/`:` //${t.value}`))}return n});let s=!1;for(let t=0;t<i.length;t+=1){const r=iu(i[t]);t>0&&n.push(Jl(r||s?`\n\n${e.indent}`:`\n${e.indent}`)),n.push(...i[t]),s=r}return n},uu=(t,e)=>{const n=[Jl(`${t.kind} `)],i=t.declarations.map(n=>Zl(n,{...e,indent:e.indent+(1===t.declarations.length?"":"\t")})),s=i.some(iu)||i.map(su).reduce(ru,0)+2*(e.indent.length+i.length-1)>80,r=Jl(s?`,\n${e.indent}\t`:", ");return n.push(...au(i,r)),n},cu={Program:(t,e)=>lu(t.body,e),BlockStatement:ou((t,e)=>[Jl(`{\n${e.indent}\t`),...lu(t.body,{...e,indent:e.indent+"\t"}),Jl(`\n${e.indent}}`)]),EmptyStatement:(t,e)=>[],ExpressionStatement(t,e){const n=eu[t.expression.type];return n===tu||3===n&&"ObjectPattern"===t.expression.left.type?[Jl("("),...Zl(t.expression,e),Jl(");")]:[...Zl(t.expression,e),Jl(";")]},IfStatement(t,e){const n=[Jl("if ("),...Zl(t.test,e),Jl(") "),...Zl(t.consequent,e)];return t.alternate&&n.push(Jl(" else "),...Zl(t.alternate,e)),n},LabeledStatement:(t,e)=>[...Zl(t.label,e),Jl(": "),...Zl(t.body,e)],BreakStatement:(t,e)=>t.label?[Jl("break "),...Zl(t.label,e),Jl(";")]:[Jl("break;")],ContinueStatement:(t,e)=>t.label?[Jl("continue "),...Zl(t.label,e),Jl(";")]:[Jl("continue;")],WithStatement:(t,e)=>[Jl("with ("),...Zl(t.object,e),Jl(") "),...Zl(t.body,e)],SwitchStatement(t,e){const n=[Jl("switch ("),...Zl(t.discriminant,e),Jl(") {")];return t.cases.forEach(t=>{t.test?n.push(Jl(`\n${e.indent}\tcase `),...Zl(t.test,{...e,indent:`${e.indent}\t`}),Jl(":")):n.push(Jl(`\n${e.indent}\tdefault:`)),t.consequent.forEach(t=>{n.push(Jl(`\n${e.indent}\t\t`),...Zl(t,{...e,indent:`${e.indent}\t\t`}))})}),n.push(Jl(`\n${e.indent}}`)),n},ReturnStatement:(t,e)=>t.argument?[Jl("return "),...Zl(t.argument,e),Jl(";")]:[Jl("return;")],ThrowStatement:(t,e)=>[Jl("throw "),...Zl(t.argument,e),Jl(";")],TryStatement(t,e){const n=[Jl("try "),...Zl(t.block,e)];return t.handler&&(t.handler.param?n.push(Jl(" catch("),...Zl(t.handler.param,e),Jl(") ")):n.push(Jl(" catch ")),n.push(...Zl(t.handler.body,e))),t.finalizer&&n.push(Jl(" finally "),...Zl(t.finalizer,e)),n},WhileStatement:(t,e)=>[Jl("while ("),...Zl(t.test,e),Jl(") "),...Zl(t.body,e)],DoWhileStatement:(t,e)=>[Jl("do "),...Zl(t.body,e),Jl(" while ("),...Zl(t.test,e),Jl(");")],ForStatement:ou((t,e)=>{const n=[Jl("for (")];return t.init&&("VariableDeclaration"===t.init.type?n.push(...uu(t.init,e)):n.push(...Zl(t.init,e))),n.push(Jl("; ")),t.test&&n.push(...Zl(t.test,e)),n.push(Jl("; ")),t.update&&n.push(...Zl(t.update,e)),n.push(Jl(") "),...Zl(t.body,e)),n}),ForInStatement:ou((t,e)=>{const n=[Jl(`for ${t.await?"await ":""}(`)];return"VariableDeclaration"===t.left.type?n.push(...uu(t.left,e)):n.push(...Zl(t.left,e)),n.push(Jl("ForInStatement"===t.type?" in ":" of "),...Zl(t.right,e),Jl(") "),...Zl(t.body,e)),n}),DebuggerStatement:(t,e)=>[Jl("debugger",t),Jl(";")],FunctionDeclaration:ou((t,e)=>{const n=[];t.async&&n.push(Jl("async ")),n.push(Jl(t.generator?"function* ":"function ")),t.id&&n.push(...Zl(t.id,e)),n.push(Jl("("));const i=t.params.map(t=>Zl(t,{...e,indent:e.indent+"\t"})),s=i.some(iu)||i.map(su).reduce(ru,0)+2*(e.indent.length+i.length-1)>80,r=Jl(s?`,\n${e.indent}`:", ");return s?n.push(Jl(`\n${e.indent}\t`),...au(i,r),Jl(`\n${e.indent}`)):n.push(...au(i,r)),n.push(Jl(") "),...Zl(t.body,e)),n}),VariableDeclaration:(t,e)=>uu(t,e).concat(Jl(";")),VariableDeclarator:(t,e)=>t.init?[...Zl(t.id,e),Jl(" = "),...Zl(t.init,e)]:Zl(t.id,e),ClassDeclaration(t,e){const n=[Jl("class ")];return t.id&&n.push(...Zl(t.id,e),Jl(" ")),t.superClass&&n.push(Jl("extends "),...Zl(t.superClass,e),Jl(" ")),n.push(...Zl(t.body,e)),n},ImportDeclaration(t,e){const n=[Jl("import ")],{length:i}=t.specifiers,s=Zl(t.source,e);if(i>0){let r=0;for(;r<i;){r>0&&n.push(Jl(", "));const e=t.specifiers[r];if("ImportDefaultSpecifier"===e.type)n.push(Jl(e.local.name,e)),r+=1;else{if("ImportNamespaceSpecifier"!==e.type)break;n.push(Jl("* as "+e.local.name,e)),r+=1}}if(r<i){const i=t.specifiers.slice(r).map(t=>{const n=Zl(t.imported,e)[0],i=Zl(t.local,e)[0];return n.content===i.content?[i]:[n,Jl(" as "),i]});su(n)+i.map(su).reduce(ru,0)+2*i.length+6+su(s)>80?n.push(Jl("{\n\t"),...au(i,Jl(",\n\t")),Jl("\n}")):n.push(Jl("{ "),...au(i,Jl(", ")),Jl(" }"))}n.push(Jl(" from "))}return n.push(...s,Jl(";")),n},ImportExpression:(t,e)=>[Jl("import("),...Zl(t.source,e),Jl(")")],ExportDefaultDeclaration(t,e){const n=[Jl("export default "),...Zl(t.declaration,e)];return"FunctionDeclaration"!==t.declaration.type&&n.push(Jl(";")),n},ExportNamedDeclaration(t,e){const n=[Jl("export ")];if(t.declaration)n.push(...Zl(t.declaration,e));else{const i=t.specifiers.map(t=>{const n=Zl(t.local,e)[0],i=Zl(t.exported,e)[0];return n.content===i.content?[n]:[n,Jl(" as "),i]});7+i.map(su).reduce(ru,0)+2*i.length>80?n.push(Jl("{\n\t"),...au(i,Jl(",\n\t")),Jl("\n}")):n.push(Jl("{ "),...au(i,Jl(", ")),Jl(" }")),t.source&&n.push(Jl(" from "),...Zl(t.source,e))}return n.push(Jl(";")),n},ExportAllDeclaration:(t,e)=>[Jl("export * from "),...Zl(t.source,e),Jl(";")],MethodDefinition(t,e){const n=[];t.static&&n.push(Jl("static ")),"get"!==t.kind&&"set"!==t.kind||n.push(Jl(t.kind+" ")),t.value.async&&n.push(Jl("async ")),t.value.generator&&n.push(Jl("*")),t.computed?n.push(Jl("["),...Zl(t.key,e),Jl("]")):n.push(...Zl(t.key,e)),n.push(Jl("("));const{params:i}=t.value;for(let t=0;t<i.length;t+=1)n.push(...Zl(i[t],e)),t<i.length-1&&n.push(Jl(", "));return n.push(Jl(") "),...Zl(t.value.body,e)),n},ArrowFunctionExpression:ou((t,e)=>{const n=[];if(t.async&&n.push(Jl("async ")),1===t.params.length&&"Identifier"===t.params[0].type)n.push(...Zl(t.params[0],e));else{const i=t.params.map(t=>Zl(t,{...e,indent:e.indent+"\t"}));n.push(Jl("("),...au(i,Jl(", ")),Jl(")"))}return n.push(Jl(" => ")),"ObjectExpression"===t.body.type?n.push(Jl("("),...Zl(t.body,e),Jl(")")):n.push(...Zl(t.body,e)),n}),ThisExpression:(t,e)=>[Jl("this",t)],Super:(t,e)=>[Jl("super",t)],RestElement:(t,e)=>[Jl("..."),...Zl(t.argument,e)],YieldExpression:(t,e)=>t.argument?[Jl(t.delegate?"yield* ":"yield "),...Zl(t.argument,e)]:[Jl(t.delegate?"yield*":"yield")],AwaitExpression:(t,e)=>t.argument?[Jl("await "),...Zl(t.argument,e)]:[Jl("await")],TemplateLiteral(t,e){const n=[Jl("`")],{quasis:i,expressions:s}=t;for(let t=0;t<s.length;t++)n.push(Jl(i[t].value.raw),Jl("${"),...Zl(s[t],e),Jl("}"));return n.push(Jl(i[i.length-1].value.raw),Jl("`")),n},TaggedTemplateExpression:(t,e)=>Zl(t.tag,e).concat(Zl(t.quasi,e)),ArrayExpression(t,e){const n=[Jl("[")],i=[];let s=[];for(let n=0;n<t.elements.length;n+=1){const r=t.elements[n];r?(i.push([...s,...Zl(r,{...e,indent:e.indent+"\t"})]),s=[]):s.push(Jl(","))}return i.some(iu)||i.map(su).reduce(ru,0)+2*(e.indent.length+i.length-1)>80?n.push(Jl(`\n${e.indent}\t`),...au(i,Jl(`,\n${e.indent}\t`)),Jl(`\n${e.indent}`),...s):n.push(...au(i,Jl(", ")),...s),n.push(Jl("]")),n},ObjectExpression(t,e){if(0===t.properties.length)return[Jl("{}")];let n=!1;const i=[],s=Jl(", ");t.properties.forEach((r,a)=>{if(i.push(...Zl(r,{...e,indent:e.indent+"\t"})),e.comments.length)for(i.push(Jl(", "));e.comments.length;){const t=e.comments.shift();i.push(Jl("Block"===t.type?`/*${t.value}*/\n${e.indent}\t`:`//${t.value}\n${e.indent}\t`)),"Line"===t.type&&(n=!0)}else a<t.properties.length-1&&i.push(s)});const r=n||iu(i)||su(i)>40;return r&&(s.content=`,\n${e.indent}\t`),[Jl(r?`{\n${e.indent}\t`:"{ "),...i,Jl(r?`\n${e.indent}}`:" }")]},Property(t,e){const n=Zl(t.value,e);if(t.key===t.value)return n;if(!t.computed&&"AssignmentPattern"===t.value.type&&"Identifier"===t.value.left.type&&t.value.left.name===t.key.name)return n;if("Identifier"===t.value.type&&("Identifier"===t.key.type&&t.key.name===n[0].content||"Literal"===t.key.type&&t.key.value===n[0].content))return n;const i=Zl(t.key,e);if("FunctionExpression"===t.value.type&&!t.value.id){e={...e,scope:e.scope_map.get(t.value)};const n="init"!==t.kind?[Jl(`${t.kind} `)]:[];return t.value.async&&n.push(Jl("async ")),t.value.generator&&n.push(Jl("*")),n.push(...t.computed?[Jl("["),...i,Jl("]")]:i,Jl("("),...au(t.value.params.map(t=>Zl(t,e)),Jl(", ")),Jl(") "),...Zl(t.value.body,e)),n}return t.computed?[Jl("["),...i,Jl("]: "),...n]:[...i,Jl(": "),...n]},ObjectPattern(t,e){const n=[Jl("{ ")];for(let i=0;i<t.properties.length;i+=1)n.push(...Zl(t.properties[i],e)),i<t.properties.length-1&&n.push(Jl(", "));return n.push(Jl(" }")),n},SequenceExpression(t,e){const n=t.expressions.map(t=>Zl(t,e));return[Jl("("),...au(n,Jl(", ")),Jl(")")]},UnaryExpression(t,e){const n=[Jl(t.operator)];return t.operator.length>1&&n.push(Jl(" ")),eu[t.argument.type]<eu.UnaryExpression?n.push(Jl("("),...Zl(t.argument,e),Jl(")")):n.push(...Zl(t.argument,e)),n},UpdateExpression:(t,e)=>t.prefix?[Jl(t.operator),...Zl(t.argument,e)]:[...Zl(t.argument,e),Jl(t.operator)],AssignmentExpression:(t,e)=>[...Zl(t.left,e),Jl(` ${t.operator||"="} `),...Zl(t.right,e)],BinaryExpression(t,e){const n=[];return nu(t.left,t,!1)?n.push(Jl("("),...Zl(t.left,e),Jl(")")):n.push(...Zl(t.left,e)),n.push(Jl(` ${t.operator} `)),nu(t.right,t,!0)?n.push(Jl("("),...Zl(t.right,e),Jl(")")):n.push(...Zl(t.right,e)),n},ConditionalExpression(t,e){const n=[];eu[t.test.type]>eu.ConditionalExpression?n.push(...Zl(t.test,e)):n.push(Jl("("),...Zl(t.test,e),Jl(")"));const i={...e,indent:e.indent+"\t"},s=Zl(t.consequent,i),r=Zl(t.alternate,i);return iu(s)||iu(r)||su(n)+su(s)+su(r)>50?n.push(Jl(`\n${e.indent}? `),...s,Jl(`\n${e.indent}: `),...r):n.push(Jl(" ? "),...s,Jl(" : "),...r),n},NewExpression(t,e){const n=[Jl("new ")];eu[t.callee.type]<eu.CallExpression||function(t){for(;t;){if("CallExpression"===t.type[0])return!0;if("MemberExpression"!==t.type)return!1;t=t.object}}(t.callee)?n.push(Jl("("),...Zl(t.callee,e),Jl(")")):n.push(...Zl(t.callee,e));const i=t.arguments.map(t=>Zl(t,{...e,indent:e.indent+"\t"})),s=i.some(iu)?Jl(",\n"+e.indent):Jl(", ");return n.push(Jl("("),...au(i,s),Jl(")")),n},CallExpression(t,e){const n=[];eu[t.callee.type]<eu.CallExpression?n.push(Jl("("),...Zl(t.callee,e),Jl(")")):n.push(...Zl(t.callee,e));const i=t.arguments.map(t=>Zl(t,e));if(i.slice(0,-1).some(iu)){const i=t.arguments.map(t=>Zl(t,{...e,indent:`${e.indent}\t`}));n.push(Jl(`(\n${e.indent}\t`),...au(i,Jl(`,\n${e.indent}\t`)),Jl(`\n${e.indent})`))}else n.push(Jl("("),...au(i,Jl(", ")),Jl(")"));return n},MemberExpression(t,e){const n=[];return eu[t.object.type]<eu.MemberExpression?n.push(Jl("("),...Zl(t.object,e),Jl(")")):n.push(...Zl(t.object,e)),t.computed?n.push(Jl("["),...Zl(t.property,e),Jl("]")):n.push(Jl("."),...Zl(t.property,e)),n},MetaProperty:(t,e)=>[...Zl(t.meta,e),Jl("."),...Zl(t.property,e)],Identifier(t,e){let n=t.name;if("@"===n[0])n=e.getName(n.slice(1));else if("#"===t.name[0]){const i=e.scope.find_owner(t.name);if(!i)throw new Error("Could not find owner for node");e.deconflicted.has(i)||e.deconflicted.set(i,new Map);const s=e.deconflicted.get(i);s.has(t.name)||s.set(t.name,((t,e)=>{const n=t;let i=1;for(;e.has(t);)t=`${n}$${i++}`;return t})(t.name.slice(1),i.references)),n=s.get(t.name)}return[Jl(n,t)]},Literal(t,e){if("string"==typeof t.value)return[Jl(JSON.stringify(t.value).replace(Xl,(t,e,n,i,s)=>{if(n)return"@"+s;if(i)return"#"+s;throw new Error("this shouldn't happen")}),t)];const{regex:n}=t;return n?[Jl(`/${n.pattern}/${n.flags}`,t)]:[Jl(String(t.value),t)]}};cu.ForOfStatement=cu.ForInStatement,cu.FunctionExpression=cu.FunctionDeclaration,cu.ClassExpression=cu.ClassDeclaration,cu.ClassBody=cu.BlockStatement,cu.SpreadElement=cu.RestElement,cu.ArrayPattern=cu.ArrayExpression,cu.LogicalExpression=cu.BinaryExpression,cu.AssignmentPattern=cu.AssignmentExpression;const hu={"@":"AT","#":"HASH"},du=t=>{let e=t[0];for(let n=1;n<t.length;n+=1)e+=`_${Yl}_${n-1}_${t[n]}`;return e.replace(/([@#])(\w+)/g,(t,e,n)=>`_${Yl}_${hu[e]}_${n}`)},pu=(t,e)=>{for(let n=0;n<t.length;n+=1){const i=t[n];if(Array.isArray(i))pu(i,e);else if("ExpressionStatement"!==i.type)e.push(i);else{if(i.expression===_u)continue;if(Array.isArray(i.expression)){let t=i.expression[0];for(;Array.isArray(t);)t=t[0];t&&(t.leadingComments=i.leadingComments),pu(i.expression,e);continue}if(/(Expression|Literal)$/.test(i.expression.type)){e.push(i);continue}i.leadingComments&&(i.expression.leadingComments=i.leadingComments),i.trailingComments&&(i.expression.trailingComments=i.trailingComments),e.push(i.expression)}}return e},fu=(t,e)=>{for(let n=0;n<t.length;n+=1){const i=t[n];i.value!==_u&&(i.key===i.value&&Array.isArray(i.key)?fu(i.key,e):e.push(i))}return e},mu=(t,e)=>{for(let n=0;n<t.length;n+=1){const i=t[n];i!==_u&&(Array.isArray(i)?mu(i,e):e.push(i))}return e},_u={type:"Empty"},yu=(t,e)=>({ecmaVersion:11,sourceType:"module",allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,onComment:(n,i,s,r)=>{if(n&&/\n/.test(i)){let t=s;for(;t>0&&"\n"!==e[t-1];)t-=1;let n=t;for(;/[ \t]/.test(e[n]);)n+=1;const r=e.slice(t,n);i=i.replace(new RegExp(`^${r}`,"gm"),"")}t.push({type:n?"Block":"Line",value:i,start:s,end:r})}}),gu=(t,e,n,i)=>{i.forEach(t=>{t.value=t.value.replace(Xl,(t,e)=>+e in n?n[+e]:t)}),Bo(e,{enter(e){let n;for(;i[0]&&i[0].start<e.start;){n=i.shift();const s=i[0]||e;n.has_trailing_newline="Line"===n.type||/\n/.test(t.slice(n.end,s.start)),(e.leadingComments||(e.leadingComments=[])).push(n)}},leave(e,s,r,a){if("Identifier"===e.type){Xl.lastIndex=0;const t=Xl.exec(e.name);if(t)if(t[1]){if(+t[1]in n){let i=n[+t[1]];"string"==typeof i?i={type:"Identifier",name:i,leadingComments:e.leadingComments,trailingComments:e.trailingComments}:"number"==typeof i&&(i={type:"Literal",value:i,leadingComments:e.leadingComments,trailingComments:e.trailingComments}),this.replace(i||_u)}}else e.name=`${t[2]?"@":"#"}${t[4]}`}if("Literal"===e.type&&"string"==typeof e.value&&(Xl.lastIndex=0,e.value=e.value.replace(Xl,(t,e)=>+e in n?n[+e]:t)),"TemplateElement"===e.type&&(Xl.lastIndex=0,e.value.raw=e.value.raw.replace(Xl,(t,e)=>+e in n?n[+e]:t)),"Program"!==e.type&&"BlockStatement"!==e.type||(e.body=pu(e.body,[])),"ObjectExpression"!==e.type&&"ObjectPattern"!==e.type||(e.properties=fu(e.properties,[])),"ArrayExpression"!==e.type&&"ArrayPattern"!==e.type||(e.elements=mu(e.elements,[])),"FunctionExpression"!==e.type&&"FunctionDeclaration"!==e.type&&"ArrowFunctionExpression"!==e.type||(e.params=mu(e.params,[])),"CallExpression"!==e.type&&"NewExpression"!==e.type||(e.arguments=mu(e.arguments,[])),"ImportDeclaration"!==e.type&&"ExportNamedDeclaration"!==e.type||(e.specifiers=mu(e.specifiers,[])),"ForStatement"===e.type&&(e.init=e.init===_u?null:e.init,e.test=e.test===_u?null:e.test,e.update=e.update===_u?null:e.update),i[0]){const n=t.slice(e.end,i[0].start);/^[,) \t]*$/.test(n)&&(e.trailingComments=[i.shift()])}}})};function vu(t,...e){const n=du(t),i=[];try{const t=(s=n,r=yu(i,n),G.parse(s,r));return gu(n,t,e,i),t.body}catch(t){ku(n,t)}var s,r}function bu(t,...e){const n=du(t),i=[];try{const t=It(n,0,yu(i,n));return gu(n,t,e,i),t}catch(t){ku(n,t)}}function xu(t,...e){const n=`{${du(t)}}`,i=[];try{const t=It(n,0,yu(i,n));return gu(n,t,e,i),t.properties[0]}catch(t){ku(n,t)}}function ku(t,e){throw Xl.lastIndex=0,t=t.replace(Xl,(t,e,n,i,s)=>n?`@${s}`:i?`#${s}`:"${...}"),console.log(`failed to parse:\n${t}`),e}function wu(t){return t&&"MemberExpression"===t.type&&"@_document"===t.object.name&&"head"===t.property.name}class Su{constructor(t){this.dependencies=new Set,this.event_listeners=[],this.variables=new Map,this.has_update_method=!1,this.parent=t.parent,this.renderer=t.renderer,this.name=t.name,this.type=t.type,this.comment=t.comment,this.wrappers=[],this.key=t.key,this.first=null,this.bindings=t.bindings,this.chunks={init:[],create:[],claim:[],hydrate:[],mount:[],measure:[],fix:[],animate:[],intro:[],update:[],outro:[],destroy:[]},this.has_animation=!1,this.has_intro_method=!1,this.has_outro_method=!1,this.outros=0,this.get_unique_name=this.renderer.component.get_unique_name_maker(),this.aliases=new Map,this.key&&this.aliases.set("key",this.get_unique_name("key"))}assign_variable_names(){const t=new Set,e=new Set;let n=this.wrappers.length;for(;n--;){const i=this.wrappers[n];i.var&&(t.has(i.var.name)&&e.add(i.var.name),t.add(i.var.name))}const i=new Map;for(n=this.wrappers.length;n--;){const t=this.wrappers[n];if(!t.var)continue;let s="";if(e.has(t.var.name)){const e=i.get(t.var.name)||0;i.set(t.var.name,e+1),s=e}t.var.name=this.get_unique_name(t.var.name+s).name}}add_dependencies(t){t.forEach(t=>{this.dependencies.add(t)}),this.has_update_method=!0}add_element(t,e,n,i,s){this.add_variable(t),this.chunks.create.push(vu`${t} = ${e};`),this.renderer.options.hydratable&&this.chunks.claim.push(vu`${t} = ${n||e};`),i?(this.chunks.mount.push(vu`@append(${i}, ${t});`),wu(i)&&!s&&this.chunks.destroy.push(vu`@detach(${t});`)):(this.chunks.mount.push(vu`@insert(#target, ${t}, anchor);`),s||this.chunks.destroy.push(vu`if (detaching) @detach(${t});`))}add_intro(t){this.has_intros=this.has_intro_method=!0,!t&&this.parent&&this.parent.add_intro()}add_outro(t){this.has_outros=this.has_outro_method=!0,this.outros+=1,!t&&this.parent&&this.parent.add_outro()}add_animation(){this.has_animation=!0}add_variable(t,e){if(this.variables.has(t.name))throw new Error(`Variable '${t.name}' already initialised with a different value`);this.variables.set(t.name,{id:t,init:e})}alias(t){return this.aliases.has(t)||this.aliases.set(t,this.get_unique_name(t)),this.aliases.get(t)}child(t){return new Su(Object.assign({},this,{key:null},t,{parent:this}))}get_contents(t){const{dev:e}=this.renderer.options;this.has_outros&&(this.add_variable({type:"Identifier",name:"#current"}),this.chunks.intro.length>0&&(this.chunks.intro.push(vu`#current = true;`),this.chunks.mount.push(vu`#current = true;`)),this.chunks.outro.length>0&&this.chunks.outro.push(vu`#current = false;`)),this.autofocus&&this.chunks.mount.push(vu`${this.autofocus}.focus();`),this.render_listeners();const n={},i=bu`@noop`;if(n.key=t,this.first&&(n.first=bu`null`,this.chunks.hydrate.push(vu`this.first = ${this.first};`)),0===this.chunks.create.length&&0===this.chunks.hydrate.length)n.create=i;else{const t=this.chunks.hydrate.length>0&&(this.renderer.options.hydratable?vu`this.h();`:this.chunks.hydrate);n.create=bu`function #create() {
				${this.chunks.create}
				${t}
			}`}if((this.renderer.options.hydratable||this.chunks.claim.length>0)&&(0===this.chunks.claim.length&&0===this.chunks.hydrate.length?n.claim=i:n.claim=bu`function #claim(#nodes) {
					${this.chunks.claim}
					${this.renderer.options.hydratable&&this.chunks.hydrate.length>0&&vu`this.h();`}
				}`),this.renderer.options.hydratable&&this.chunks.hydrate.length>0&&(n.hydrate=bu`function #hydrate() {
				${this.chunks.hydrate}
			}`),0===this.chunks.mount.length?n.mount=i:n.mount=bu`function #mount(#target, anchor) {
				${this.chunks.mount}
			}`,this.has_update_method||this.maintain_context)if(0!==this.chunks.update.length||this.maintain_context){const t=this.maintain_context?bu`#new_ctx`:bu`#ctx`;let e={type:"Identifier",name:"#dirty"};this.renderer.context_overflow||this.parent||(e={type:"ArrayPattern",elements:[e]}),n.update=bu`function #update(${t}, ${e}) {
					${this.maintain_context&&vu`#ctx = ${t};`}
					${this.chunks.update}
				}`}else n.update=i;if(this.has_animation&&(n.measure=bu`function #measure() {
				${this.chunks.measure}
			}`,n.fix=bu`function #fix() {
				${this.chunks.fix}
			}`,n.animate=bu`function #animate() {
				${this.chunks.animate}
			}`),(this.has_intro_method||this.has_outro_method)&&(0===this.chunks.intro.length?n.intro=i:n.intro=bu`function #intro(#local) {
					${this.has_outros&&vu`if (#current) return;`}
					${this.chunks.intro}
				}`,0===this.chunks.outro.length?n.outro=i:n.outro=bu`function #outro(#local) {
					${this.chunks.outro}
				}`),0===this.chunks.destroy.length?n.destroy=i:n.destroy=bu`function #destroy(detaching) {
				${this.chunks.destroy}
			}`,!this.renderer.component.compile_options.dev)for(const t in n){const e=n[t];e&&(e.id=null)}const s=bu`{
			key: ${n.key},
			first: ${n.first},
			c: ${n.create},
			l: ${n.claim},
			h: ${n.hydrate},
			m: ${n.mount},
			p: ${n.update},
			r: ${n.measure},
			f: ${n.fix},
			a: ${n.animate},
			i: ${n.intro},
			o: ${n.outro},
			d: ${n.destroy}
		}`,r=e&&this.get_unique_name("block");return vu`
			${Array.from(this.variables.values()).map(({id:t,init:e})=>e?vu`let ${t} = ${e}`:vu`let ${t}`)}

			${this.chunks.init}

			${e?vu`
					const ${r} = ${s};
					@dispatch_dev("SvelteRegisterBlock", {
						block: ${r},
						id: ${this.name||"create_fragment"}.name,
						type: "${this.type}",
						source: "${this.comment?this.comment.replace(/"/g,'\\"'):""}",
						ctx: #ctx
					});
					return ${r};`:vu`
					return ${s};`}
		`}has_content(){return this.renderer.options.dev||this.first||this.event_listeners.length>0||this.chunks.intro.length>0||this.chunks.outro.length>0||this.chunks.create.length>0||this.chunks.hydrate.length>0||this.chunks.claim.length>0||this.chunks.mount.length>0||this.chunks.update.length>0||this.chunks.destroy.length>0||this.has_animation}render(){const t=this.key&&this.get_unique_name("key"),e=[bu`#ctx`];t&&e.unshift(t);const n=vu`function ${this.name}(${e}) {
			${this.get_contents(t)}
		}`;return this.comment?vu`
				// ${this.comment}
				${n}`:n}render_listeners(t=""){if(this.event_listeners.length>0){const e={type:"Identifier",name:`#dispose${t}`};this.add_variable(e),1===this.event_listeners.length?(this.chunks.hydrate.push(vu`${e} = ${this.event_listeners[0]};`),this.chunks.destroy.push(vu`${e}();`)):(this.chunks.hydrate.push(vu`
					${e} = [
						${this.event_listeners}
					];
				`),this.chunks.destroy.push(vu`@run_all(${e});`))}}}class $u{constructor(t,e,n,i){this.node=i,Object.defineProperties(this,{renderer:{value:t},parent:{value:n}}),this.can_use_innerhtml=!t.options.hydratable,this.is_static_content=!t.options.hydratable,e.wrappers.push(this)}cannot_use_innerhtml(){this.can_use_innerhtml=!1,this.parent&&this.parent.cannot_use_innerhtml()}not_static_content(){this.is_static_content=!1,this.parent&&this.parent.not_static_content()}get_or_create_anchor(t,e,n){const i=this.next?!this.next.is_dom_node():!e||!this.parent.is_dom_node(),s=i?t.get_unique_name(`${this.var.name}_anchor`):this.next&&this.next.var||{type:"Identifier",name:"null"};return i&&t.add_element(s,bu`@empty()`,n&&bu`@empty()`,e),s}get_update_mount_node(t){return this.parent&&this.parent.is_dom_node()?this.parent.var:bu`${t}.parentNode`}is_dom_node(){return"Element"===this.node.type||"Text"===this.node.type||"MustacheTag"===this.node.type}render(t,e,n){throw Error("Wrapper class is not renderable")}}function Tu(t,e){const{locate:n,source:i}=e;let s,r=t.start;if("ElseBlock"===t.type){for(;"{"!==i[r-1];)r-=1;for(;"{"===i[r-1];)r-=1}if("InlineComponent"===t.type||"Element"===t.type)for(s=t.children.length?t.children[0].start:t.start;">"!==i[s-1];)s-=1;else{for(s=t.expression?t.expression.node.end:r;"}"!==i[s];)s+=1;for(;"}"===i[s];)s+=1}const a=n(r);return`${`(${a.line}:${a.column})`} ${i.slice(r,s)}`.replace(/\s/g," ")}class Au extends $u{constructor(t,e,n,i,s,r,a){super(e,n,i,s),this.var=null,this.block=n.child({comment:Tu(s,this.renderer.component),name:this.renderer.component.get_unique_name(`create_${t}_block`),type:t}),this.fragment=new bc(e,this.block,this.node.children,i,r,a),this.is_dynamic=this.block.dependencies.size>0}}const Eu=bu`true`,Cu=bu`false`;class Pu{constructor(t,e){this.node=t,this.parent=e,t.expression||(this.parent.renderer.add_to_context(t.handler_name.name),this.parent.renderer.component.partly_hoisted.push(vu`
				function ${t.handler_name.name}(event) {
					@bubble($$self, event);
				}
			`))}get_snippet(t){const e=this.node.expression?this.node.expression.manipulate(t):t.renderer.reference(this.node.handler_name);return this.node.reassigned?(t.maintain_context=!0,bu`function () { ${e}.apply(this, arguments); }`):e}render(t,e){let n=this.get_snippet(t);this.node.modifiers.has("preventDefault")&&(n=bu`@prevent_default(${n})`),this.node.modifiers.has("stopPropagation")&&(n=bu`@stop_propagation(${n})`),this.node.modifiers.has("self")&&(n=bu`@self(${n})`);const i=[],s=["passive","once","capture"].filter(t=>this.node.modifiers.has(t));s.length?i.push(1===s.length&&"capture"===s[0]?Eu:bu`{ ${s.map(t=>xu`${t}: true`)} }`):t.renderer.options.dev&&i.push(Cu),t.renderer.options.dev&&(i.push(this.node.modifiers.has("preventDefault")?Eu:Cu),i.push(this.node.modifiers.has("stopPropagation")?Eu:Cu)),t.event_listeners.push(bu`@listen(${e}, "${this.node.name}", ${n}, ${i})`)}}function Ou(t,e){e.forEach(e=>{t.add(e)})}class qu extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.var=null,this.block=e.child({comment:Tu(i,this.renderer.component),name:this.renderer.component.get_unique_name("create_else_block"),type:"else"}),this.fragment=new bc(t,this.block,this.node.children,n,s,r),this.is_dynamic=this.block.dependencies.size>0}}function Mu(t){return{type:"Literal",value:t}}const Lu={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function Ru(t){return String(t).replace(/["'&<>]/g,t=>Lu[t])}const Nu="accent-height accumulate additive alignment-baseline allowReorder alphabetic amplitude arabic-form ascent attributeName attributeType autoReverse azimuth baseFrequency baseline-shift baseProfile bbox begin bias by calcMode cap-height class clip clipPathUnits clip-path clip-rule color color-interpolation color-interpolation-filters color-profile color-rendering contentScriptType contentStyleType cursor cx cy d decelerate descent diffuseConstant direction display divisor dominant-baseline dur dx dy edgeMode elevation enable-background end exponent externalResourcesRequired fill fill-opacity fill-rule filter filterRes filterUnits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight format from fr fx fy g1 g2 glyph-name glyph-orientation-horizontal glyph-orientation-vertical glyphRef gradientTransform gradientUnits hanging height href horiz-adv-x horiz-origin-x id ideographic image-rendering in in2 intercept k k1 k2 k3 k4 kernelMatrix kernelUnitLength kerning keyPoints keySplines keyTimes lang lengthAdjust letter-spacing lighting-color limitingConeAngle local marker-end marker-mid marker-start markerHeight markerUnits markerWidth mask maskContentUnits maskUnits mathematical max media method min mode name numOctaves offset onabort onactivate onbegin onclick onend onerror onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup onrepeat onresize onscroll onunload opacity operator order orient orientation origin overflow overline-position overline-thickness panose-1 paint-order pathLength patternContentUnits patternTransform patternUnits pointer-events points pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits r radius refX refY rendering-intent repeatCount repeatDur requiredExtensions requiredFeatures restart result rotate rx ry scale seed shape-rendering slope spacing specularConstant specularExponent speed spreadMethod startOffset stdDeviation stemh stemv stitchTiles stop-color stop-opacity strikethrough-position strikethrough-thickness string stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfaceScale systemLanguage tabindex tableValues target targetX targetY text-anchor text-decoration text-rendering textLength to transform type u1 u2 underline-position underline-thickness unicode unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical values version vert-adv-y vert-origin-x vert-origin-y viewBox viewTarget visibility width widths word-spacing writing-mode x x-height x1 x2 xChannelSelector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y y1 y2 yChannelSelector z zoomAndPan".split(" "),Iu=new Map;function Fu(t){return t=t.toLowerCase(),Iu.get(t)||t}Nu.forEach(t=>{Iu.set(t.toLowerCase(),t)});const Du="http://www.w3.org/1999/xhtml",Bu="http://www.w3.org/1998/Math/MathML",Vu="http://www.w3.org/2000/svg",ju="http://www.w3.org/1999/xlink",Uu="http://www.w3.org/XML/1998/namespace",Gu="http://www.w3.org/2000/xmlns",Wu=["html","mathml","svg","xlink","xml","xmlns",Du,Bu,Vu,ju,Uu,Gu],zu={html:Du,mathml:Bu,svg:Vu,xlink:ju,xml:Uu,xmlns:Gu};class Hu{constructor(t,e,n){if(this.node=n,this.parent=t,n.dependencies.size>0&&(t.cannot_use_innerhtml(),t.not_static_content(),e.add_dependencies(n.dependencies),"option"===this.parent.node.name&&"value"===n.name)){let t=this.parent;for(;t&&("Element"!==t.node.type||"select"!==t.node.name);)t=t.parent;t&&t.select_binding_dependencies&&t.select_binding_dependencies.forEach(t=>{this.node.dependencies.forEach(e=>{this.parent.renderer.component.indirect_dependencies.get(t).add(e)})})}}render(t){const e=this.parent,n=Fu(this.node.name),i=this.get_metadata(),s="value"===n&&("option"===e.node.name||"input"===e.node.name&&e.node.bindings.find(t=>/checked|group/.test(t.name))),r=s?"__value":i&&i.property_name,a=/-/.test(e.node.name)?"@set_custom_element_data":"xlink:"===n.slice(0,6)?"@xlink_attr":"@attr",o=e.renderer.component.compile_options.legacy&&"type"===n&&"input"===this.parent.node.name,l=this.node.get_dependencies(),u=this.get_value(t),c="src"===this.node.name,h="value"===n&&"select"===e.node.name,d=c||this.node.should_cache()||h,p=d&&t.get_unique_name(`${e.var.name}_${n.replace(/[^a-zA-Z_$]/g,"_")}_value`);let f;d&&t.add_variable(p);const m=d?bu`${p} = ${u}`:u;if(o)t.chunks.hydrate.push(vu`@set_input_type(${e.var}, ${m});`),f=vu`@set_input_type(${e.var}, ${d?p:u});`;else if(h){const n=e.node.get_static_attribute_value("multiple"),i=t.get_unique_name("i"),s=t.get_unique_name("option"),r=n?vu`
					${s}.selected = ~${p}.indexOf(${s}.__value);`:vu`
					if (${s}.__value === ${p}) {
						${s}.selected = true;
						${{type:"BreakStatement"}};
					}`;f=vu`
				for (var ${i} = 0; ${i} < ${e.var}.options.length; ${i} += 1) {
					var ${s} = ${e.var}.options[${i}];

					${r}
				}
			`,t.chunks.mount.push(vu`
				${p} = ${u};
				${f}
			`)}else c?(t.chunks.hydrate.push(vu`if (${e.var}.src !== ${m}) ${a}(${e.var}, "${n}", ${p});`),f=vu`${a}(${e.var}, "${n}", ${d?p:u});`):r?(t.chunks.hydrate.push(vu`${e.var}.${r} = ${m};`),f=t.renderer.options.dev?vu`@prop_dev(${e.var}, "${r}", ${d?p:u});`:vu`${e.var}.${r} = ${d?p:u};`):(t.chunks.hydrate.push(vu`${a}(${e.var}, "${n}", ${m});`),f=vu`${a}(${e.var}, "${n}", ${d?p:u});`);if(l.length>0){let n=t.renderer.dirty(l);d&&(n=c?bu`${n} && (${e.var}.src !== (${p} = ${u}))`:bu`${n} && (${p} !== (${p} = ${u}))`),t.has_outros&&(n=bu`!#current || ${n}`),t.chunks.update.push(vu`
				if (${n}) {
					${f}
				}`)}if(this.node.is_true&&"autofocus"===n&&(t.autofocus=e.var),s){const n=vu`${e.var}.value = ${e.var}.__value;`;t.chunks.hydrate.push(n),this.node.get_dependencies().length>0&&t.chunks.update.push(n)}}get_metadata(){if(this.parent.node.namespace)return null;const t=Qu[Fu(this.node.name)];return t&&t.applies_to&&!t.applies_to.includes(this.parent.node.name)?null:t}get_value(t){if(this.node.is_true){const t=this.get_metadata();return t&&Yu.has(t.property_name.toLowerCase())?bu`true`:bu`""`}if(0===this.node.chunks.length)return bu`""`;if(1===this.node.chunks.length)return"Text"===this.node.chunks[0].type?Mu(this.node.chunks[0].data):this.node.chunks[0].manipulate(t);let e="class"===this.node.name?this.get_class_name_text(t):this.render_chunks(t).reduce((t,e)=>bu`${t} + ${e}`);return"Text"!==this.node.chunks[0].type&&(e=bu`"" + ${e}`),e}get_class_name_text(t){const e=this.node.chunks.some(t=>t.synthetic),n=this.render_chunks(t);return e&&2===n.length&&(n[0]=bu`@null_to_empty(${n[0]})`),n.reduce((t,e)=>bu`${t} + ${e}`)}render_chunks(t){return this.node.chunks.map(e=>"Text"===e.type?Mu(e.data):e.manipulate(t))}stringify(){if(this.node.is_true)return"";const t=this.node.chunks;return 0===t.length?'=""':`="${t.map(t=>"Text"===t.type?t.data.replace(/"/g,'\\"'):`\${${t.manipulate()}}`).join("")}"`}}const Qu={allowfullscreen:{property_name:"allowFullscreen",applies_to:["iframe"]},allowpaymentrequest:{property_name:"allowPaymentRequest",applies_to:["iframe"]},async:{applies_to:["script"]},autofocus:{applies_to:["button","input","keygen","select","textarea"]},autoplay:{applies_to:["audio","video"]},checked:{applies_to:["input"]},controls:{applies_to:["audio","video"]},default:{applies_to:["track"]},defer:{applies_to:["script"]},disabled:{applies_to:["button","fieldset","input","keygen","optgroup","option","select","textarea"]},formnovalidate:{property_name:"formNoValidate",applies_to:["button","input"]},hidden:{},indeterminate:{applies_to:["input"]},ismap:{property_name:"isMap",applies_to:["img"]},loop:{applies_to:["audio","bgsound","video"]},multiple:{applies_to:["input","select"]},muted:{applies_to:["audio","video"]},nomodule:{property_name:"noModule",applies_to:["script"]},novalidate:{property_name:"noValidate",applies_to:["form"]},open:{applies_to:["details","dialog"]},playsinline:{property_name:"playsInline",applies_to:["video"]},readonly:{property_name:"readOnly",applies_to:["input","textarea"]},required:{applies_to:["input","select","textarea"]},reversed:{applies_to:["ol"]},selected:{applies_to:["option"]},value:{applies_to:["button","option","input","li","meter","progress","param","select","textarea"]}};Object.keys(Qu).forEach(t=>{const e=Qu[t];e.property_name||(e.property_name=t)});const Yu=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);class Xu extends Hu{render(t){const e=function(t){const e=[];let n=t.slice();for(;n.length;){const t=n[0];if("Text"!==t.type)return null;const i=/^\s*([\w-]+):\s*/.exec(t.data);if(!i)return null;const s=i[1],r=i.index+i[0].length,a=t.data.slice(r);a?n[0]={start:t.start+r,end:t.end,type:"Text",data:a}:n.shift();const o=Zu(n);e.push({key:s,value:o.value,important:o.important}),n=o.chunks}return e}(this.node.chunks);if(!e)return super.render(t);e.forEach(e=>{let n;if(function(t){return t.length>1||"Text"!==t[0].type}(e.value)){const i=new Set;if(n=e.value.map(e=>"Text"===e.type?Mu(e.data):(Ou(i,e.dynamic_dependencies()),e.manipulate(t))).reduce((t,e)=>bu`${t} + ${e}`),i.size){let s=t.renderer.dirty(Array.from(i));t.has_outros&&(s=bu`!#current || ${s}`);const r=vu`
						if (${s}) {
							@set_style(${this.parent.var}, "${e.key}", ${n}, ${e.important?1:null});
						}`;t.chunks.update.push(r)}}else n=Mu(e.value[0].data);t.chunks.hydrate.push(vu`@set_style(${this.parent.var}, "${e.key}", ${n}, ${e.important?1:null});`)})}}function Zu(t){const e=[];let n=!1,i=null,s=!1,r=!1;for(;t.length&&!r;){const a=t.shift();if("Text"===a.type){let o=0;for(;o<a.data.length;){const t=a.data[o];if(s)s=!1;else if("\\"===t)s=!0;else if(t===i)i=null;else if('"'===t||"'"===t)i=t;else if(")"===t&&n)n=!1;else if("u"===t&&"url("===a.data.slice(o,o+4))n=!0;else if(";"===t&&!n&&!i){r=!0;break}o+=1}for(o>0&&e.push({type:"Text",start:a.start,end:a.start+o,data:a.data.slice(0,o)});/[;\s]/.test(a.data[o]);)o+=1;const l=a.data.slice(o);if(l){t.unshift({start:a.start+o,end:a.end,type:"Text",data:l});break}}else e.push(a)}let a=!1;const o=e[e.length-1];return o&&"Text"===o.type&&/\s*!important\s*$/.test(o.data)&&(a=!0,o.data=o.data.replace(/\s*!important\s*$/,""),o.data||e.pop()),{chunks:t,value:e,important:a}}function Ju(t){for(;"MemberExpression"===t.type;)t=t.object;return t}function Ku(t){const e=[],n=[];for(;"MemberExpression"===t.type;)e.unshift(t.property),t.computed||n.unshift(t.property.name),t=t.object;const i="Identifier"===t.type?t.name:"ThisExpression"===t.type?"this":null;return e.unshift(t),t.computed||n.unshift(i),{name:i,nodes:e,parts:n}}class tc{constructor(t,e,n){this.node=e,this.parent=n;const{dependencies:i}=this.node.expression;if(t.add_dependencies(i),"select"===n.node.name&&(n.select_binding_dependencies=i,i.forEach(t=>{n.renderer.component.indirect_dependencies.set(t,new Set)})),e.is_contextual){const{name:t}=Ju(this.node.expression.node);this.parent.node.scope.get_owner(t).has_binding=!0}this.object=Ju(this.node.expression.node).name,this.handler=function(t,e,n,i,s){const r=function(t,e,n){const{node:i}=e,{name:s}=n.node;if("this"===s)return bu`$$node`;if("select"===i.name)return!0===i.get_static_attribute_value("multiple")?bu`@select_multiple_value(this)`:bu`@select_value(this)`;const r=i.get_static_attribute_value("type");if("group"===s){const e=ec(t,n.node.expression.node);return"checkbox"===r?bu`@get_binding_group_value($$binding_groups[${e}])`:bu`this.__value`}return"range"===r||"number"===r?bu`@to_number(this.${s})`:"buffered"===s||"seekable"===s||"played"===s?bu`@time_ranges_to_array(this.${s})`:bu`this.${s}`}(e,t.parent,t),a=new Set(t.node.expression.contextual_dependencies),o=n.bindings.get(i);let l;if(o){const{object:t,property:e,modifier:n,store:i}=o;"Identifier"===s.type&&(s=n(bu`${t}[${e}]`),a.add(t.name),a.add(e.name)),i&&(l=vu`${i}.set(${`$${i}`});`)}else{const t=Ju(s);if("$"===t.name[0]){const e=t.name.slice(1);l=vu`${e}.set(${t.name});`}}const u=vu`
		${s} = ${r};
		${l}
	`;return{uses_context:t.node.is_contextual||t.node.expression.uses_context,mutation:u,contextual_dependencies:a}}(this,n.renderer,t,this.object,this.node.raw_expression),this.snippet=this.node.expression.manipulate(t),this.is_readonly=this.node.is_readonly,this.needs_lock="currentTime"===this.node.name||"input"===n.node.name&&"number"===n.node.get_static_attribute_value("type")}get_dependencies(){const t=new Set(this.node.expression.dependencies);return this.node.expression.dependencies.forEach(e=>{const n=this.parent.renderer.component.indirect_dependencies.get(e);n&&n.forEach(e=>{t.add(e)})}),t}is_readonly_media_attribute(){return this.node.is_readonly_media_attribute()}render(t,e){if(this.is_readonly)return;const{parent:n}=this,i=this.needs_lock?[bu`!${e}`]:[],s=[],r=[...this.node.expression.dependencies];if(r.length>0&&i.push(t.renderer.dirty(r)),"input"===n.node.name){const t=n.node.get_static_attribute_value("type");null!==t&&""!==t&&"text"!==t&&"email"!==t&&"password"!==t||i.push(bu`(${n.var}.${this.node.name} !== ${this.snippet})`)}let a=function(t,e){const{node:n}=t;if(e.is_readonly_media_attribute())return null;if("this"===e.node.name)return null;if("select"===n.name)return!0===n.get_static_attribute_value("multiple")?vu`@select_options(${t.var}, ${e.snippet})`:vu`@select_option(${t.var}, ${e.snippet})`;if("group"===e.node.name){const i="checkbox"===n.get_static_attribute_value("type")?bu`~${e.snippet}.indexOf(${t.var}.__value)`:bu`${t.var}.__value === ${e.snippet}`;return vu`${t.var}.checked = ${i};`}return"value"===e.node.name?vu`@set_input_value(${t.var}, ${e.snippet});`:vu`${t.var}.${e.node.name} = ${e.snippet};`}(n,this),o=a;switch(this.node.name){case"group":{const e=ec(n.renderer,this.node.expression.node);t.renderer.add_to_context("$$binding_groups");const i=t.renderer.reference("$$binding_groups");t.chunks.hydrate.push(vu`${i}[${e}].push(${n.var});`),t.chunks.destroy.push(vu`${i}[${e}].splice(${i}[${e}].indexOf(${n.var}), 1);`);break}case"textContent":i.push(bu`${this.snippet} !== ${n.var}.textContent`),s.push(bu`${this.snippet} !== void 0`);break;case"innerHTML":i.push(bu`${this.snippet} !== ${n.var}.innerHTML`),s.push(bu`${this.snippet} !== void 0`);break;case"currentTime":i.push(bu`!@_isNaN(${this.snippet})`),o=null;break;case"playbackRate":case"volume":i.push(bu`!@_isNaN(${this.snippet})`),s.push(bu`!@_isNaN(${this.snippet})`);break;case"paused":{const e=t.get_unique_name(`${n.var.name}_is_paused`);t.add_variable(e,bu`true`),i.push(bu`${e} !== (${e} = ${this.snippet})`),a=vu`${n.var}[${e} ? "pause" : "play"]();`,o=null;break}case"value":"file"===n.node.get_static_attribute_value("type")&&(a=null,o=null)}if(a)if(i.length>0){const e=i.reduce((t,e)=>bu`${t} && ${e}`);t.chunks.update.push(vu`
					if (${e}) {
						${a}
					}
				`)}else t.chunks.update.push(a);if(o)if(s.length>0){const e=s.reduce((t,e)=>bu`${t} && ${e}`);t.chunks.mount.push(vu`
					if (${e}) {
						${o}
					}
				`)}else t.chunks.mount.push(o)}}function ec(t,e){const{parts:n}=Ku(e),i=n.join(".");let s=t.binding_groups.indexOf(i);return-1===s&&(s=t.binding_groups.length,t.binding_groups.push(i)),s}function nc(t,e,n){n.forEach(n=>n.render(t,e))}function ic(t,e,n){n.forEach(n=>{const{expression:i}=n;let s,r;i&&(s=i.manipulate(t),r=i.dynamic_dependencies());const a=t.get_unique_name(`${n.name.replace(/[^a-zA-Z0-9_$]/g,"_")}_action`);t.add_variable(a);const o=t.renderer.reference(n.name);if(t.chunks.mount.push(vu`${a} = ${o}.call(null, ${e}, ${s}) || {};`),r&&r.length>0){let e=bu`@is_function(${a}.update)`;r.length>0&&(e=bu`${e} && ${t.renderer.dirty(r)}`),t.chunks.update.push(vu`if (${e}) ${a}.update.call(null, ${s});`)}t.chunks.destroy.push(vu`if (${a} && @is_function(${a}.destroy)) ${a}.destroy();`)})}function sc(t,e,n){if(0===n.length)return{block:t,scope:e};const i={type:"ObjectPattern",properties:n.map(t=>({type:"Property",kind:"init",key:t.name,value:t.value||t.name}))},s=new Set;n.forEach(t=>{t.names.forEach(t=>{s.add(t)})});const r={type:"ObjectExpression",properties:Array.from(s).map(e=>xu`${t.renderer.context_lookup.get(e).index}: ${e}`)},a=Array.from(s).map(e=>{const{context_lookup:n}=t.renderer;return bu`${e} ? ${{type:"Literal",get value(){return 1<<n.get(e).index.value}}} : 0`}).reduce((t,e)=>bu`${t} | ${e}`);return{block:t,scope:e,get_context:bu`${i} => ${r}`,get_changes:bu`${i} => ${a}`}}function rc(t,e,n,i){const s=t.get_unique_name(`${i.name}_binding`);e.renderer.add_to_context(s.name);const r=e.renderer.reference(s.name);let a,o,l;if(n.is_contextual&&"Identifier"===n.raw_expression.type){const{name:t}=n.raw_expression,{snippet:i}=e.bindings.get(t);a=i,l=vu`${a} = $$value`}else o=Ku(n.raw_expression).name,a=n.raw_expression,l="Identifier"===n.raw_expression.type?vu`
				${e.renderer.invalidate(o,bu`${a} = $$value`)};
			`:vu`
				${a} = $$value;
				${e.renderer.invalidate(o)};
			`;const u=Array.from(n.expression.contextual_dependencies).map(t=>({type:"Identifier",name:t}));if(u.length){t.partly_hoisted.push(vu`
			function ${s}($$value, ${u}) {
				if (${a} === $$value) return;
				@binding_callbacks[$$value ? 'unshift' : 'push'](() => {
					${l}
				});
			}
		`);const n=[];for(const t of u)n.push(t),e.add_variable(t,e.renderer.reference(t.name));const o=e.get_unique_name(`assign_${i.name}`),c=e.get_unique_name(`unassign_${i.name}`);e.chunks.init.push(vu`
			const ${o} = () => ${r}(${i}, ${n});
			const ${c} = () => ${r}(null, ${n});
		`);const h=Array.from(u).map(t=>bu`${t} !== ${e.renderer.reference(t.name)}`).reduce((t,e)=>bu`${t} || ${e}`);return e.chunks.update.push(vu`
			if (${h}) {
				${c}();
				${n.map(t=>vu`${t} = ${e.renderer.reference(t.name)}`)};
				${o}();
			}`),e.chunks.destroy.push(vu`${c}();`),vu`${o}();`}return t.partly_hoisted.push(vu`
		function ${s}($$value) {
			@binding_callbacks[$$value ? 'unshift' : 'push'](() => {
				${l}
			});
		}
	`),e.chunks.destroy.push(vu`${r}(null);`),vu`${r}(${i});`}const ac=[{event_names:["input"],filter:(t,e)=>"textarea"===t.name||"input"===t.name&&!/radio|checkbox|range|file/.test(t.get_static_attribute_value("type"))},{event_names:["input"],filter:(t,e)=>("textContent"===e||"innerHTML"===e)&&t.attributes.some(t=>"contenteditable"===t.name)},{event_names:["change"],filter:(t,e)=>"select"===t.name||"input"===t.name&&/radio|checkbox|file/.test(t.get_static_attribute_value("type"))},{event_names:["change","input"],filter:(t,e)=>"input"===t.name&&"range"===t.get_static_attribute_value("type")},{event_names:["elementresize"],filter:(t,e)=>jt.test(e)},{event_names:["timeupdate"],filter:(t,e)=>t.is_media_node()&&("currentTime"===e||"played"===e||"ended"===e)},{event_names:["durationchange"],filter:(t,e)=>t.is_media_node()&&"duration"===e},{event_names:["play","pause"],filter:(t,e)=>t.is_media_node()&&"paused"===e},{event_names:["progress"],filter:(t,e)=>t.is_media_node()&&"buffered"===e},{event_names:["loadedmetadata"],filter:(t,e)=>t.is_media_node()&&("buffered"===e||"seekable"===e)},{event_names:["volumechange"],filter:(t,e)=>t.is_media_node()&&"volume"===e},{event_names:["ratechange"],filter:(t,e)=>t.is_media_node()&&"playbackRate"===e},{event_names:["seeking","seeked"],filter:(t,e)=>t.is_media_node()&&"seeking"===e},{event_names:["ended"],filter:(t,e)=>t.is_media_node()&&"ended"===e},{event_names:["resize"],filter:(t,e)=>t.is_media_node()&&("videoHeight"===e||"videoWidth"===e)},{event_names:["toggle"],filter:(t,e)=>"details"===t.name}];class oc extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.var=null;const{expression:a}=i,o=!a;if(a){this.dependencies=a.dynamic_dependencies();let t=!1;Bo(a.node,{enter(e){"CallExpression"!==e.type&&"NewExpression"!==e.type||(t=!0)}}),t?(this.condition=e.get_unique_name("show_if"),this.snippet=a.manipulate(e)):this.condition=a.manipulate(e)}this.block=e.child({comment:Tu(i,n.renderer.component),name:n.renderer.component.get_unique_name(o?"create_else_block":"create_if_block"),type:i.expression?"if":"else"}),this.fragment=new bc(t,this.block,i.children,n,s,r),this.is_dynamic=this.block.dependencies.size>0}}function lc(t){if(t){if(t.mutated||t.reassigned)return!0;if(!t.module&&t.writable&&t.export_name)return!0}return!1}class uc extends $u{constructor(t,e,n,i){super(t,e,n,i),this.cannot_use_innerhtml(),this.is_dependencies_static()||this.not_static_content(),e.add_dependencies(i.expression.dependencies)}is_dependencies_static(){return 0===this.node.expression.contextual_dependencies.size&&0===this.node.expression.dynamic_dependencies().length}rename_this_method(t,e){const n=this.node.expression.dynamic_dependencies();let i=this.node.expression.manipulate(t);const s=this.node.should_cache&&t.get_unique_name(`${this.var.name}_value`),r=this.node.should_cache?s:i;if(i=bu`${i} + ""`,this.node.should_cache&&t.add_variable(s,i),n.length>0){let a=t.renderer.dirty(n);t.has_outros&&(a=bu`!#current || ${a}`);const o=bu`${s} !== (${s} = ${i})`;this.node.should_cache&&(a=bu`${a} && ${o}`),t.chunks.update.push(vu`if (${a}) ${e(r)}`)}return{init:r}}}function cc(t,e=null){return{type:"ObjectExpression",properties:Array.from(t.values()).filter(t=>"name"!==t.name).map(t=>{const n=function(t,e){if(e.is_true)return bu`true`;if(0===e.chunks.length)return bu`""`;let n=e.chunks.map(e=>"Text"===e.type?Mu(e.data):t?e.manipulate(t):e.node).reduce((t,e)=>bu`${t} + ${e}`);return e.chunks.length>1&&"Text"!==e.chunks[0].type&&(n=bu`"" + ${n}`),n}(e,t);return xu`${t.name}: ${n}`})}}const hc=new Set(["audio","datalist","dl","optgroup","select","video"]);class dc extends $u{constructor(t,e,n,i,s){super(t,e,n,i),this.skip=function(t){if(/\S/.test(t.data))return!1;const e=t.find_nearest(/(?:Element|InlineComponent|Head)/);return!!e&&("Head"===e.type||("InlineComponent"===e.type?1===e.children.length&&t===e.children[0]:e.namespace||hc.has(e.name)))}(this.node),this.data=s,this.var=this.skip?null:bu`t`}use_space(){if(this.renderer.component.component_options.preserveWhitespace)return!1;if(/[\S\u00A0]/.test(this.data))return!1;let t=this.parent&&this.parent.node;for(;t;){if("Element"===t.type&&"pre"===t.name)return!1;t=t.parent}return!0}render(t,e,n){if(this.skip)return;const i=this.use_space();t.add_element(this.var,i?bu`@space()`:bu`@text("${this.data}")`,n&&(i?bu`@claim_space(${n})`:bu`@claim_text(${n}, "${this.data}")`),e)}}const pc={innerWidth:"resize",innerHeight:"resize",outerWidth:"resize",outerHeight:"resize",scrollX:"scroll",scrollY:"scroll"},fc={scrollX:"pageXOffset",scrollY:"pageYOffset"},mc=new Set(["innerWidth","innerHeight","outerWidth","outerHeight","online"]);class _c extends $u{constructor(t,e,n,i){super(t,e,n,i),this.handlers=this.node.handlers.map(t=>new Pu(t,this))}render(t,e,n){const{renderer:i}=this,{component:s}=i,r={},a={};ic(t,"@_window",this.node.actions),nc(t,"@_window",this.handlers),this.node.bindings.forEach(t=>{if(mc.has(t.name)&&i.readonly.add(t.expression.node.name),a[t.name]=t.expression.node.name,"online"===t.name)return;const e=pc[t.name],n=fc[t.name]||t.name;r[e]||(r[e]=[]),r[e].push({name:t.expression.node.name,value:n})});const o=t.get_unique_name("scrolling"),l=t.get_unique_name("clear_scrolling"),u=t.get_unique_name("scrolling_timeout");if(Object.keys(r).forEach(e=>{const n=t.get_unique_name(`onwindow${e}`),c=r[e];i.add_to_context(n.name);const h=i.reference(n.name);if("scroll"===e){t.add_variable(o,bu`false`),t.add_variable(l,bu`() => { ${o} = false }`),t.add_variable(u);const n=a.scrollX&&a.scrollY?bu`"${a.scrollX}" in this._state || "${a.scrollY}" in this._state`:bu`"${a.scrollX||a.scrollY}" in this._state`,s=a.scrollX&&bu`this._state.${a.scrollX}`,r=a.scrollY&&bu`this._state.${a.scrollY}`;i.meta_bindings.push(vu`
					if (${n}) {
						@_scrollTo(${s||"@_window.pageXOffset"}, ${r||"@_window.pageYOffset"});
					}
					${s&&`${s} = @_window.pageXOffset;`}
					${r&&`${r} = @_window.pageYOffset;`}
				`),t.event_listeners.push(bu`
					@listen(@_window, "${e}", () => {
						${o} = true;
						@_clearTimeout(${u});
						${u} = @_setTimeout(${l}, 100);
						${h}();
					})
				`)}else c.forEach(t=>{i.meta_bindings.push(vu`this._state.${t.name} = @_window.${t.value};`)}),t.event_listeners.push(bu`
					@listen(@_window, "${e}", ${h})
				`);s.partly_hoisted.push(vu`
				function ${n}() {
					${c.map(t=>i.invalidate(t.name,bu`${t.name} = @_window.${t.value}`))}
				}
			`),t.chunks.init.push(vu`
				@add_render_callback(${h});
			`),s.has_reactive_assignments=!0}),a.scrollX||a.scrollY){const e=i.dirty([a.scrollX,a.scrollY].filter(Boolean)),n=a.scrollX?i.reference(a.scrollX):bu`@_window.pageXOffset`,s=a.scrollY?i.reference(a.scrollY):bu`@_window.pageYOffset`;t.chunks.update.push(vu`
				if (${e} && !${o}) {
					${o} = true;
					@_clearTimeout(${u});
					@_scrollTo(${n}, ${s});
					${u} = @_setTimeout(${l}, 100);
				}
			`)}if(a.online){const e=t.get_unique_name("onlinestatuschanged"),n=a.online;i.add_to_context(e.name);const r=i.reference(e.name);s.partly_hoisted.push(vu`
				function ${e}() {
					${i.invalidate(n,bu`${n} = @_navigator.onLine`)}
				}
			`),t.chunks.init.push(vu`
				@add_render_callback(${r});
			`),t.event_listeners.push(bu`@listen(@_window, "online", ${r})`,bu`@listen(@_window, "offline", ${r})`),s.has_reactive_assignments=!0}}}const yc={AwaitBlock:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.var={type:"Identifier",name:"await_block"},this.cannot_use_innerhtml(),this.not_static_content(),e.add_dependencies(this.node.expression.dependencies),this.node.value&&e.renderer.add_to_context(this.node.value,!0),this.node.error&&e.renderer.add_to_context(this.node.error,!0);let a=!1,o=!1,l=!1;["pending","then","catch"].forEach(n=>{const i=this.node[n],u=new Au(n,t,e,this,i,s,r);t.blocks.push(u.block),u.is_dynamic&&(a=!0,e.add_dependencies(u.block.dependencies)),u.block.has_intros&&(o=!0),u.block.has_outros&&(l=!0),this[n]=u}),this.pending.block.has_update_method=a,this.then.block.has_update_method=a,this.catch.block.has_update_method=a,this.pending.block.has_intro_method=o,this.then.block.has_intro_method=o,this.catch.block.has_intro_method=o,this.pending.block.has_outro_method=l,this.then.block.has_outro_method=l,this.catch.block.has_outro_method=l,l&&e.add_outro()}render(t,e,n){const i=this.get_or_create_anchor(t,e,n),s=this.get_update_mount_node(i),r=this.node.expression.manipulate(t),a=t.get_unique_name("info"),o=t.get_unique_name("promise");t.add_variable(o),t.maintain_context=!0;const l=this.node.value&&t.renderer.context_lookup.get(this.node.value).index,u=this.node.error&&t.renderer.context_lookup.get(this.node.error).index,c=bu`{
			ctx: #ctx,
			current: null,
			token: null,
			pending: ${this.pending.block.name},
			then: ${this.then.block.name},
			catch: ${this.catch.block.name},
			value: ${l},
			error: ${u},
			blocks: ${this.pending.block.has_outro_method&&bu`[,,,]`}
		}`;t.chunks.init.push(vu`
			let ${a} = ${c};
		`),t.chunks.init.push(vu`
			@handle_promise(${o} = ${r}, ${a});
		`),t.chunks.create.push(vu`
			${a}.block.c();
		`),n&&this.renderer.options.hydratable&&t.chunks.claim.push(vu`
				${a}.block.l(${n});
			`);const h=e||"#target",d=e?"null":"anchor",p=this.pending.block.has_intro_method||this.pending.block.has_outro_method;t.chunks.mount.push(vu`
			${a}.block.m(${h}, ${a}.anchor = ${d});
			${a}.mount = () => ${s};
			${a}.anchor = ${i};
		`),p&&t.chunks.intro.push(vu`@transition_in(${a}.block);`);const f=this.node.expression.dynamic_dependencies();if(f.length>0){const e=bu`
				${t.renderer.dirty(f)} &&
				${o} !== (${o} = ${r}) &&
				@handle_promise(${o}, ${a})`;t.chunks.update.push(vu`${a}.ctx = #ctx;`),this.pending.block.has_update_method?t.chunks.update.push(vu`
					if (${e}) {

					} else {
						const #child_ctx = #ctx.slice();
						${this.node.value&&bu`#child_ctx[${l}] = ${a}.resolved;`}
						${a}.block.p(#child_ctx, #dirty);
					}
				`):t.chunks.update.push(vu`
					${e}
				`)}else this.pending.block.has_update_method&&t.chunks.update.push(vu`
					{
						const #child_ctx = #ctx.slice();
						${this.node.value&&bu`#child_ctx[${l}] = ${a}.resolved;`}
						${a}.block.p(#child_ctx, #dirty);
					}
				`);this.pending.block.has_outro_method&&t.chunks.outro.push(vu`
				for (let #i = 0; #i < 3; #i += 1) {
					const block = ${a}.blocks[#i];
					@transition_out(block);
				}
			`),t.chunks.destroy.push(vu`
			${a}.block.d(${e?null:"detaching"});
			${a}.token = null;
			${a} = null;
		`),[this.pending,this.then,this.catch].forEach(t=>{t.fragment.render(t.block,null,bu`#nodes`)})}},Body:class extends $u{render(t,e,n){this.node.handlers.map(t=>new Pu(t,this)).forEach(e=>{const n=e.get_snippet(t);t.chunks.init.push(vu`
					@_document.body.addEventListener("${e.node.name}", ${n});
				`),t.chunks.destroy.push(vu`
					@_document.body.removeEventListener("${e.node.name}", ${n});
				`)})}},Comment:null,DebugTag:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i)}render(t,e,n){const{renderer:i}=this,{component:s}=i;if(!i.options.dev)return;const{var_lookup:r}=s,a=s.locate(this.node.start+1),o={start:a,end:{line:a.line,column:a.column+6}},l={type:"DebuggerStatement",loc:o};if(0===this.node.expressions.length)t.chunks.create.push(l),t.chunks.update.push(l);else{const e={type:"Identifier",name:"log",loc:o},n=new Set;this.node.expressions.forEach(t=>{Ou(n,t.dependencies)});const s=this.node.expressions.filter(t=>{const e=r.get(t.node.name);return!(e&&e.hoistable)}).map(t=>t.node.name),a=this.node.expressions.map(t=>xu`${t.node.name}`),l=vu`
				${s.map(t=>vu`const ${t} = ${i.reference(t)};`)}
				@_console.${e}({ ${a} });
				debugger;`;if(n.size){const e=i.dirty(Array.from(n));t.chunks.update.push(vu`
					if (${e}) {
						${l}
					}
				`)}t.chunks.create.push(vu`{
				${l}
			}`)}}},EachBlock:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.var={type:"Identifier",name:"each"},this.cannot_use_innerhtml(),this.not_static_content();const{dependencies:a}=i.expression;e.add_dependencies(a),this.node.contexts.forEach(e=>{t.add_to_context(e.key.name,!0)}),this.block=e.child({comment:Tu(this.node,this.renderer.component),name:t.component.get_unique_name("create_each_block"),type:"each",key:i.key,bindings:new Map(e.bindings)}),this.block.has_animation=this.node.has_animation,this.index_name=this.node.index?{type:"Identifier",name:this.node.index}:t.component.get_unique_name(`${this.node.context}_index`);const o="ArrayExpression"===i.expression.node.type&&i.expression.node.elements.every(t=>"SpreadElement"!==t.type)?i.expression.node.elements.length:null;let l=this.node.start+2;for(;"e"!==t.component.source[l];)l+=1;const u=t.component.locate(l),c={type:"Identifier",name:"length",loc:{start:u,end:{line:u.line,column:u.column+4}}},h=t.component.get_unique_name(`${this.var.name}_value`),d=e.get_unique_name(`${this.var.name}_blocks`);t.add_to_context(h.name,!0),t.add_to_context(this.index_name.name,!0),this.vars={create_each_block:this.block.name,each_block_value:h,get_each_context:t.component.get_unique_name(`get_${this.var.name}_context`),iterations:d,fixed_length:o,data_length:null===o?bu`${h}.${c}`:o,view_length:null===o?bu`${d}.length`:o};const p="Identifier"===i.expression.node.type&&"$"===i.expression.node.name[0]?i.expression.node.name.slice(1):null;i.contexts.forEach(t=>{this.block.bindings.set(t.key.name,{object:this.vars.each_block_value,property:this.index_name,modifier:t.modifier,snippet:t.modifier(bu`${this.vars.each_block_value}[${this.index_name}]`),store:p,tail:t.modifier(bu`[${this.index_name}]`)})}),this.node.index&&this.block.get_unique_name(this.node.index),t.blocks.push(this.block),this.fragment=new bc(t,this.block,i.children,this,s,r),this.node.else&&(this.else=new qu(t,e,this,this.node.else,s,r),t.blocks.push(this.else.block),this.else.is_dynamic&&this.block.add_dependencies(this.else.block.dependencies)),e.add_dependencies(this.block.dependencies),(this.block.has_outros||this.else&&this.else.block.has_outros)&&e.add_outro()}render(t,e,n){if(0===this.fragment.nodes.length)return;const{renderer:i}=this,{component:s}=i,r=this.next?!this.next.is_dom_node():!e||!this.parent.is_dom_node();this.context_props=this.node.contexts.map(t=>vu`child_ctx[${i.context_lookup.get(t.key.name).index}] = ${t.modifier(bu`list[i]`)};`),this.node.has_binding&&this.context_props.push(vu`child_ctx[${i.context_lookup.get(this.vars.each_block_value.name).index}] = list;`),(this.node.has_binding||this.node.index)&&this.context_props.push(vu`child_ctx[${i.context_lookup.get(this.index_name.name).index}] = i;`);const a=this.node.expression.manipulate(t);t.chunks.init.push(vu`let ${this.vars.each_block_value} = ${a};`),i.blocks.push(vu`
			function ${this.vars.get_each_context}(#ctx, list, i) {
				const child_ctx = #ctx.slice();
				${this.context_props}
				return child_ctx;
			}
		`);const o={type:"Identifier",name:e?"null":"anchor"},l=e||{type:"Identifier",name:"#target"},u=r?t.get_unique_name(`${this.var.name}_anchor`):this.next&&this.next.var||{type:"Identifier",name:"null"},c=this.get_update_mount_node(u),h={block:t,parent_node:e,parent_nodes:n,snippet:a,initial_anchor_node:o,initial_mount_node:l,update_anchor_node:u,update_mount_node:c};if(this.node.key?this.render_keyed(h):this.render_unkeyed(h),(this.block.has_intro_method||this.block.has_outro_method)&&t.chunks.intro.push(vu`
				for (let #i = 0; #i < ${this.vars.data_length}; #i += 1) {
					@transition_in(${this.vars.iterations}[#i]);
				}
			`),r&&t.add_element(u,bu`@empty()`,n&&bu`@empty()`,e),this.else){const n=s.get_unique_name(`${this.var.name}_else`);t.chunks.init.push(vu`let ${n} = null;`),t.chunks.init.push(vu`
				if (!${this.vars.data_length}) {
					${n} = ${this.else.block.name}(#ctx);
					${n}.c();
				}
			`),t.chunks.mount.push(vu`
				if (${n}) {
					${n}.m(${l}, ${o});
				}
			`),this.else.block.has_update_method?t.chunks.update.push(vu`
					if (!${this.vars.data_length} && ${n}) {
						${n}.p(#ctx, #dirty);
					} else if (!${this.vars.data_length}) {
						${n} = ${this.else.block.name}(#ctx);
						${n}.c();
						${n}.m(${c}, ${u});
					} else if (${n}) {
						${n}.d(1);
						${n} = null;
					}
				`):t.chunks.update.push(vu`
					if (${this.vars.data_length}) {
						if (${n}) {
							${n}.d(1);
							${n} = null;
						}
					} else if (!${n}) {
						${n} = ${this.else.block.name}(#ctx);
						${n}.c();
						${n}.m(${c}, ${u});
					}
				`),t.chunks.destroy.push(vu`
				if (${n}) ${n}.d(${e?"":"detaching"});
			`)}this.fragment.render(this.block,null,bu`#nodes`),this.else&&this.else.fragment.render(this.else.block,null,bu`#nodes`)}render_keyed({block:t,parent_node:e,parent_nodes:n,snippet:i,initial_anchor_node:s,initial_mount_node:r,update_anchor_node:a,update_mount_node:o}){const{create_each_block:l,iterations:u,data_length:c,view_length:h}=this.vars,d=t.get_unique_name("get_key"),p=t.get_unique_name(`${this.var.name}_lookup`);t.add_variable(u,bu`[]`),t.add_variable(p,bu`new @_Map()`),this.fragment.nodes[0].is_dom_node()?this.block.first=this.fragment.nodes[0].var:(this.block.first=this.block.get_unique_name("first"),this.block.add_element(this.block.first,bu`@empty()`,n&&bu`@empty()`,null)),t.chunks.init.push(vu`
			const ${d} = #ctx => ${this.node.key.manipulate(t)};

			for (let #i = 0; #i < ${c}; #i += 1) {
				let child_ctx = ${this.vars.get_each_context}(#ctx, ${this.vars.each_block_value}, #i);
				let key = ${d}(child_ctx);
				${p}.set(key, ${u}[#i] = ${l}(key, child_ctx));
			}
		`),t.chunks.create.push(vu`
			for (let #i = 0; #i < ${h}; #i += 1) {
				${u}[#i].c();
			}
		`),n&&this.renderer.options.hydratable&&t.chunks.claim.push(vu`
				for (let #i = 0; #i < ${h}; #i += 1) {
					${u}[#i].l(${n});
				}
			`),t.chunks.mount.push(vu`
			for (let #i = 0; #i < ${h}; #i += 1) {
				${u}[#i].m(${r}, ${s});
			}
		`);const f=this.block.has_update_method,m=this.node.has_animation?this.block.has_outros?"@fix_and_outro_and_destroy_block":"@fix_and_destroy_block":this.block.has_outros?"@outro_and_destroy_block":"@destroy_block";t.chunks.update.push(vu`
			const ${this.vars.each_block_value} = ${i};

			${this.block.has_outros&&vu`@group_outros();`}
			${this.node.has_animation&&vu`for (let #i = 0; #i < ${h}; #i += 1) ${u}[#i].r();`}
			${u} = @update_keyed_each(${u}, #dirty, ${d}, ${f?1:0}, #ctx, ${this.vars.each_block_value}, ${p}, ${o}, ${m}, ${l}, ${a}, ${this.vars.get_each_context});
			${this.node.has_animation&&vu`for (let #i = 0; #i < ${h}; #i += 1) ${u}[#i].a();`}
			${this.block.has_outros&&vu`@check_outros();`}
		`),this.block.has_outros&&t.chunks.outro.push(vu`
				for (let #i = 0; #i < ${h}; #i += 1) {
					@transition_out(${u}[#i]);
				}
			`),t.chunks.destroy.push(vu`
			for (let #i = 0; #i < ${h}; #i += 1) {
				${u}[#i].d(${e?null:"detaching"});
			}
		`)}render_unkeyed({block:t,parent_nodes:e,snippet:n,initial_anchor_node:i,initial_mount_node:s,update_anchor_node:r,update_mount_node:a}){const{create_each_block:o,iterations:l,fixed_length:u,data_length:c,view_length:h}=this.vars;t.chunks.init.push(vu`
			let ${l} = [];

			for (let #i = 0; #i < ${c}; #i += 1) {
				${l}[#i] = ${o}(${this.vars.get_each_context}(#ctx, ${this.vars.each_block_value}, #i));
			}
		`),t.chunks.create.push(vu`
			for (let #i = 0; #i < ${h}; #i += 1) {
				${l}[#i].c();
			}
		`),e&&this.renderer.options.hydratable&&t.chunks.claim.push(vu`
				for (let #i = 0; #i < ${h}; #i += 1) {
					${l}[#i].l(${e});
				}
			`),t.chunks.mount.push(vu`
			for (let #i = 0; #i < ${h}; #i += 1) {
				${l}[#i].m(${s}, ${i});
			}
		`);const d=new Set(this.block.dependencies);if(this.node.expression.dynamic_dependencies().forEach(t=>{d.add(t)}),d.size){const e=!(!this.block.has_intro_method&&!this.block.has_outro_method),i=this.block.has_update_method?vu`
					if (${l}[#i]) {
						${l}[#i].p(child_ctx, #dirty);
						${e&&vu`@transition_in(${this.vars.iterations}[#i], 1);`}
					} else {
						${l}[#i] = ${o}(child_ctx);
						${l}[#i].c();
						${e&&vu`@transition_in(${this.vars.iterations}[#i], 1);`}
						${l}[#i].m(${a}, ${r});
					}
				`:e?vu`
						if (${l}[#i]) {
							@transition_in(${this.vars.iterations}[#i], 1);
						} else {
							${l}[#i] = ${o}(child_ctx);
							${l}[#i].c();
							@transition_in(${this.vars.iterations}[#i], 1);
							${l}[#i].m(${a}, ${r});
						}
					`:vu`
						if (!${l}[#i]) {
							${l}[#i] = ${o}(child_ctx);
							${l}[#i].c();
							${l}[#i].m(${a}, ${r});
						}
					`,s=this.block.has_update_method?0:"#old_length";let p;if(this.block.has_outros){const e=t.get_unique_name("out");t.chunks.init.push(vu`
					const ${e} = i => @transition_out(${l}[i], 1, 1, () => {
						${l}[i] = null;
					});
				`),p=vu`
					@group_outros();
					for (#i = ${c}; #i < ${h}; #i += 1) {
						${e}(#i);
					}
					@check_outros();
				`}else p=vu`
					for (${this.block.has_update_method?null:bu`#i = ${c}`}; #i < ${this.block.has_update_method?h:"#old_length"}; #i += 1) {
						${l}[#i].d(1);
					}
					${!u&&vu`${h} = ${c};`}
				`;const f=vu`
				${!this.block.has_update_method&&vu`const #old_length = ${this.vars.each_block_value}.length;`}
				${this.vars.each_block_value} = ${n};

				let #i;
				for (#i = ${s}; #i < ${c}; #i += 1) {
					const child_ctx = ${this.vars.get_each_context}(#ctx, ${this.vars.each_block_value}, #i);

					${i}
				}

				${p}
			`;t.chunks.update.push(vu`
				if (${t.renderer.dirty(Array.from(d))}) {
					${f}
				}
			`)}this.block.has_outros&&t.chunks.outro.push(vu`
				${l} = ${l}.filter(@_Boolean);
				for (let #i = 0; #i < ${h}; #i += 1) {
					@transition_out(${l}[#i]);
				}
			`),t.chunks.destroy.push(vu`@destroy_each(${l}, detaching);`)}},Element:class extends $u{constructor(t,e,n,i,s,r){if(super(t,e,n,i),this.var={type:"Identifier",name:i.name.replace(/[^a-zA-Z0-9_$]/g,"_")},this.void=rl(i.name),this.class_dependencies=[],this.node.children.length&&this.node.lets.forEach(e=>{Ul(e.value||e.name).forEach(e=>{t.add_to_context(e,!0)})}),this.attributes=this.node.attributes.map(t=>{if("slot"===t.name){let n=this.parent;for(;n&&"InlineComponent"!==n.node.type&&("Element"!==n.node.type||!/-/.test(n.node.name));)n=n.parent;if(n&&"InlineComponent"===n.node.type){const s=t.get_static_value();if(!n.slots.has(s)){const t=e.child({comment:Tu(i,this.renderer.component),name:this.renderer.component.get_unique_name(`create_${al(s)}_slot`),type:"slot"}),{scope:r,lets:a}=this.node,o=new Set(a.map(t=>t.name.name));n.node.lets.forEach(t=>{o.has(t.name.name)||a.push(t)}),n.slots.set(s,sc(t,r,a)),this.renderer.blocks.push(t)}this.slot_block=n.slots.get(s).block,e=this.slot_block}}return"style"===t.name?new Xu(this,e,t):new Hu(this,e,t)}),this.bindings=this.node.bindings.map(t=>new tc(e,t,this)),this.event_handlers=this.node.handlers.map(t=>new Pu(t,this)),(i.intro||i.outro)&&(i.intro&&e.add_intro(i.intro.is_local),i.outro&&e.add_outro(i.outro.is_local)),i.animation&&e.add_animation(),[i.animation,i.outro,...i.actions,...i.classes].forEach(t=>{t&&t.expression&&e.add_dependencies(t.expression.dependencies)}),i.handlers.forEach(t=>{t.expression&&e.add_dependencies(t.expression.dependencies)}),this.parent&&(i.actions.length>0||i.animation||i.bindings.length>0||i.classes.length>0||i.intro||i.outro||i.handlers.length>0||"option"===this.node.name||t.options.dev)&&(this.parent.cannot_use_innerhtml(),this.parent.not_static_content()),this.fragment=new bc(t,e,i.children,this,s,r),this.slot_block){e.parent.add_dependencies(e.dependencies);const t=e.parent.wrappers.indexOf(this);e.parent.wrappers.splice(t,1),e.wrappers.push(this)}}render(t,e,n){const{renderer:i}=this;if("noscript"===this.node.name)return;this.slot_block&&(t=this.slot_block);const s=this.var,r=n&&t.get_unique_name(`${this.var.name}_nodes`),a=bu`@children(${"template"===this.node.name?bu`${s}.content`:s})`;t.add_variable(s);const o=this.get_render_statement(t);t.chunks.create.push(vu`${s} = ${o};`),i.options.hydratable&&(n?(t.chunks.claim.push(vu`
					${s} = ${this.get_claim_statement(n)};
				`),!this.void&&this.node.children.length>0&&t.chunks.claim.push(vu`
						var ${r} = ${a};
					`)):t.chunks.claim.push(vu`${s} = ${o};`)),e?(t.chunks.mount.push(vu`@append(${e}, ${s});`),wu(e)&&t.chunks.destroy.push(vu`@detach(${s});`)):(t.chunks.mount.push(vu`@insert(#target, ${s}, anchor);`),t.chunks.destroy.push(vu`if (detaching) @detach(${s});`));const l=this.can_use_textcontent();if(!this.node.namespace&&(this.can_use_innerhtml||l)&&this.fragment.nodes.length>0)if(1===this.fragment.nodes.length&&"Text"===this.fragment.nodes[0].node.type)t.chunks.create.push(vu`${s}.textContent = ${Mu(this.fragment.nodes[0].data)};`);else{const e={quasi:{type:"TemplateElement",value:{raw:""}}},n={type:"TemplateLiteral",expressions:[],quasis:[]},i=!this.can_use_innerhtml&&l;!function t(e,n,i,s,r){e.forEach(e=>{if("Text"===e.node.type){e.use_space()&&(s.quasi.value.raw+=" ");const t=e.node.parent,n=t&&("script"===t.name||"style"===t.name||r);s.quasi.value.raw+=(n?e.node.data:Ru(e.node.data)).replace(/\\/g,"\\\\").replace(/`/g,"\\`").replace(/\$/g,"\\$")}else"MustacheTag"===e.node.type||"RawMustacheTag"===e.node.type?(i.quasis.push(s.quasi),i.expressions.push(e.node.expression.manipulate(n)),s.quasi={type:"TemplateElement",value:{raw:""}}):"noscript"===e.node.name||(s.quasi.value.raw+=`<${e.node.name}`,e.attributes.forEach(t=>{s.quasi.value.raw+=` ${Fu(t.node.name)}="`,t.node.chunks.forEach(t=>{"Text"===t.type?s.quasi.value.raw+=Ru(t.data):(i.quasis.push(s.quasi),i.expressions.push(t.manipulate(n)),s.quasi={type:"TemplateElement",value:{raw:""}})}),s.quasi.value.raw+='"'}),s.quasi.value.raw+=">",e.void||(t(e.fragment.nodes,n,i,s),s.quasi.value.raw+=`</${e.node.name}>`))})}(this.fragment.nodes,t,n,e,i),n.quasis.push(e.quasi),t.chunks.create.push(vu`${s}.${this.can_use_innerhtml?"innerHTML":"textContent"} = ${n};`)}else this.fragment.nodes.forEach(e=>{e.render(t,"template"===this.node.name?bu`${s}.content`:s,r)});if((this.bindings.some(t=>t.handler.uses_context)||this.node.handlers.some(t=>t.uses_context)||this.node.actions.some(t=>t.uses_context))&&(t.maintain_context=!0),this.add_attributes(t),this.add_bindings(t),this.add_event_handlers(t),this.add_transitions(t),this.add_animation(t),this.add_actions(t),this.add_classes(t),this.add_manual_style_scoping(t),r&&this.renderer.options.hydratable&&!this.void&&t.chunks.claim.push(vu`${this.node.children.length>0?r:a}.forEach(@detach);`),i.options.dev){const e=i.locate(this.node.start);t.chunks.hydrate.push(vu`@add_location(${this.var}, ${i.file_var}, ${e.line-1}, ${e.column}, ${this.node.start});`)}}can_use_textcontent(){return this.is_static_content&&this.fragment.nodes.every(t=>"Text"===t.node.type||"MustacheTag"===t.node.type)}get_render_statement(t){const{name:e,namespace:n}=this.node;if("http://www.w3.org/2000/svg"===n)return bu`@svg_element("${e}")`;if(n)return bu`@_document.createElementNS("${n}", "${e}")`;const i=this.attributes.find(t=>"is"===t.node.name);return i?bu`@element_is("${e}", ${i.render_chunks(t).reduce((t,e)=>bu`${t} + ${e}`)});`:bu`@element("${e}")`}get_claim_statement(t){const e=this.node.attributes.filter(t=>"Attribute"===t.type).map(t=>xu`${t.name}: true`);return bu`@claim_element(${t}, "${this.node.namespace?this.node.name:this.node.name.toUpperCase()}", { ${e} }, ${this.node.namespace===zu.svg?1:null})`}add_bindings(t){const{renderer:e}=this;if(0===this.bindings.length)return;e.component.has_reactive_assignments=!0;const n=this.bindings.some(t=>t.needs_lock)?t.get_unique_name(`${this.var.name}_updating`):null;n&&t.add_variable(n,bu`false`),ac.map(t=>({events:t.event_names,bindings:this.bindings.filter(t=>"this"!==t.node.name).filter(e=>t.filter(this.node,e.node.name))})).filter(t=>t.bindings.length).forEach(i=>{const s=e.component.get_unique_name(`${this.var.name}_${i.events.join("_")}_handler`);e.add_to_context(s.name);const r=i.bindings.some(t=>t.needs_lock),a=new Set,o=new Set;let l;i.bindings.forEach(e=>{Ou(a,e.get_dependencies()),Ou(o,e.node.expression.contextual_dependencies),Ou(o,e.handler.contextual_dependencies),e.render(t,n)}),"timeupdate"===i.events[0]&&(l=t.get_unique_name(`${this.var.name}_animationframe`),t.add_variable(l));const u=o.size>0||r||l;let c=e.reference(s);if(u){const i=Array.from(o).map(t=>e.reference(t));l?t.chunks.init.push(vu`
						function ${s}() {
							@_cancelAnimationFrame(${l});
							if (!${this.var}.paused) {
								${l} = @raf(${s});
								${r&&vu`${n} = true;`}
							}
							${c}.call(${this.var}, ${i});
						}
					`):t.chunks.init.push(vu`
						function ${s}() {
							${r&&vu`${n} = true;`}
							${c}.call(${this.var}, ${i});
						}
					`),c=s}const h=Array.from(o).map(t=>({type:"Identifier",name:t}));this.renderer.component.partly_hoisted.push(vu`
				function ${s}(${h}) {
					${i.bindings.map(t=>t.handler.mutation)}
					${Array.from(a).filter(t=>"$"!==t[0]).filter(t=>!o.has(t)).map(t=>vu`${this.renderer.invalidate(t)};`)}
				}
			`),i.events.forEach(e=>{if("elementresize"===e){const e=t.get_unique_name(`${this.var.name}_resize_listener`);t.add_variable(e),t.chunks.mount.push(vu`${e} = @add_resize_listener(${this.var}, ${c}.bind(${this.var}));`),t.chunks.destroy.push(vu`${e}.cancel();`)}else t.event_listeners.push(bu`@listen(${this.var}, "${e}", ${c})`)});const d=i.bindings.map(t=>bu`${t.snippet} === void 0`).reduce((t,e)=>bu`${t} || ${e}`);if("select"===this.node.name||i.bindings.find(t=>"indeterminate"===t.node.name||"textContent"===t.node.name||"innerHTML"===t.node.name||t.is_readonly_media_attribute())){const e=u?s:bu`() => ${c}.call(${this.var})`;t.chunks.hydrate.push(vu`if (${d}) @add_render_callback(${e});`)}"elementresize"===i.events[0]&&t.chunks.hydrate.push(vu`@add_render_callback(() => ${c}.call(${this.var}));`)}),n&&t.chunks.update.push(vu`${n} = false;`);const i=this.bindings.find(t=>"this"===t.node.name);if(i){const n=rc(e.component,t,i.node,this.var);t.chunks.mount.push(n)}}add_attributes(t){this.attributes.forEach(t=>{if("class"===t.node.name){const e=t.node.get_dependencies();this.class_dependencies.push(...e)}}),this.node.attributes.some(t=>t.is_spread)?this.add_spread_attributes(t):this.attributes.forEach(e=>{e.render(t)})}add_spread_attributes(t){const e=t.get_unique_name(`${this.var.name}_levels`),n=t.get_unique_name(`${this.var.name}_data`),i=[],s=[];this.attributes.forEach(e=>{const n=e.node.dependencies.size>0?t.renderer.dirty(Array.from(e.node.dependencies)):null;if(e.node.is_spread){const r=e.node.expression.manipulate(t);i.push(r),s.push(n?bu`${n} && ${r}`:r)}else{const r=e.get_metadata(),a=bu`{ ${r&&r.property_name||Fu(e.node.name)}: ${e.get_value(t)} }`;i.push(a),s.push(n?bu`${n} && ${a}`:a)}}),t.chunks.init.push(vu`
			let ${e} = [${i}];

			let ${n} = {};
			for (let #i = 0; #i < ${e}.length; #i += 1) {
				${n} = @assign(${n}, ${e}[#i]);
			}
		`);const r=this.node.namespace===zu.svg?bu`@set_svg_attributes`:bu`@set_attributes`;t.chunks.hydrate.push(vu`${r}(${this.var}, ${n});`),t.chunks.update.push(vu`
			${r}(${this.var}, @get_spread_update(${e}, [
				${s}
			]));
		`)}add_event_handlers(t){nc(t,this.var,this.event_handlers)}add_transitions(t){const{intro:e,outro:n}=this.node;if(e||n)if(e===n){const n=t.get_unique_name(`${this.var.name}_transition`),i=e.expression?e.expression.manipulate(t):bu`{}`;t.add_variable(n);const s=this.renderer.reference(e.name),r=vu`
				@add_render_callback(() => {
					if (!${n}) ${n} = @create_bidirectional_transition(${this.var}, ${s}, ${i}, true);
					${n}.run(1);
				});
			`,a=vu`
				if (!${n}) ${n} = @create_bidirectional_transition(${this.var}, ${s}, ${i}, false);
				${n}.run(0);
			`;e.is_local?(t.chunks.intro.push(vu`
					if (#local) {
						${r}
					}
				`),t.chunks.outro.push(vu`
					if (#local) {
						${a}
					}
				`)):(t.chunks.intro.push(r),t.chunks.outro.push(a)),t.chunks.destroy.push(vu`if (detaching && ${n}) ${n}.end();`)}else{const i=e&&t.get_unique_name(`${this.var.name}_intro`),s=n&&t.get_unique_name(`${this.var.name}_outro`);if(e){t.add_variable(i);const r=e.expression?e.expression.manipulate(t):bu`{}`,a=this.renderer.reference(e.name);let o;n?(o=vu`
						@add_render_callback(() => {
							if (${s}) ${s}.end(1);
							if (!${i}) ${i} = @create_in_transition(${this.var}, ${a}, ${r});
							${i}.start();
						});
					`,t.chunks.outro.push(vu`if (${i}) ${i}.invalidate();`)):o=vu`
						if (!${i}) {
							@add_render_callback(() => {
								${i} = @create_in_transition(${this.var}, ${a}, ${r});
								${i}.start();
							});
						}
					`,e.is_local&&(o=vu`
						if (#local) {
							${o}
						}
					`),t.chunks.intro.push(o)}if(n){t.add_variable(s);const i=n.expression?n.expression.manipulate(t):bu`{}`,r=this.renderer.reference(n.name);e||t.chunks.intro.push(vu`
						if (${s}) ${s}.end(1);
					`);let a=vu`
					${s} = @create_out_transition(${this.var}, ${r}, ${i});
				`;n.is_local&&(a=vu`
						if (#local) {
							${a}
						}
					`),t.chunks.outro.push(a),t.chunks.destroy.push(vu`if (detaching && ${s}) ${s}.end();`)}}}add_animation(t){if(!this.node.animation)return;const{outro:e}=this.node,n=t.get_unique_name("rect"),i=t.get_unique_name("stop_animation");t.add_variable(n),t.add_variable(i,bu`@noop`),t.chunks.measure.push(vu`
			${n} = ${this.var}.getBoundingClientRect();
		`),t.chunks.fix.push(vu`
			@fix_position(${this.var});
			${i}();
			${e&&vu`@add_transform(${this.var}, ${n});`}
		`);const s=this.node.animation.expression?this.node.animation.expression.manipulate(t):bu`{}`,r=this.renderer.reference(this.node.animation.name);t.chunks.animate.push(vu`
			${i}();
			${i} = @create_animation(${this.var}, ${n}, ${r}, ${s});
		`)}add_actions(t){ic(t,this.var,this.node.actions)}add_classes(t){const e=this.node.attributes.some(t=>t.is_spread);this.node.classes.forEach(n=>{const{expression:i,name:s}=n;let r,a;i?(r=i.manipulate(t),a=i.dependencies):(r=s,a=new Set([s]));const o=vu`@toggle_class(${this.var}, "${s}", ${r});`;if(t.chunks.hydrate.push(o),e)t.chunks.update.push(o);else if(a&&a.size>0||this.class_dependencies.length){const e=this.class_dependencies.concat(...a),n=t.renderer.dirty(e);t.chunks.update.push(vu`
					if (${n}) {
						${o}
					}`)}})}add_manual_style_scoping(t){if(this.node.needs_manual_style_scoping){const e=vu`@toggle_class(${this.var}, "${this.node.component.stylesheet.id}", true);`;t.chunks.hydrate.push(e),t.chunks.update.push(e)}}},Head:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.can_use_innerhtml=!1,this.fragment=new bc(t,e,i.children,this,s,r)}render(t,e,n){this.fragment.render(t,bu`@_document.head`,bu`#nodes`)}},IfBlock:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.needs_update=!1,this.var={type:"Identifier",name:"if_block"},this.cannot_use_innerhtml(),this.not_static_content(),this.branches=[];const a=[];let o=!1,l=!1,u=!1;const c=n=>{const i=new oc(t,e,this,n,s,r);if(this.branches.push(i),a.push(i.block),e.add_dependencies(n.expression.dependencies),i.block.dependencies.size>0&&(o=!0,e.add_dependencies(i.block.dependencies)),i.dependencies&&i.dependencies.length>0&&(this.needs_update=!0),i.block.has_intros&&(l=!0),i.block.has_outros&&(u=!0),function(t){return t&&1===t.children.length&&"IfBlock"===t.children[0].type}(n.else))c(n.else.children[0]);else if(n.else){const i=new oc(t,e,this,n.else,s,r);this.branches.push(i),a.push(i.block),i.block.dependencies.size>0&&(o=!0,e.add_dependencies(i.block.dependencies)),i.block.has_intros&&(l=!0),i.block.has_outros&&(u=!0)}};c(this.node),a.forEach(t=>{t.has_update_method=o,t.has_intro_method=l,t.has_outro_method=u}),t.blocks.push(...a)}render(t,e,n){const i=this.var,s=this.next?!this.next.is_dom_node():!e||!this.parent.is_dom_node(),r=s?t.get_unique_name(`${this.var.name}_anchor`):this.next&&this.next.var||"null",a=!this.branches[this.branches.length-1].condition,o=a?null:i,l=this.branches[0].block.has_update_method,u=this.branches[0].block.has_intro_method,c=this.branches[0].block.has_outro_method,h={name:i,anchor:r,if_exists_condition:o,has_else:a,has_transitions:u||c},d=e&&!wu(e)?null:"detaching";this.node.else?(this.branches.forEach(e=>{e.snippet&&t.add_variable(e.condition)}),c?(this.render_compound_with_outros(t,e,n,l,h,d),t.chunks.outro.push(vu`@transition_out(${i});`)):this.render_compound(t,e,n,l,h,d)):(this.render_simple(t,e,n,l,h,d),c&&t.chunks.outro.push(vu`@transition_out(${i});`)),o?t.chunks.create.push(vu`if (${o}) ${i}.c();`):t.chunks.create.push(vu`${i}.c();`),n&&this.renderer.options.hydratable&&(o?t.chunks.claim.push(vu`if (${o}) ${i}.l(${n});`):t.chunks.claim.push(vu`${i}.l(${n});`)),(u||c)&&t.chunks.intro.push(vu`@transition_in(${i});`),s&&t.add_element(r,bu`@empty()`,n&&bu`@empty()`,e),this.branches.forEach(t=>{t.fragment.render(t.block,null,bu`#nodes`)})}render_compound(t,e,n,i,{name:s,anchor:r,has_else:a,if_exists_condition:o,has_transitions:l},u){const c=this.renderer.component.get_unique_name("select_block_type"),h=t.get_unique_name("current_block_type"),d=a?bu`${h}(#ctx)`:bu`${h} && ${h}(#ctx)`;this.needs_update?t.chunks.init.push(vu`
				function ${c}(#ctx, #dirty) {
					${this.branches.map(({dependencies:t,condition:e,snippet:n,block:i})=>e?vu`
					${n&&(t.length>0?vu`if (${e} == null || ${i.renderer.dirty(t)}) ${e} = !!${n}`:vu`if (${e} == null) ${e} = !!${n}`)}
					if (${e}) return ${i.name};`:vu`return ${i.name};`)}
				}
			`):t.chunks.init.push(vu`
				function ${c}(#ctx, #dirty) {
					${this.branches.map(({condition:t,snippet:e,block:n})=>t?vu`if (${e||t}) return ${n.name};`:vu`return ${n.name};`)}
				}
			`),t.chunks.init.push(vu`
			let ${h} = ${c}(#ctx, -1);
			let ${s} = ${d};
		`);const p=e||"#target",f=e?"null":"anchor";if(o?t.chunks.mount.push(vu`if (${o}) ${s}.m(${p}, ${f});`):t.chunks.mount.push(vu`${s}.m(${p}, ${f});`),this.needs_update){const e=vu`
				${o?vu`if (${o}) ${s}.d(1)`:vu`${s}.d(1)`};
				${s} = ${d};
				if (${s}) {
					${s}.c();
					${l&&vu`@transition_in(${s}, 1);`}
					${s}.m(${this.get_update_mount_node(r)}, ${r});
				}
			`;i?t.chunks.update.push(vu`
					if (${h} === (${h} = ${c}(#ctx, #dirty)) && ${s}) {
						${s}.p(#ctx, #dirty);
					} else {
						${e}
					}
				`):t.chunks.update.push(vu`
					if (${h} !== (${h} = ${c}(#ctx, #dirty))) {
						${e}
					}
				`)}else i&&t.chunks.update.push(vu`${s}.p(#ctx, #dirty);`);o?t.chunks.destroy.push(vu`
				if (${o}) {
					${s}.d(${u});
				}
			`):t.chunks.destroy.push(vu`
				${s}.d(${u});
			`)}render_compound_with_outros(t,e,n,i,{name:s,anchor:r,has_else:a,has_transitions:o},l){const u=this.renderer.component.get_unique_name("select_block_type"),c=t.get_unique_name("current_block_type_index"),h=t.get_unique_name("previous_block_index"),d=t.get_unique_name("if_block_creators"),p=t.get_unique_name("if_blocks"),f=a?t=>t:t=>vu`if (~${c}) { ${t} }`;t.add_variable(c),t.add_variable(s),t.chunks.init.push(vu`
			const ${d} = [
				${this.branches.map(t=>t.block.name)}
			];

			const ${p} = [];

			${this.needs_update?vu`
					function ${u}(#ctx, #dirty) {
						${this.branches.map(({dependencies:e,condition:n,snippet:i},s)=>n?vu`
						${i&&(e.length>0?vu`if (${t.renderer.dirty(e)}) ${n} = !!${i}`:vu`if (${n} == -1) ${n} = !!${i}`)}
						if (${n}) return ${s};`:vu`return ${s};`)}
						${!a&&vu`return -1;`}
					}
				`:vu`
					function ${u}(#ctx, #dirty) {
						${this.branches.map(({condition:t,snippet:e},n)=>t?vu`if (${e||t}) return ${n};`:vu`return ${n};`)}
						${!a&&vu`return -1;`}
					}
				`}
		`),a?t.chunks.init.push(vu`
				${c} = ${u}(#ctx, -1);
				${s} = ${p}[${c}] = ${d}[${c}](#ctx);
			`):t.chunks.init.push(vu`
				if (~(${c} = ${u}(#ctx, -1))) {
					${s} = ${p}[${c}] = ${d}[${c}](#ctx);
				}
			`);const m=e||"#target",_=e?"null":"anchor";if(t.chunks.mount.push(f(vu`${p}[${c}].m(${m}, ${_});`)),this.needs_update){const e=this.get_update_mount_node(r),n=vu`
				@group_outros();
				@transition_out(${p}[${h}], 1, 1, () => {
					${p}[${h}] = null;
				});
				@check_outros();
			`,l=vu`
				${s} = ${p}[${c}];
				if (!${s}) {
					${s} = ${p}[${c}] = ${d}[${c}](#ctx);
					${s}.c();
				}
				${o&&vu`@transition_in(${s}, 1);`}
				${s}.m(${e}, ${r});
			`,m=a?vu`
					${n}

					${l}
				`:vu`
					if (${s}) {
						${n}
					}

					if (~${c}) {
						${l}
					} else {
						${s} = null;
					}
				`;i?t.chunks.update.push(vu`
					let ${h} = ${c};
					${c} = ${u}(#ctx, #dirty);
					if (${c} === ${h}) {
						${f(vu`${p}[${c}].p(#ctx, #dirty);`)}
					} else {
						${m}
					}
				`):t.chunks.update.push(vu`
					let ${h} = ${c};
					${c} = ${u}(#ctx, #dirty);
					if (${c} !== ${h}) {
						${m}
					}
				`)}else i&&t.chunks.update.push(vu`${s}.p(#ctx, #dirty);`);t.chunks.destroy.push(f(vu`${p}[${c}].d(${l});`))}render_simple(t,e,n,i,{name:s,anchor:r,if_exists_condition:a,has_transitions:o},l){const u=this.branches[0];u.snippet&&t.add_variable(u.condition,u.snippet),t.chunks.init.push(vu`
			let ${s} = ${u.condition} && ${u.block.name}(#ctx);
		`);const c=e||"#target",h=e?"null":"anchor";if(t.chunks.mount.push(vu`if (${s}) ${s}.m(${c}, ${h});`),u.dependencies.length>0){const e=this.get_update_mount_node(r),n=i?vu`
					if (${s}) {
						${s}.p(#ctx, #dirty);
						${o&&vu`@transition_in(${s}, 1);`}
					} else {
						${s} = ${u.block.name}(#ctx);
						${s}.c();
						${o&&vu`@transition_in(${s}, 1);`}
						${s}.m(${e}, ${r});
					}
				`:vu`
					if (!${s}) {
						${s} = ${u.block.name}(#ctx);
						${s}.c();
						${o&&vu`@transition_in(${s}, 1);`}
						${s}.m(${e}, ${r});
					} else {
						${o&&vu`@transition_in(${s}, 1);`}
					}
				`;u.snippet&&t.chunks.update.push(vu`if (${t.renderer.dirty(u.dependencies)}) ${u.condition} = ${u.snippet}`),u.block.has_outro_method?t.chunks.update.push(vu`
					if (${u.condition}) {
						${n}
					} else if (${s}) {
						@group_outros();
						@transition_out(${s}, 1, 1, () => {
							${s} = null;
						});
						@check_outros();
					}
				`):t.chunks.update.push(vu`
					if (${u.condition}) {
						${n}
					} else if (${s}) {
						${s}.d(1);
						${s} = null;
					}
				`)}else i&&t.chunks.update.push(vu`
				if (${u.condition}) ${s}.p(#ctx, #dirty);
			`);a?t.chunks.destroy.push(vu`
				if (${a}) ${s}.d(${l});
			`):t.chunks.destroy.push(vu`
				${s}.d(${l});
			`)}},InlineComponent:class extends $u{constructor(t,e,n,i,s,r){if(super(t,e,n,i),this.slots=new Map,this.cannot_use_innerhtml(),this.not_static_content(),this.node.expression&&e.add_dependencies(this.node.expression.dependencies),this.node.attributes.forEach(t=>{e.add_dependencies(t.dependencies)}),this.node.bindings.forEach(t=>{if(t.is_contextual){const{name:e}=Ju(t.expression.node);this.node.scope.get_owner(e).has_binding=!0}e.add_dependencies(t.expression.dependencies)}),this.node.handlers.forEach(t=>{t.expression&&e.add_dependencies(t.expression.dependencies)}),this.var={type:"Identifier",name:("svelte:self"===this.node.name?t.component.name.name:"svelte:component"===this.node.name?"switch_instance":al(this.node.name)).toLowerCase()},this.node.children.length){this.node.lets.forEach(e=>{Ul(e.value||e.name).forEach(e=>{t.add_to_context(e,!0)})});const n=e.child({comment:Tu(i,t.component),name:t.component.get_unique_name("create_default_slot"),type:"slot"});this.renderer.blocks.push(n),this.slots.set("default",sc(n,this.node.scope,this.node.lets)),this.fragment=new bc(t,n,i.children,this,s,r);const a=new Set;n.dependencies.forEach(t=>{this.node.scope.is_let(t)||a.add(t)}),e.add_dependencies(a)}e.add_outro()}render(t,e,n){const{renderer:i}=this,{component:s}=i,r=this.var,a=bu`{}`,o=[],l=[];let u;const c=t.get_unique_name(`${r.name}_changes`),h=!!this.node.attributes.find(t=>t.is_spread),d=this.slots.size>0?[xu`$$slots: {
					${Array.from(this.slots).map(([t,e])=>xu`${t}: [${e.block.name}, ${e.get_context||null}, ${e.get_changes||null}]`)}
				}`,xu`$$scope: {
					ctx: #ctx
				}`]:[],p=h?bu`{ ${d} }`:bu`{
				${this.node.attributes.map(e=>xu`${e.name}: ${e.get_value(t)}`)},
				${d}
			}`;if((this.node.attributes.length||this.node.bindings.length||d.length)&&(h||0!==this.node.bindings.length?(u=t.get_unique_name(`${r.name}_props`),a.properties.push(xu`props: ${u}`)):a.properties.push(xu`props: ${p}`)),this.fragment){this.renderer.add_to_context("$$scope",!0);const t=this.slots.get("default");this.fragment.nodes.forEach(e=>{e.render(t.block,null,bu`#nodes`)})}s.compile_options.dev&&a.properties.push(xu`$$inline: true`);const f=new Set(this.fragment?["$$scope"]:[]);this.slots.forEach(t=>{t.block.dependencies.forEach(e=>{const n=t.scope.is_let(e),s=i.component.var_lookup.get(e);(n||lc(s))&&f.add(e)})});const m=Array.from(f).filter(t=>!this.node.scope.is_let(t)),_=this.node.attributes.filter(t=>t.get_dependencies().length>0);if(!h&&(_.length>0||this.node.bindings.length>0||m.length>0)&&l.push(vu`const ${c} = {};`),this.node.attributes.length)if(h){const e=t.get_unique_name(`${this.var.name}_spread_levels`),n=[],s=[],r=new Set;if(this.node.attributes.forEach(t=>{Ou(r,t.dependencies)}),this.node.attributes.forEach((a,o)=>{const{name:l,dependencies:u}=a,c=u.size>0&&u.size!==r.size?i.dirty(Array.from(u)):null;if(a.is_spread){const e=a.expression.manipulate(t);n.push(e);let i=e;"ObjectExpression"!==a.expression.node.type&&(i=bu`@get_spread_object(${e})`),s.push(c?bu`${c} && ${i}`:i)}else{const i=bu`{ ${l}: ${a.get_value(t)} }`;n.push(i),s.push(c?bu`${c} && ${i}`:bu`${e}[${o}]`)}}),t.chunks.init.push(vu`
					const ${e} = [
						${n}
					];
				`),o.push(vu`
					for (let #i = 0; #i < ${e}.length; #i += 1) {
						${u} = @assign(${u}, ${e}[#i]);
					}
				`),r.size){const t=i.dirty(Array.from(r));l.push(vu`
						const ${c} = ${t} ? @get_spread_update(${e}, [
							${s}
						]) : {}
					`)}else l.push(vu`
						const ${c} = {};
					`)}else _.forEach(e=>{const n=e.get_dependencies();if(n.length>0){const s=i.dirty(n);l.push(vu`
							if (${s}) ${c}.${e.name} = ${e.get_value(t)};
						`)}});m.length>0&&l.push(vu`
				if (${i.dirty(m)}) {
					${c}.$$scope = { dirty: #dirty, ctx: #ctx };
				}`);const y=this.node.bindings.map(e=>{if(s.has_reactive_assignments=!0,"this"===e.name)return rc(s,t,e,this.var);const n=s.get_unique_name(`${this.var.name}_${e.name}_binding`);i.add_to_context(n.name);const r=i.reference(n),a=t.get_unique_name(`updating_${e.name}`);t.add_variable(a);const h=e.expression.manipulate(t);o.push(vu`
				if (${h} !== void 0) {
					${u}.${e.name} = ${h};
				}`),l.push(vu`
				if (!${a} && ${i.dirty(Array.from(e.expression.dependencies))}) {
					${a} = true;
					${c}.${e.name} = ${h};
					@add_flush_callback(() => ${a} = false);
				}
			`);const d=Array.from(e.expression.contextual_dependencies),p=Array.from(e.expression.dependencies);let f=e.raw_expression;if(e.is_contextual&&"Identifier"===e.expression.node.type){const{name:n}=e.expression.node,{object:i,property:s,snippet:r}=t.bindings.get(n);f=r,d.push(i.name,s.name)}const m=t.get_unique_name("value"),_=[m];if(d.length>0){const e=[];d.forEach(t=>{_.push({type:"Identifier",name:t}),i.add_to_context(t,!0),e.push(i.reference(t))}),t.chunks.init.push(vu`
					function ${n}(${m}) {
						${r}.call(null, ${m}, ${e});
					}
				`),t.maintain_context=!0}else t.chunks.init.push(vu`
					function ${n}(${m}) {
						${r}.call(null, ${m});
					}
				`);const y=vu`
				function ${n}(${_}) {
					${f} = ${m};
					${i.invalidate(p[0])};
				}
			`;return s.partly_hoisted.push(y),vu`@binding_callbacks.push(() => @bind(${this.var}, '${e.name}', ${n}));`}),g=this.node.handlers.map(e=>{let n=new Pu(e,this).get_snippet(t);return e.modifiers.has("once")&&(n=bu`@once(${n})`),vu`${r}.$on("${e.name}", ${n});`});if("svelte:component"===this.node.name){const i=t.get_unique_name("switch_value"),s=t.get_unique_name("switch_props"),h=this.node.expression.manipulate(t);t.chunks.init.push(vu`
				var ${i} = ${h};

				function ${s}(#ctx) {
					${(this.node.attributes.length>0||this.node.bindings.length>0)&&vu`
					${u&&vu`let ${u} = ${p};`}`}
					${o}
					return ${a};
				}

				if (${i}) {
					var ${r} = new ${i}(${s}(#ctx));

					${y}
					${g}
				}
			`),t.chunks.create.push(vu`if (${r}) @create_component(${r}.$$.fragment);`),n&&this.renderer.options.hydratable&&t.chunks.claim.push(vu`if (${r}) @claim_component(${r}.$$.fragment, ${n});`),t.chunks.mount.push(vu`
				if (${r}) {
					@mount_component(${r}, ${e||"#target"}, ${e?"null":"anchor"});
				}
			`);const d=this.get_or_create_anchor(t,e,n),f=this.get_update_mount_node(d);l.length&&t.chunks.update.push(vu`
					${l}
				`),t.chunks.update.push(vu`
				if (${i} !== (${i} = ${h})) {
					if (${r}) {
						@group_outros();
						const old_component = ${r};
						@transition_out(old_component.$$.fragment, 1, 0, () => {
							@destroy_component(old_component, 1);
						});
						@check_outros();
					}

					if (${i}) {
						${r} = new ${i}(${s}(#ctx));

						${y}
						${g}

						@create_component(${r}.$$.fragment);
						@transition_in(${r}.$$.fragment, 1);
						@mount_component(${r}, ${f}, ${d});
					} else {
						${r} = null;
					}
				} else if (${i}) {
					${l.length&&vu`${r}.$set(${c});`}
				}
			`),t.chunks.intro.push(vu`
				if (${r}) @transition_in(${r}.$$.fragment, #local);
			`),t.chunks.outro.push(vu`if (${r}) @transition_out(${r}.$$.fragment, #local);`),t.chunks.destroy.push(vu`if (${r}) @destroy_component(${r}, ${e?null:"detaching"});`)}else{const i="svelte:self"===this.node.name?s.name:this.renderer.reference(this.node.name);t.chunks.init.push(vu`
				${(this.node.attributes.length>0||this.node.bindings.length>0)&&vu`
				${u&&vu`let ${u} = ${p};`}`}
				${o}
				const ${r} = new ${i}(${a});

				${y}
				${g}
			`),t.chunks.create.push(vu`@create_component(${r}.$$.fragment);`),n&&this.renderer.options.hydratable&&t.chunks.claim.push(vu`@claim_component(${r}.$$.fragment, ${n});`),t.chunks.mount.push(vu`@mount_component(${r}, ${e||"#target"}, ${e?"null":"anchor"});`),t.chunks.intro.push(vu`
				@transition_in(${r}.$$.fragment, #local);
			`),l.length&&t.chunks.update.push(vu`
					${l}
					${r}.$set(${c});
				`),t.chunks.destroy.push(vu`
				@destroy_component(${r}, ${e?null:"detaching"});
			`),t.chunks.outro.push(vu`@transition_out(${r}.$$.fragment, #local);`)}}},MustacheTag:class extends uc{constructor(t,e,n,i){super(t,e,n,i),this.var={type:"Identifier",name:"t"}}render(t,e,n){const{init:i}=this.rename_this_method(t,t=>bu`@set_data(${this.var}, ${t});`);t.add_element(this.var,bu`@text(${i})`,n&&bu`@claim_text(${n}, ${i})`,e)}},Options:null,RawMustacheTag:class extends uc{constructor(t,e,n,i){super(t,e,n,i),this.var={type:"Identifier",name:"raw"},this.cannot_use_innerhtml(),this.not_static_content()}render(t,e,n){const i=wu(e);if(i||!e||this.prev||this.next){const n=i||this.next&&!this.next.is_dom_node(),s=t.get_unique_name("html_tag"),r=n&&t.get_unique_name("html_anchor");t.add_variable(s);const{init:a}=this.rename_this_method(t,t=>bu`${s}.p(${t});`),o=i?"null":n?r:this.next?this.next.var:"null";t.chunks.hydrate.push(vu`${s} = new @HtmlTag(${a}, ${o});`),t.chunks.mount.push(vu`${s}.m(${e||"#target"}, ${e?null:"anchor"});`),n&&t.add_element(r,bu`@empty()`,bu`@empty()`,e),e&&!i||t.chunks.destroy.push(vu`if (detaching) ${s}.d();`)}else{const n=t=>vu`${e}.innerHTML = ${t};`[0],{init:i}=this.rename_this_method(t,t=>n(t));t.chunks.mount.push(n(i))}}},Slot:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i),this.var={type:"Identifier",name:"slot"},this.dependencies=new Set(["$$scope"]),this.cannot_use_innerhtml(),this.not_static_content(),this.fragment=new bc(t,e,i.children,n,s,r),this.node.values.forEach(t=>{Ou(this.dependencies,t.dependencies)}),e.add_dependencies(this.dependencies),e.add_intro(),e.add_outro()}render(t,e,n){const{renderer:i}=this,{slot_name:s}=this.node;let r,a;if(this.node.values.size>0){r=i.component.get_unique_name(`get_${al(s)}_slot_changes`),a=i.component.get_unique_name(`get_${al(s)}_slot_context`);const e=bu`{}`,n=new Set;this.node.values.forEach(t=>{t.chunks.forEach(t=>{t.dependencies&&(Ou(n,t.contextual_dependencies),t.dependencies.forEach(t=>{const e=i.component.var_lookup.get(t);e&&!e.hoistable&&n.add(t)}))});const s=Array.from(t.dependencies).filter(t=>!!this.node.scope.is_let(t)||lc(i.component.var_lookup.get(t)));s.length>0&&e.properties.push(xu`${t.name}: ${i.dirty(s)}`)}),i.blocks.push(vu`
				const ${r} = #dirty => ${e};
				const ${a} = #ctx => ${cc(this.node.values,t)};
			`)}else r="null",a="null";const o=t.get_unique_name(`${al(s)}_slot`),l=t.get_unique_name(`${al(s)}_slot_template`);t.chunks.init.push(vu`
			const ${l} = ${i.reference("$$slots")}.${s};
			const ${o} = @create_slot(${l}, #ctx, ${i.reference("$$scope")}, ${a});
		`);const{create:u,claim:c,hydrate:h,mount:d,update:p,destroy:f}=t.chunks;t.chunks.create=[],t.chunks.claim=[],t.chunks.hydrate=[],t.chunks.mount=[],t.chunks.update=[],t.chunks.destroy=[];const m=t.event_listeners;t.event_listeners=[],this.fragment.render(t,e,n),t.render_listeners(`_${o.name}`),t.event_listeners=m,t.chunks.create.length&&u.push(vu`if (!${o}) { ${t.chunks.create} }`),t.chunks.claim.length&&c.push(vu`if (!${o}) { ${t.chunks.claim} }`),t.chunks.hydrate.length&&h.push(vu`if (!${o}) { ${t.chunks.hydrate} }`),t.chunks.mount.length&&d.push(vu`if (!${o}) { ${t.chunks.mount} }`),t.chunks.update.length&&p.push(vu`if (!${o}) { ${t.chunks.update} }`),t.chunks.destroy.length&&f.push(vu`if (!${o}) { ${t.chunks.destroy} }`),t.chunks.create=u,t.chunks.claim=c,t.chunks.hydrate=h,t.chunks.mount=d,t.chunks.update=p,t.chunks.destroy=f,t.chunks.create.push(vu`if (${o}) ${o}.c();`),i.options.hydratable&&t.chunks.claim.push(vu`if (${o}) ${o}.l(${n});`),t.chunks.mount.push(vu`
			if (${o}) {
				${o}.m(${e||"#target"}, ${e?"null":"anchor"});
			}
		`),t.chunks.intro.push(vu`@transition_in(${o}, #local);`),t.chunks.outro.push(vu`@transition_out(${o}, #local);`);const _=Array.from(this.dependencies).filter(t=>"$$scope"===t||(!!this.node.scope.is_let(t)||lc(i.component.var_lookup.get(t))));t.chunks.update.push(vu`
			if (${o} && ${o}.p && ${i.dirty(_)}) {
				${o}.p(
					@get_slot_context(${l}, #ctx, ${i.reference("$$scope")}, ${a}),
					@get_slot_changes(${l}, ${i.reference("$$scope")}, #dirty, ${r})
				);
			}
		`),t.chunks.destroy.push(vu`if (${o}) ${o}.d(detaching);`)}},Text:dc,Title:class extends $u{constructor(t,e,n,i,s,r){super(t,e,n,i)}render(t,e,n){if(this.node.children.find(t=>"Text"!==t.type)){let e;const n=new Set;if(1===this.node.children.length){const{expression:i}=this.node.children[0];e=i.manipulate(t),Ou(n,i.dependencies)}else e=this.node.children.map(e=>"Text"===e.type?Mu(e.data):(e.expression.dependencies.forEach(t=>{n.add(t)}),e.expression.manipulate(t))).reduce((t,e)=>bu`${t} + ${e}`),"Text"!==this.node.children[0].type&&(e=bu`"" + ${e}`);const i=this.node.should_cache&&t.get_unique_name("title_value");this.node.should_cache&&t.add_variable(i);const s=this.node.should_cache?bu`${i} = ${e}`:e;t.chunks.init.push(vu`@_document.title = ${s};`);const r=vu`@_document.title = ${this.node.should_cache?i:e};`;if(n.size){const s=Array.from(n);let a=t.renderer.dirty(s);t.has_outros&&(a=bu`!#current || ${a}`),this.node.should_cache&&(a=bu`${a} && (${i} !== (${i} = ${e}))`),t.chunks.update.push(vu`
					if (${a}) {
						${r}
					}`)}}else{const e=this.node.children.length>0?Mu(this.node.children[0].data):bu`""`;t.chunks.hydrate.push(vu`@_document.title = ${e};`)}}},Window:_c};function gc(t,e){e.next=t,t&&(t.prev=e)}function vc(t,e){return e.node.find_nearest(/EachBlock/)===t.find_nearest(/EachBlock/)||"EachBlock"===e.node.prev.type}class bc{constructor(t,e,n,i,s,r){let a,o;this.nodes=[];let l=n.length;for(;l--;){const u=n[l];if(!u.type)throw new Error("missing type");if(!(u.type in yc))throw new Error(`TODO implement ${u.type}`);if("Window"!==u.type)if("Text"===u.type){let{data:n}=u;if(0===this.nodes.length&&(r?"Text"===r.node.type&&/^\s/.test(r.node.data)&&vc(u,r):!u.has_ancestor("EachBlock"))&&(n=El(n),!n))continue;if(a&&"Text"===a.node.type){a.data=n+a.data;continue}const s=new dc(t,e,i,u,n);if(s.skip)continue;this.nodes.unshift(s),gc(a,a=s)}else{const n=yc[u.type];if(!n)continue;const o=new n(t,e,i,u,s,a||r);this.nodes.unshift(o),gc(a,a=o)}else o=new _c(t,e,i,u)}if(s){const t=this.nodes[0];t&&"Text"===t.node.type&&(t.data=Al(t.data),t.data||(t.var=null,this.nodes.shift(),this.nodes[0]&&(this.nodes[0].prev=null)))}o&&(this.nodes.unshift(o),gc(a,o))}render(t,e,n){for(let i=0;i<this.nodes.length;i+=1)this.nodes[i].render(t,e,n)}}class xc{constructor(t,e){this.context=[],this.context_lookup=new Map,this.blocks=[],this.readonly=new Set,this.meta_bindings=[],this.binding_groups=[],this.component=t,this.options=e,this.locate=t.locate,this.file_var=e.dev&&this.component.get_unique_name("file"),t.vars.filter(t=>!t.hoistable||t.export_name&&!t.module).forEach(t=>this.add_to_context(t.name)),t.vars.filter(t=>t.subscribable).forEach(t=>this.add_to_context(`$${t.name}`)),t.var_lookup.has("$$props")&&this.add_to_context("$$props"),t.slots.size>0&&(this.add_to_context("$$scope"),this.add_to_context("$$slots")),this.binding_groups.length>0&&this.add_to_context("$$binding_groups"),this.block=new Su({renderer:this,name:null,type:"component",key:null,bindings:new Map,dependencies:new Set}),this.block.has_update_method=!0,this.fragment=new bc(this,this.block,t.fragment.children,null,!0,null),this.context_overflow=this.context.length>31,this.blocks.forEach(t=>{t instanceof Su&&t.assign_variable_names()}),this.block.assign_variable_names(),this.fragment.render(this.block,null,bu`#nodes`),this.context.forEach(t=>{const{variable:e}=t;e&&(t.priority+=2,(e.mutated||e.reassigned)&&(t.priority+=4),e.export_name&&(t.priority+=8),e.referenced&&(t.priority+=16)),t.is_contextual||(t.priority+=1)}),this.context.sort((t,e)=>e.priority-t.priority||t.index.value-e.index.value),this.context.forEach((t,e)=>t.index.value=e)}add_to_context(t,e=!1){if(!this.context_lookup.has(t)){const e={name:t,index:{type:"Literal",value:this.context.length},is_contextual:!1,is_non_contextual:!1,variable:null,priority:0};this.context_lookup.set(t,e),this.context.push(e)}const n=this.context_lookup.get(t);if(e)n.is_contextual=!0;else{n.is_non_contextual=!0;const e=this.component.var_lookup.get(t);n.variable=e}return n}invalidate(t,e){const n=this.component.var_lookup.get(t),i=this.context_lookup.get(t);if(n&&n.subscribable&&(n.reassigned||n.export_name))return bu`${`$$subscribe_${t}`}($$invalidate(${i.index}, ${e||t}))`;if("$"===t[0]&&"$"!==t[1])return bu`${t.slice(1)}.set(${e||t})`;if(n&&!n.referenced&&!n.is_reactive_dependency&&!n.export_name&&!t.startsWith("$$"))return e||t;if(e)return bu`$$invalidate(${i.index}, ${e})`;const s=new Set([t]);s.forEach(t=>{this.component.reactive_declarations.filter(e=>e.assignees.has(t)).forEach(t=>{t.dependencies.forEach(t=>{s.add(t)})})});const r=Array.from(s).filter(t=>this.context_lookup.has(t));return r.length?r.map(t=>bu`$$invalidate(${this.context_lookup.get(t).index}, ${t})`).reduce((t,e)=>bu`${t}, ${e}}`):null}dirty(t,e=!1){const n=this,i=e?bu`$$self.$$.dirty`:bu`#dirty`;let s,r,a,o;return{get type(){if(!s)if(s=(()=>{const e=[];return t.forEach(t=>{const i=n.context_lookup.get(t);if(!i)return;if(-1===i.index.value)throw new Error("unset index");const s=i.index.value,r=s/31|0,a=1<<s%31;e[r]||(e[r]={n:0,names:[]}),e[r].n|=a,e[r].names.push(t)}),e})(),s.length)if(n.context_overflow){const t=s.map((t,e)=>({b:t,i:e})).filter(({b:t})=>t).map(({b:t,i:e})=>bu`${i}[${e}] & /*${t.names.join(", ")}*/ ${t.n}`).reduce((t,e)=>bu`${t} | ${e}`);({operator:r,left:a,right:o}=t)}else({operator:r,left:a,right:o}=bu`${i} & /*${t.join(", ")}*/ ${s[0].n}`);else({operator:r,left:a,right:o}=bu`${i} & /*${t.join(", ")}*/ 0`);return"BinaryExpression"},get operator(){return r},get left(){return a},get right(){return o}}}reference(t){"string"==typeof t&&(t={type:"Identifier",name:t});const{name:e,nodes:n}=Ku(t),i=this.context_lookup.get(e);if(this.component.var_lookup.get(e)&&this.component.add_reference(e),void 0!==i){const t=bu`/*${i.name}*/ #ctx[${i.index}]`;return n[0].loc&&(t.object.loc=n[0].loc),n[0]=t,n.reduce((t,e)=>bu`${t}.${e}`)}return t}}function kc(t){return Vl(t)}function wc(t,e,n,i){const{component:s}=t,[r,...a]=Array.from(i).filter(t=>{const n=e.find_owner(t);if(n&&n!==s.instance_scope)return!1;const i=s.var_lookup.get(t);return i&&!i.hoistable&&!i.global&&!i.module&&(i.referenced||i.subscribable||i.is_reactive_dependency||i.export_name||"$"===i.name[0])});if(r){if(s.has_reactive_assignments=!0,"AssignmentExpression"===n.type&&"="===n.operator&&function t(e,n){if(!!e!=!!n)return!1;if(Array.isArray(e)!==Array.isArray(n))return!1;if(e&&"object"==typeof e){if(Array.isArray(e))return e.length===n.length&&e.every((e,i)=>t(e,n[i]));const i=Object.keys(e).sort(),s=Object.keys(n).sort();if(i.length!==s.length)return!1;let r=i.length;for(;r--;){const a=i[r];if(s[r]!==a)return!1;if("start"!==a&&"end"!==a&&!t(e[a],n[a]))return!1}return!0}return e===n}(n.left,n.right)&&0===a.length)return t.invalidate(r);{const e="$"===r[0],i=s.var_lookup.get(r),o=a.map(e=>t.invalidate(e));(o.length>0||"AssignmentExpression"===n.type&&"Identifier"!==n.left.type||"UpdateExpression"===n.type&&!n.prefix)&&o.unshift({type:"Identifier",name:r});let l=e?bu`@set_store_value(${r.slice(1)}, ${n}, ${o})`:bu`$$invalidate(${t.context_lookup.get(r).index}, ${n}, ${o})`;return i.subscribable&&i.reassigned&&(l=bu`${`$$subscribe_${r}`}(${l})}`),l}}return n}function Sc(t,e){const{name:n}=t,i=new xc(t,e),{block:s}=i;s.has_outro_method=!0,e.customElement&&s.chunks.create.push(vu`this.c = @noop;`);const r=[];if(i.file_var){const e=t.file?bu`"${t.file}"`:bu`undefined`;r.push(vu`const ${i.file_var} = ${e};`)}const a=t.stylesheet.render(e.filename,!e.customElement),o=t.stylesheet.has_styles&&e.dev?`${a.code}\n/*# sourceMappingURL=${a.map.toUrl()} */`:a.code,l=t.get_unique_name("add_css"),u=!e.customElement&&!!o&&!1!==e.css;u&&r.push(vu`
			function ${l}() {
				var style = @element("style");
				style.id = "${t.stylesheet.id}-style";
				style.textContent = "${o}";
				@append(@_document.head, style);
			}
		`);const c=i.blocks.slice().reverse();r.push(...c.map(t=>t.render?t.render():t)),e.dev&&!e.hydratable&&s.chunks.claim.push(vu`throw new @_Error("options.hydrate only works if the component was compiled with the \`hydratable: true\` option");`);const h=t.var_lookup.has("$$props"),d=h?"$$new_props":"$$props",p=t.vars.filter(t=>!t.module&&t.export_name),f=p.filter(t=>t.writable),m=h||f.length>0||t.slots.size>0?bu`
			${d} => {
				${h&&i.invalidate("$$props",bu`$$props = @assign(@assign({}, $$props), @exclude_internal_props($$new_props))`)}
				${f.map(t=>vu`if ('${t.export_name}' in ${d}) ${i.invalidate(t.name,bu`${t.name} = ${d}.${t.export_name}`)};`)}
				${t.slots.size>0&&vu`if ('$$scope' in ${d}) ${i.invalidate("$$scope",bu`$$scope = ${d}.$$scope`)};`}
			}
		`:null,_=[],y=t.component_options.immutable?bu`@not_equal`:bu`@safe_not_equal`;let g,v,b;if(p.forEach(e=>{const n=t.var_lookup.get(e.name);!n.writable||t.component_options.accessors?_.push({type:"MethodDefinition",kind:"get",key:{type:"Identifier",name:e.export_name},value:bu`function() {
					return ${e.hoistable?e.name:bu`this.$$.ctx[${i.context_lookup.get(e.name).index}]`}
				}`}):t.compile_options.dev&&_.push({type:"MethodDefinition",kind:"get",key:{type:"Identifier",name:e.export_name},value:bu`function() {
					throw new @_Error("<${t.tag}>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
				}`}),t.component_options.accessors?n.writable&&!i.readonly.has(e.name)?_.push({type:"MethodDefinition",kind:"set",key:{type:"Identifier",name:e.export_name},value:bu`function(${e.name}) {
						this.$set({ ${e.export_name}: ${e.name} });
						@flush();
					}`}):t.compile_options.dev&&_.push({type:"MethodDefinition",kind:"set",key:{type:"Identifier",name:e.export_name},value:bu`function(value) {
						throw new @_Error("<${t.tag}>: Cannot set read-only property '${e.export_name}'");
					}`}):t.compile_options.dev&&_.push({type:"MethodDefinition",kind:"set",key:{type:"Identifier",name:e.export_name},value:bu`function(value) {
					throw new @_Error("<${t.tag}>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
				}`})}),t.compile_options.dev){const n=p.filter(t=>t.writable&&!t.initialised);n.length&&(g=vu`
				const { ctx: #ctx } = this.$$;
				const props = ${e.customElement?bu`this.attributes`:bu`options.props || {}`};
				${n.map(e=>vu`
				if (${i.reference(e.name)} === undefined && !('${e.export_name}' in props)) {
					@_console.warn("<${t.tag}> was created without expected prop '${e.export_name}'");
				}`)}
			`),b=h||f.length>0?bu`
			() => {
				return { ${t.vars.filter(t=>t.writable).map(t=>xu`${t.name}`)} };
			}
		`:bu`
			() => {
				return {};
			}
		`;const s=t.vars.filter(t=>!t.module&&t.writable);v=h||s.length>0?bu`
			${d} => {
				${h&&i.invalidate("$$props",bu`$$props = @assign(@assign({}, $$props), $$new_props)`)}
				${s.map(t=>vu`
					if ('${t.name}' in $$props) ${i.invalidate(t.name,bu`${t.name} = ${d}.${t.name}`)};
				`)}
			}
		`:bu`
			${d} => {}
		`}if(t.ast.instance){let e=t.instance_scope;const n=t.instance_scope_map;Bo(t.ast.instance.content,{enter:t=>{n.has(t)&&(e=n.get(t))},leave(t){if(n.has(t)&&(e=e.parent),"AssignmentExpression"===t.type||"UpdateExpression"===t.type){const n="AssignmentExpression"===t.type?t.left:t.argument,s=new Set(Ul(n));this.replace(wc(i,e,t,s))}}}),t.rewrite_props(({name:e,reassigned:n,export_name:s})=>{const r=`$${e}`,a=i.context_lookup.get(`$${e}`).index,o=n||s?vu`${`$$subscribe_${e}`}()`:vu`@component_subscribe($$self, ${e}, #value => $$invalidate(${a}, ${r} = #value))`;return t.compile_options.dev?vu`@validate_store(${e}, '${e}'); ${o}`:o})}const x=[bu`$$self`];(p.length>0||t.has_reactive_assignments||t.slots.size>0)&&x.push(bu`$$props`,bu`$$invalidate`);const k=s.has_content();k&&r.push(vu`
			function create_fragment(#ctx) {
				${s.get_contents()}
			}
		`),r.push(vu`
		${t.extract_javascript(t.ast.module)}

		${t.fully_hoisted}
	`);const w=p.filter(e=>!t.var_lookup.get(e.name).hoistable&&"$"!==e.name[0]),S=t.vars.filter(t=>"$"===t.name[0]&&"$"!==t.name[1]),$=t.extract_javascript(t.ast.instance);let T=i.context.length;for(;T--;){const t=i.context[T];if(t.variable){if(t.variable.referenced||t.variable.export_name)break}else if(t.is_non_contextual)break}const A=i.context.slice(0,T+1),E=$&&$.length>0||w.length>0||h||t.partly_hoisted.length>0||A.length>0||t.reactive_declarations.length>0,C=E?t.alias("instance"):{type:"Literal",value:null},P=S.filter(e=>{const n=t.var_lookup.get(e.name.slice(1));return!n||n.hoistable}).map(({name:e})=>vu`
			${t.compile_options.dev&&vu`@validate_store(${e.slice(1)}, '${e.slice(1)}');`}
			@component_subscribe($$self, ${e.slice(1)}, $$value => $$invalidate(${i.context_lookup.get(e).index}, ${e} = $$value));
		`),O=S.filter(e=>{const n=t.var_lookup.get(e.name.slice(1));return n&&(n.reassigned||n.export_name)}).map(({name:t})=>vu`$$self.$$.on_destroy.push(() => ${`$$unsubscribe_${t.slice(1)}`}());`);if(E){const e=[],n=[];t.reactive_declarations.forEach(s=>{const r=Array.from(s.dependencies),a=!!r.find(t=>"$$props"===t),o=r.filter(e=>{const n=t.var_lookup.get(e);return n&&(n.export_name||n.mutated||n.reassigned)}),l=!a&&o.length>0&&i.dirty(o,!0);let u=s.node;l&&(u=vu`if (${l}) { ${u} }`[0]),l||a?e.push(u):n.push(u)});const s=Array.from(t.injected_reactive_declaration_vars).filter(e=>{const n=t.var_lookup.get(e);return n.injected&&"$"!==n.name[0]}),a=S.map(e=>{const n=e.name,s=n.slice(1),r=t.var_lookup.get(s);if(r&&(r.reassigned||r.export_name)){const t=`$$unsubscribe_${s}`;return vu`let ${n}, ${t} = @noop, ${`$$subscribe_${s}`} = () => (${t}(), ${t} = @subscribe(${s}, $$value => $$invalidate(${i.context_lookup.get(n).index}, ${n} = $$value)), ${s})`}return vu`let ${n};`});let o;t.compile_options.dev&&!t.var_lookup.has("$$props")&&f.length&&(o=vu`
				const writable_props = [${f.map(t=>bu`'${t.export_name}'`)}];
				@_Object.keys($$props).forEach(key => {
					if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$') @_console.warn(\`<${t.tag}> was created with unknown prop '\${key}'\`);
				});
			`);const l={type:"ArrayExpression",elements:A.map(t=>({type:"Identifier",name:t.name}))};r.push(vu`
			function ${C}(${x}) {
				${a}

				${P}

				${O}

				${$}

				${o}

				${t.slots.size?vu`let { $$slots = {}, $$scope } = $$props;`:null}

				${i.binding_groups.length>0&&vu`const $$binding_groups = [${i.binding_groups.map(t=>bu`[]`)}];`}

				${t.partly_hoisted}

				${m&&vu`$$self.$set = ${m};`}

				${b&&bu`$$self.$capture_state = ${b};`}

				${v&&bu`$$self.$inject_state = ${v};`}

				${s.map(t=>vu`let ${t};`)}

				${e.length>0&&vu`
				$$self.$$.update = () => {
					${e}
				};
				`}

				${n}

				${h&&vu`$$props = @exclude_internal_props($$props);`}

				return ${l};
			}
		`)}const q=bu`{
		${p.filter(t=>t.export_name&&!t.module).map(t=>xu`${t.export_name}: ${i.context_lookup.get(t.name).index}`)}
	}`;let M;if(i.context_overflow){M=bu`[]`;for(let t=0;t<i.context.length;t+=31)M.elements.push(bu`-1`)}if(e.customElement){const i=vu`
			class ${n} extends @SvelteElement {
				constructor(options) {
					super();

					${a.code&&vu`this.shadowRoot.innerHTML = \`<style>${a.code.replace(/\\/g,"\\\\")}${e.dev?`\n/*# sourceMappingURL=${a.map.toUrl()} */`:""}</style>\`;`}

					@init(this, { target: this.shadowRoot }, ${C}, ${k?"create_fragment":"null"}, ${y}, ${q}, ${M});

					${g}

					if (options) {
						if (options.target) {
							@insert(options.target, this, options.anchor);
						}

						${(p.length>0||h)&&vu`
						if (options.props) {
							this.$set(options.props);
							@flush();
						}`}
					}
				}
			}
		`[0];p.length>0&&i.body.body.push({type:"MethodDefinition",kind:"get",static:!0,computed:!1,key:{type:"Identifier",name:"observedAttributes"},value:bu`function() {
					return [${p.map(t=>bu`"${t.export_name}"`)}];
				}`}),i.body.body.push(..._),r.push(i),null!=t.tag&&r.push(vu`
				@_customElements.define("${t.tag}", ${n});
			`)}else{const i=vu`
			class ${n} extends ${{type:"Identifier",name:e.dev?"@SvelteComponentDev":"@SvelteComponent"}} {
				constructor(options) {
					super(${e.dev&&"options"});
					${u&&vu`if (!@_document.getElementById("${t.stylesheet.id}-style")) ${l}();`}
					@init(this, options, ${C}, ${k?"create_fragment":"null"}, ${y}, ${q}, ${M});
					${e.dev&&vu`@dispatch_dev("SvelteRegisterComponent", { component: this, tagName: "${n.name}", options, id: create_fragment.name });`}

					${g}
				}
			}
		`[0];i.body.body.push(..._),r.push(i)}return function t(e,n){for(let i=0;i<e.length;i+=1){const s=e[i];Array.isArray(s)?t(s,n):n.push(s)}return n}(r,[])}function $c(t){return 2===t.chunks.length&&t.chunks[1].synthetic?bu`@escape(@null_to_empty(${t.chunks[0].node})) + "${t.chunks[1].data}"`:Tc(t)}function Tc(t){return 0===t.chunks.length?bu`""`:t.chunks.map(t=>"Text"===t.type?Mu(t.data.replace(/"/g,"&quot;")):bu`@escape(${t.node})`).reduce((t,e)=>bu`${t} + ${e}`)}function Ac(t){return 0===t.length?null:{type:"ObjectPattern",properties:t.map(t=>({type:"Property",kind:"init",method:!1,shorthand:!1,computed:!1,key:t.name,value:t.value||t.name}))}}const Ec=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function Cc(t){return t.is_true?bu`true`:0===t.chunks.length?bu`''`:t.chunks.map(t=>"Text"===t.type?Mu(t.data):t.node).reduce((t,e)=>bu`${t} + ${e}`)}function Pc(){}const Oc={AwaitBlock:function(t,e,n){e.push(),e.render(t.pending.children,n);const i=e.pop();e.push(),e.render(t.then.children,n);const s=e.pop();e.add_expression(bu`
		(function(__value) {
			if (@is_promise(__value)) return ${i};
			return (function(${t.value}) { return ${s}; }(__value));
		}(${t.expression.node}))
	`)},Body:Pc,Comment:function(t,e,n){},DebugTag:function(t,e,n){if(!n.dev)return;const i=n.filename||null,{line:s,column:r}=n.locate(t.start+1),a=bu`{
		${t.expressions.map(t=>xu`${t.node.name}`)}
	}`;e.add_expression(bu`@debug(${i?bu`"${i}"`:bu`null`}, ${s-1}, ${r}, ${a})`)},EachBlock:function(t,e,n){const i=[t.context_node];t.index&&i.push({type:"Identifier",name:t.index}),e.push(),e.render(t.children,n);const s=e.pop(),r=bu`@each(${t.expression.node}, (${i}) => ${s})`;if(t.else){e.push(),e.render(t.else.children,n);const i=e.pop();e.add_expression(bu`${t.expression.node}.length ? ${r} : ${i}`)}else e.add_expression(r)},Element:function(t,e,n){let i;const s="textarea"!==t.name&&"input"!==t.name&&t.attributes.some(t=>"contenteditable"===t.name),r=t.get_static_attribute_value("slot"),a=t.find_nearest(/InlineComponent/);r&&a&&e.push(),e.add_string(`<${t.name}`);const o=t.classes.map(t=>{const{expression:e,name:n}=t;return bu`${e?e.node:bu`#ctx.${n}`} ? "${n}" : ""`});t.needs_manual_style_scoping&&o.push(bu`"${t.component.stylesheet.id}"`);const l=o.length>0&&o.reduce((t,e)=>bu`${t} + ' ' + ${e}`);if(t.attributes.some(t=>t.is_spread)){const n=[];t.attributes.forEach(e=>{if(e.is_spread)n.push(e.expression.node);else{const s=e.name.toLowerCase();"value"===s&&"textarea"===t.name.toLowerCase()?i=Tc(e):e.is_true?n.push(bu`{ ${e.name}: true }`):Ec.has(s)&&1===e.chunks.length&&"Text"!==e.chunks[0].type?n.push(bu`{ ${e.name}: ${e.chunks[0].node} || null }`):n.push(bu`{ ${e.name}: ${Tc(e)} }`)}}),e.add_expression(bu`@spread([${n}], ${l});`)}else{let n=!!l;t.attributes.forEach(s=>{const r=s.name.toLowerCase();if("value"===r&&"textarea"===t.name.toLowerCase())i=Tc(s);else if(s.is_true)e.add_string(` ${s.name}`);else if(Ec.has(r)&&1===s.chunks.length&&"Text"!==s.chunks[0].type)e.add_string(" "),e.add_expression(bu`${s.chunks[0].node} ? "${s.name}" : ""`);else if("class"===r&&l)n=!1,e.add_string(` ${s.name}="`),e.add_expression(bu`[${$c(s)}, ${l}].join(' ').trim()`),e.add_string('"');else if(1===s.chunks.length&&"Text"!==s.chunks[0].type){const t=s.chunks[0].node;e.add_expression(bu`@add_attribute("${s.name}", ${t}, ${Ec.has(r)?1:0})`)}else e.add_string(` ${s.name}="`),e.add_expression(("class"===r?$c:Tc)(s)),e.add_string('"')}),n&&e.add_expression(bu`@add_classes([${l}].join(' ').trim())`)}if(t.bindings.forEach(n=>{const{name:r,expression:a}=n;if(!n.is_readonly)if("group"===r);else if(!s||"textContent"!==r&&"innerHTML"!==r)if("value"===n.name&&"textarea"===t.name){const t=a.node;i=bu`${t} || ""`}else{const t=a.node;e.add_expression(bu`@add_attribute("${r}", ${t}, 1)`)}else i=a.node}),e.add_string(">"),void 0!==i){if(s){e.push(),e.render(t.children,n);const s=e.pop();e.add_expression(bu`($$value => $$value === void 0 ? ${s} : $$value)(${i})`)}else e.add_expression(i);rl(t.name)||e.add_string(`</${t.name}>`)}else if(r&&a){e.render(t.children,n),rl(t.name)||e.add_string(`</${t.name}>`);const i=t.lets,s=new Set(i.map(t=>t.name.name));a.lets.forEach(t=>{s.has(t.name.name)||i.push(t)}),n.slot_scopes.set(r,{input:Ac(t.lets),output:e.pop()})}else e.render(t.children,n),rl(t.name)||e.add_string(`</${t.name}>`)},Head:function(t,e,n){e.push(),e.render(t.children,n);const i=e.pop();e.add_expression(bu`($$result.head += ${i}, "")`)},IfBlock:function(t,e,n){const i=t.expression.node;e.push(),e.render(t.children,n);const s=e.pop();e.push(),t.else&&e.render(t.else.children,n);const r=e.pop();e.add_expression(bu`${i} ? ${s} : ${r}`)},InlineComponent:function(t,e,n){const i=[],s=[];let r;t.bindings.forEach(t=>{e.has_bindings=!0;const n=t.expression.node;i.push(xu`${t.name}: ${n}`),s.push(xu`${t.name}: $$value => { ${n} = $$value; $$settled = false }`)}),r=t.attributes.find(t=>t.is_spread)?bu`@_Object.assign(${t.attributes.map(t=>t.is_spread?t.expression.node:bu`{ ${t.name}: ${Cc(t)} }`).concat(i.map(t=>bu`{ ${t} }`))})`:bu`{
			${t.attributes.map(t=>xu`${t.name}: ${Cc(t)}`)},
			${i}
		}`;const a=bu`{
		${s}
	}`,o="svelte:self"===t.name?e.name:"svelte:component"===t.name?bu`(${t.expression.node}) || @missing_component`:t.name.split(".").reduce((t,e)=>bu`${t}.${e}`),l=[];if(t.children.length){const i=new Map;e.push(),e.render(t.children,Object.assign({},n,{slot_scopes:i})),i.set("default",{input:Ac(t.lets),output:e.pop()}),i.forEach(({input:t,output:e},n)=>{l.push(xu`${n}: (${t}) => ${e}`)})}const u=bu`{
		${l}
	}`;e.add_expression(bu`@validate_component(${o}, "${t.name}").$$render($$result, ${r}, ${a}, ${u})`)},MustacheTag:function(t,e,n){const i=t.expression.node;e.add_expression(t.parent&&"Element"===t.parent.type&&"style"===t.parent.name?i:bu`@escape(${i})`)},Options:Pc,RawMustacheTag:function(t,e,n){e.add_expression(t.expression.node)},Slot:function(t,e,n){const i=cc(t.values);e.push(),e.render(t.children,n);const s=e.pop();e.add_expression(bu`
		$$slots.${t.slot_name}
			? $$slots.${t.slot_name}(${i})
			: ${s}
	`)},Text:function(t,e,n){let i=t.data;(!t.parent||"Element"!==t.parent.type||"script"!==t.parent.name&&"style"!==t.parent.name)&&(i=Ru(i)),e.add_string(i)},Title:function(t,e,n){e.add_string("<title>"),e.render(t.children,n),e.add_string("</title>")},Window:Pc};class qc{constructor({name:t}){this.has_bindings=!1,this.stack=[],this.targets=[],this.name=t,this.push()}add_string(t){this.current.value+=function(t){return t.replace(/(\${|`|\\)/g,"\\$1")}(t)}add_expression(t){this.literal.quasis.push({type:"TemplateElement",value:{raw:this.current.value,cooked:null},tail:!1}),this.literal.expressions.push(t),this.current.value=""}push(){const t=this.current={value:""},e=this.literal={type:"TemplateLiteral",expressions:[],quasis:[]};this.stack.push({current:t,literal:e})}pop(){this.literal.quasis.push({type:"TemplateElement",value:{raw:this.current.value,cooked:null},tail:!0});const t=this.stack.pop(),e=this.stack[this.stack.length-1];return e&&(this.literal=e.literal,this.current=e.current),t.literal}render(t,e){t.forEach(t=>{const n=Oc[t.type];if(!n)throw new Error(`No handler for '${t.type}' nodes`);n(t,this,e)})}}const Mc={esm:Nc,cjs:Ic};function Lc(t,e){return"svelte"===t||t.startsWith("svelte/")?t.replace("svelte",e):t}function Rc(t,e){return t.length>0&&{type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"ObjectPattern",properties:t.map(t=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:{type:"Identifier",name:t.name},value:t.alias,kind:"init"}))},init:e.find(({name:t})=>"globals"===t).alias}]}}function Nc(t,e,n,i,s,r,a,o,l){const u={type:"ImportDeclaration",specifiers:r.map(t=>({type:"ImportSpecifier",local:t.alias,imported:{type:"Identifier",name:t.name}})),source:{type:"Literal",value:s}},c=Rc(a,r);o.forEach(t=>{t.source.value=Lc(t.source.value,i)});const h=l.length>0&&{type:"ExportNamedDeclaration",specifiers:l.map(t=>({type:"Specifier",local:{type:"Identifier",name:t.name},exported:{type:"Identifier",name:t.as}}))};t.body=vu`
		/* ${n} */

		${u}
		${c}
		${o}

		${t.body}

		export default ${e};
		${h}
	`}function Ic(t,e,n,i,s,r,a,o,l){const u={type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"ObjectPattern",properties:r.map(t=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:{type:"Identifier",name:t.name},value:t.alias,kind:"init"}))},init:bu`require("${s}")`}]},c=Rc(a,r),h=o.map(t=>{const e=bu`require("${Lc(t.source.value,i)}")`;return 0===t.specifiers.length?vu`${e};`:{type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:"ImportNamespaceSpecifier"===t.specifiers[0].type?{type:"Identifier",name:t.specifiers[0].local.name}:{type:"ObjectPattern",properties:t.specifiers.map(t=>({type:"Property",method:!1,shorthand:!1,computed:!1,key:"ImportSpecifier"===t.type?t.imported:{type:"Identifier",name:"default"},value:t.local,kind:"init"}))},init:e}]}}),d=l.map(t=>vu`exports.${{type:"Identifier",name:t.as}} = ${{type:"Identifier",name:t.name}};`);t.body=vu`
		/* ${n} */

		"use strict";
		${u}
		${c}
		${h}

		${t.body}

		exports.default = ${e};
		${d}
	`}var Fc=function(t,e,n){this.start=t,this.end=e,this.original=n,this.intro="",this.outro="",this.content=n,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};Fc.prototype.appendLeft=function(t){this.outro+=t},Fc.prototype.appendRight=function(t){this.intro=this.intro+t},Fc.prototype.clone=function(){var t=new Fc(this.start,this.end,this.original);return t.intro=this.intro,t.outro=this.outro,t.content=this.content,t.storeName=this.storeName,t.edited=this.edited,t},Fc.prototype.contains=function(t){return this.start<t&&t<this.end},Fc.prototype.eachNext=function(t){for(var e=this;e;)t(e),e=e.next},Fc.prototype.eachPrevious=function(t){for(var e=this;e;)t(e),e=e.previous},Fc.prototype.edit=function(t,e,n){return this.content=t,n||(this.intro="",this.outro=""),this.storeName=e,this.edited=!0,this},Fc.prototype.prependLeft=function(t){this.outro=t+this.outro},Fc.prototype.prependRight=function(t){this.intro=t+this.intro},Fc.prototype.split=function(t){var e=t-this.start,n=this.original.slice(0,e),i=this.original.slice(e);this.original=n;var s=new Fc(t,this.end,i);return s.outro=this.outro,this.outro="",this.end=t,this.edited?(s.edit("",!1),this.content=""):this.content=n,s.next=this.next,s.next&&(s.next.previous=s),s.previous=this,this.next=s,s},Fc.prototype.toString=function(){return this.intro+this.content+this.outro},Fc.prototype.trimEnd=function(t){if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;var e=this.content.replace(t,"");return e.length?(e!==this.content&&this.split(this.start+e.length).edit("",void 0,!0),!0):(this.edit("",void 0,!0),this.intro=this.intro.replace(t,""),!!this.intro.length||void 0)},Fc.prototype.trimStart=function(t){if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;var e=this.content.replace(t,"");return e.length?(e!==this.content&&(this.split(this.end-e.length),this.edit("",void 0,!0)),!0):(this.edit("",void 0,!0),this.outro=this.outro.replace(t,""),!!this.outro.length||void 0)};var Dc=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};"undefined"!=typeof window&&"function"==typeof window.btoa?Dc=function(t){return window.btoa(unescape(encodeURIComponent(t)))}:"function"==typeof Buffer&&(Dc=function(t){return Buffer.from(t,"utf-8").toString("base64")});var Bc=function(t){this.version=3,this.file=t.file,this.sources=t.sources,this.sourcesContent=t.sourcesContent,this.names=t.names,this.mappings=Hl(t.mappings)};function Vc(t){var e=t.split("\n"),n=e.filter((function(t){return/^\t+/.test(t)})),i=e.filter((function(t){return/^ {2,}/.test(t)}));if(0===n.length&&0===i.length)return null;if(n.length>=i.length)return"\t";var s=i.reduce((function(t,e){var n=/^ +/.exec(e)[0].length;return Math.min(n,t)}),1/0);return new Array(s+1).join(" ")}function jc(t,e){var n=t.split(/[/\\]/),i=e.split(/[/\\]/);for(n.pop();n[0]===i[0];)n.shift(),i.shift();if(n.length)for(var s=n.length;s--;)n[s]="..";return n.concat(i).join("/")}Bc.prototype.toString=function(){return JSON.stringify(this)},Bc.prototype.toUrl=function(){return"data:application/json;charset=utf-8;base64,"+Dc(this.toString())};var Uc=Object.prototype.toString;function Gc(t){for(var e=t.split("\n"),n=[],i=0,s=0;i<e.length;i++)n.push(s),s+=e[i].length+1;return function(t){for(var e=0,i=n.length;e<i;){var s=e+i>>1;t<n[s]?i=s:e=s+1}var r=e-1;return{line:r,column:t-n[r]}}}var Wc=function(t){this.hires=t,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};Wc.prototype.addEdit=function(t,e,n,i){if(e.length){var s=[this.generatedCodeColumn,t,n.line,n.column];i>=0&&s.push(i),this.rawSegments.push(s)}else this.pending&&this.rawSegments.push(this.pending);this.advance(e),this.pending=null},Wc.prototype.addUneditedChunk=function(t,e,n,i,s){for(var r=e.start,a=!0;r<e.end;)(this.hires||a||s[r])&&this.rawSegments.push([this.generatedCodeColumn,t,i.line,i.column]),"\n"===n[r]?(i.line+=1,i.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0):(i.column+=1,this.generatedCodeColumn+=1),r+=1,a=!1;this.pending=[this.generatedCodeColumn,t,i.line,i.column]},Wc.prototype.advance=function(t){if(t){var e=t.split("\n");if(e.length>1){for(var n=0;n<e.length-1;n++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=e[e.length-1].length}};var zc="\n",Hc={insertLeft:!1,insertRight:!1,storeName:!1},Qc=function(t,e){void 0===e&&(e={});var n=new Fc(0,t.length,t);Object.defineProperties(this,{original:{writable:!0,value:t},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:n},lastChunk:{writable:!0,value:n},lastSearchedChunk:{writable:!0,value:n},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:e.filename},indentExclusionRanges:{writable:!0,value:e.indentExclusionRanges},sourcemapLocations:{writable:!0,value:{}},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:Vc(t)}}),this.byStart[0]=n,this.byEnd[t.length]=n};Qc.prototype.addSourcemapLocation=function(t){this.sourcemapLocations[t]=!0},Qc.prototype.append=function(t){if("string"!=typeof t)throw new TypeError("outro content must be a string");return this.outro+=t,this},Qc.prototype.appendLeft=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var n=this.byEnd[t];return n?n.appendLeft(e):this.intro+=e,this},Qc.prototype.appendRight=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var n=this.byStart[t];return n?n.appendRight(e):this.outro+=e,this},Qc.prototype.clone=function(){for(var t=new Qc(this.original,{filename:this.filename}),e=this.firstChunk,n=t.firstChunk=t.lastSearchedChunk=e.clone();e;){t.byStart[n.start]=n,t.byEnd[n.end]=n;var i=e.next,s=i&&i.clone();s&&(n.next=s,s.previous=n,n=s),e=i}return t.lastChunk=n,this.indentExclusionRanges&&(t.indentExclusionRanges=this.indentExclusionRanges.slice()),Object.keys(this.sourcemapLocations).forEach((function(e){t.sourcemapLocations[e]=!0})),t},Qc.prototype.generateDecodedMap=function(t){var e=this;t=t||{};var n=Object.keys(this.storedNames),i=new Wc(t.hires),s=Gc(this.original);return this.intro&&i.advance(this.intro),this.firstChunk.eachNext((function(t){var r=s(t.start);t.intro.length&&i.advance(t.intro),t.edited?i.addEdit(0,t.content,r,t.storeName?n.indexOf(t.original):-1):i.addUneditedChunk(0,t,e.original,r,e.sourcemapLocations),t.outro.length&&i.advance(t.outro)})),{file:t.file?t.file.split(/[/\\]/).pop():null,sources:[t.source?jc(t.file||"",t.source):null],sourcesContent:t.includeContent?[this.original]:[null],names:n,mappings:i.raw}},Qc.prototype.generateMap=function(t){return new Bc(this.generateDecodedMap(t))},Qc.prototype.getIndentString=function(){return null===this.indentStr?"\t":this.indentStr},Qc.prototype.indent=function(t,e){var n,i=/^[^\r\n]/gm;if(n=t,"[object Object]"===Uc.call(n)&&(e=t,t=void 0),""===(t=void 0!==t?t:this.indentStr||"\t"))return this;var s={};(e=e||{}).exclude&&("number"==typeof e.exclude[0]?[e.exclude]:e.exclude).forEach((function(t){for(var e=t[0];e<t[1];e+=1)s[e]=!0}));var r=!1!==e.indentStart,a=function(e){return r?""+t+e:(r=!0,e)};this.intro=this.intro.replace(i,a);for(var o=0,l=this.firstChunk;l;){var u=l.end;if(l.edited)s[o]||(l.content=l.content.replace(i,a),l.content.length&&(r="\n"===l.content[l.content.length-1]));else for(o=l.start;o<u;){if(!s[o]){var c=this.original[o];"\n"===c?r=!0:"\r"!==c&&r&&(r=!1,o===l.start?l.prependRight(t):(this._splitChunk(l,o),(l=l.next).prependRight(t)))}o+=1}o=l.end,l=l.next}return this.outro=this.outro.replace(i,a),this},Qc.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")},Qc.prototype.insertLeft=function(t,e){return Hc.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),Hc.insertLeft=!0),this.appendLeft(t,e)},Qc.prototype.insertRight=function(t,e){return Hc.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),Hc.insertRight=!0),this.prependRight(t,e)},Qc.prototype.move=function(t,e,n){if(n>=t&&n<=e)throw new Error("Cannot move a selection inside itself");this._split(t),this._split(e),this._split(n);var i=this.byStart[t],s=this.byEnd[e],r=i.previous,a=s.next,o=this.byStart[n];if(!o&&s===this.lastChunk)return this;var l=o?o.previous:this.lastChunk;return r&&(r.next=a),a&&(a.previous=r),l&&(l.next=i),o&&(o.previous=s),i.previous||(this.firstChunk=s.next),s.next||(this.lastChunk=i.previous,this.lastChunk.next=null),i.previous=l,s.next=o||null,l||(this.firstChunk=i),o||(this.lastChunk=s),this},Qc.prototype.overwrite=function(t,e,n,i){if("string"!=typeof n)throw new TypeError("replacement content must be a string");for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(e>this.original.length)throw new Error("end is out of bounds");if(t===e)throw new Error("Cannot overwrite a zero-length range – use appendLeft or prependRight instead");this._split(t),this._split(e),!0===i&&(Hc.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),Hc.storeName=!0),i={storeName:!0});var s=void 0!==i&&i.storeName,r=void 0!==i&&i.contentOnly;if(s){var a=this.original.slice(t,e);this.storedNames[a]=!0}var o=this.byStart[t],l=this.byEnd[e];if(o){if(e>o.end&&o.next!==this.byStart[o.end])throw new Error("Cannot overwrite across a split point");if(o.edit(n,s,r),o!==l){for(var u=o.next;u!==l;)u.edit("",!1),u=u.next;u.edit("",!1)}}else{var c=new Fc(t,e,"").edit(n,s);l.next=c,c.previous=l}return this},Qc.prototype.prepend=function(t){if("string"!=typeof t)throw new TypeError("outro content must be a string");return this.intro=t+this.intro,this},Qc.prototype.prependLeft=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var n=this.byEnd[t];return n?n.prependLeft(e):this.intro=e+this.intro,this},Qc.prototype.prependRight=function(t,e){if("string"!=typeof e)throw new TypeError("inserted content must be a string");this._split(t);var n=this.byStart[t];return n?n.prependRight(e):this.outro=e+this.outro,this},Qc.prototype.remove=function(t,e){for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(t===e)return this;if(t<0||e>this.original.length)throw new Error("Character is out of bounds");if(t>e)throw new Error("end must be greater than start");this._split(t),this._split(e);for(var n=this.byStart[t];n;)n.intro="",n.outro="",n.edit(""),n=e>n.end?this.byStart[n.end]:null;return this},Qc.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var t=this.lastChunk;do{if(t.outro.length)return t.outro[t.outro.length-1];if(t.content.length)return t.content[t.content.length-1];if(t.intro.length)return t.intro[t.intro.length-1]}while(t=t.previous);return this.intro.length?this.intro[this.intro.length-1]:""},Qc.prototype.lastLine=function(){var t=this.outro.lastIndexOf(zc);if(-1!==t)return this.outro.substr(t+1);var e=this.outro,n=this.lastChunk;do{if(n.outro.length>0){if(-1!==(t=n.outro.lastIndexOf(zc)))return n.outro.substr(t+1)+e;e=n.outro+e}if(n.content.length>0){if(-1!==(t=n.content.lastIndexOf(zc)))return n.content.substr(t+1)+e;e=n.content+e}if(n.intro.length>0){if(-1!==(t=n.intro.lastIndexOf(zc)))return n.intro.substr(t+1)+e;e=n.intro+e}}while(n=n.previous);return-1!==(t=this.intro.lastIndexOf(zc))?this.intro.substr(t+1)+e:this.intro+e},Qc.prototype.slice=function(t,e){for(void 0===t&&(t=0),void 0===e&&(e=this.original.length);t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;for(var n="",i=this.firstChunk;i&&(i.start>t||i.end<=t);){if(i.start<e&&i.end>=e)return n;i=i.next}if(i&&i.edited&&i.start!==t)throw new Error("Cannot use replaced character "+t+" as slice start anchor.");for(var s=i;i;){!i.intro||s===i&&i.start!==t||(n+=i.intro);var r=i.start<e&&i.end>=e;if(r&&i.edited&&i.end!==e)throw new Error("Cannot use replaced character "+e+" as slice end anchor.");var a=s===i?t-i.start:0,o=r?i.content.length+e-i.end:i.content.length;if(n+=i.content.slice(a,o),!i.outro||r&&i.end!==e||(n+=i.outro),r)break;i=i.next}return n},Qc.prototype.snip=function(t,e){var n=this.clone();return n.remove(0,t),n.remove(e,n.original.length),n},Qc.prototype._split=function(t){if(!this.byStart[t]&&!this.byEnd[t])for(var e=this.lastSearchedChunk,n=t>e.end;e;){if(e.contains(t))return this._splitChunk(e,t);e=n?this.byStart[e.end]:this.byEnd[e.start]}},Qc.prototype._splitChunk=function(t,e){if(t.edited&&t.content.length){var n=Gc(this.original)(e);throw new Error("Cannot split a chunk that has already been edited ("+n.line+":"+n.column+' – "'+t.original+'")')}var i=t.split(e);return this.byEnd[e]=t,this.byStart[e]=i,this.byEnd[i.end]=i,t===this.lastChunk&&(this.lastChunk=i),this.lastSearchedChunk=t,!0},Qc.prototype.toString=function(){for(var t=this.intro,e=this.firstChunk;e;)t+=e.toString(),e=e.next;return t+this.outro},Qc.prototype.isEmpty=function(){var t=this.firstChunk;do{if(t.intro.length&&t.intro.trim()||t.content.length&&t.content.trim()||t.outro.length&&t.outro.trim())return!1}while(t=t.next);return!0},Qc.prototype.length=function(){var t=this.firstChunk,e=0;do{e+=t.intro.length+t.content.length+t.outro.length}while(t=t.next);return e},Qc.prototype.trimLines=function(){return this.trim("[\\r\\n]")},Qc.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)},Qc.prototype.trimEndAborted=function(t){var e=new RegExp((t||"\\s")+"+$");if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var n=this.lastChunk;do{var i=n.end,s=n.trimEnd(e);if(n.end!==i&&(this.lastChunk===n&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),s)return!0;n=n.previous}while(n);return!1},Qc.prototype.trimEnd=function(t){return this.trimEndAborted(t),this},Qc.prototype.trimStartAborted=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var n=this.firstChunk;do{var i=n.end,s=n.trimStart(e);if(n.end!==i&&(n===this.lastChunk&&(this.lastChunk=n.next),this.byEnd[n.end]=n,this.byStart[n.next.start]=n.next,this.byEnd[n.next.end]=n.next),s)return!0;n=n.next}while(n);return!1},Qc.prototype.trimStart=function(t){return this.trimStartAborted(t),this};const Yc={};function Xc(t,e){"Literal"===t.type?e.add(t.value):"ConditionalExpression"===t.type?(Xc(t.consequent,e),Xc(t.alternate,e)):e.add(Yc)}var Zc;!function(t){t[t.NotPossible=0]="NotPossible",t[t.Possible=1]="Possible",t[t.UnknownSelectorType=2]="UnknownSelectorType"}(Zc||(Zc={}));class Jc{constructor(t,e){this.node=t,this.stylesheet=e,this.blocks=function(t){let e=new ih(null);const n=[e];return t.children.forEach(t=>{"WhiteSpace"===t.type||"Combinator"===t.type?(e=new ih(t),n.push(e)):e.add(t)}),n}(t);let n=this.blocks.length;for(;n>0&&this.blocks[n-1].global;)n-=1;this.local_blocks=this.blocks.slice(0,n),this.used=this.blocks[0].global}apply(t,e){const n=[];!function t(e,n,i,s){const r=e.pop();if(!r)return!1;if(!n)return e.every(t=>t.global);switch(Kc(r,n)){case Zc.NotPossible:return!1;case Zc.UnknownSelectorType:return s.push({node:n,block:r}),!0}if(r.combinator){if("WhiteSpace"===r.combinator.type){for(const t of e)if(!t.global){for(const e of i)Kc(t,e)!==Zc.NotPossible&&s.push({node:e,block:t});if(s.length)return s.push({node:n,block:r}),!0}return!!e.every(t=>t.global)&&(s.push({node:n,block:r}),!0)}return">"===r.combinator.name?!!t(e,i.pop(),i,s)&&(s.push({node:n,block:r}),!0):(s.push({node:n,block:r}),!0)}return s.push({node:n,block:r}),!0}(this.local_blocks.slice(),t,e.slice(),n),n.length>0&&(n.forEach(({node:t,block:e})=>{this.stylesheet.nodes_with_css_class.add(t),e.should_encapsulate=!0}),this.used=!0)}minify(t){let e=null;this.blocks.forEach((n,i)=>{i>0&&n.start-e>1&&t.overwrite(e,n.start,n.combinator.name||" "),e=n.end})}transform(t,e){this.blocks.forEach(n=>{if(n.global){const e=n.selectors[0],i=e.children[0],s=e.children[e.children.length-1];t.remove(e.start,i.start).remove(s.end,e.end)}n.should_encapsulate&&function(n){let i=n.selectors.length;for(;i--;){const s=n.selectors[i];if("PseudoElementSelector"!==s.type&&"PseudoClassSelector"!==s.type){"TypeSelector"===s.type&&"*"===s.name?t.overwrite(s.start,s.end,e):t.appendLeft(s.end,e);break}"root"!==s.name&&0===i&&t.prependRight(s.start,e)}}(n)})}validate(t){this.blocks.forEach(e=>{let n=e.selectors.length;for(;n-- >1;){const i=e.selectors[n];"PseudoClassSelector"===i.type&&"global"===i.name&&t.error(i,{code:"css-invalid-global",message:":global(...) must be the first element in a compound selector"})}});let e=0,n=this.blocks.length;for(;e<n&&this.blocks[e].global;e+=1);for(;n>e&&this.blocks[n-1].global;n-=1);for(let i=e;i<n;i+=1)this.blocks[i].global&&t.error(this.blocks[i].selectors[0],{code:"css-invalid-global",message:":global(...) can be at the start or end of a selector sequence, but not in the middle"})}}function Kc(t,e){let n=t.selectors.length;for(;n--;){const i=t.selectors[n],s="string"==typeof i.name&&i.name.replace(/\\(.)/g,"$1");if("PseudoClassSelector"!==i.type&&"PseudoElementSelector"!==i.type){if("PseudoClassSelector"===i.type&&"global"===s)return Zc.NotPossible;if("ClassSelector"===i.type){if(!eh(e,"class",s,"~=",!1)&&!e.classes.some(t=>t.name===s))return Zc.NotPossible}else if("IdSelector"===i.type){if(!eh(e,"id",s,"=",!1))return Zc.NotPossible}else if("AttributeSelector"===i.type){if(!eh(e,i.name.name,i.value&&nh(i.value),i.matcher,i.flags))return Zc.NotPossible}else{if("TypeSelector"!==i.type)return Zc.UnknownSelectorType;if(e.name.toLowerCase()!==s.toLowerCase()&&"*"!==s)return Zc.NotPossible}}}return Zc.Possible}function th(t,e,n,i){switch(n&&(e=e.toLowerCase(),i=i.toLowerCase()),t){case"=":return i===e;case"~=":return` ${i} `.includes(` ${e} `);case"|=":return`${i}-`.startsWith(`${e}-`);case"^=":return i.startsWith(e);case"$=":return i.endsWith(e);case"*=":return i.includes(e);default:throw new Error("this shouldn't happen")}}function eh(t,e,n,i,s){if(t.attributes.find(t=>"Spread"===t.type))return!0;if(t.bindings.some(t=>t.name===e))return!0;const r=t.attributes.find(t=>t.name===e);if(!r)return!1;if(r.is_true)return null===i;if(!n)return!0;if(1===r.chunks.length){const t=r.chunks[0];if(!t)return!1;if("Text"===t.type)return th(i,n,s,t.data)}const a=new Set;let o=[];for(const t of r.chunks){const e=new Set;if("Text"===t.type?e.add(t.data):Xc(t.node,e),e.has(Yc))return!0;if(o.length>0){const t=[],n=[];if(e.forEach(e=>{/^\s/.test(e)?t.push(e):n.push(e)}),n.length>0){t.length>0&&o.forEach(t=>a.add(t));const e=[];o.forEach(t=>{n.forEach(n=>{e.push(t+n)})}),o=e,t.forEach(t=>{/\s$/.test(t)?a.add(t):o.push(t)});continue}o.forEach(t=>a.add(t)),o=[]}if(e.forEach(t=>{/\s$/.test(t)?a.add(t):o.push(t)}),o.length<e.size&&o.push(" "),o.length>20)return!0}if(o.forEach(t=>a.add(t)),a.has(Yc))return!0;for(const t of a)if(th(i,n,s,t))return!0;return!1}function nh(t){if("Identifier"===t.type)return t.name;const e=t.value;return e[0]===e[e.length-1]&&"'"===e[0]||'"'===e[0]?e.slice(1,e.length-1):e}class ih{constructor(t){this.combinator=t,this.global=!1,this.selectors=[],this.start=null,this.end=null,this.should_encapsulate=!1}add(t){0===this.selectors.length&&(this.start=t.start,this.global="PseudoClassSelector"===t.type&&"global"===t.name),this.selectors.push(t),this.end=t.end}}function sh(t){return t.replace(/^-((webkit)|(moz)|(o)|(ms))-/,"")}const rh=t=>"keyframes"===sh(t.name),ah=({block:t})=>t&&t.children&&t.children.find(t=>"Declaration"===t.type);function oh(t,e,n){let i=e;return n.forEach((e,n)=>{const s=n>0?";":"";e.node.start-i>s.length&&t.overwrite(i,e.node.start,s),e.minify(t),i=e.node.end}),i}class lh{constructor(t,e,n){this.node=t,this.parent=n,this.selectors=t.selector.children.map(t=>new Jc(t,e)),this.declarations=t.block.children.map(t=>new uh(t))}apply(t,e){this.selectors.forEach(n=>n.apply(t,e))}is_used(t){return!(!this.parent||"Atrule"!==this.parent.node.type||!rh(this.parent.node))||(0===this.declarations.length?t:this.selectors.some(t=>t.used))}minify(t,e){let n=this.node.start,i=!1;this.selectors.forEach(e=>{if(e.used){const s=i?",":"";e.node.start-n>s.length&&t.overwrite(n,e.node.start,s),e.minify(t),n=e.node.end,i=!0}}),t.remove(n,this.node.block.start),n=this.node.block.start+1,n=oh(t,n,this.declarations),t.remove(n,this.node.block.end-1)}transform(t,e,n){if(this.parent&&"Atrule"===this.parent.node.type&&rh(this.parent.node))return!0;const i=`.${e}`;this.selectors.forEach(e=>e.transform(t,i)),this.declarations.forEach(e=>e.transform(t,n))}validate(t){this.selectors.forEach(e=>{e.validate(t)})}warn_on_unused_selector(t){this.selectors.forEach(e=>{e.used||t(e)})}}class uh{constructor(t){this.node=t}transform(t,e){const n=this.node.property&&sh(this.node.property.toLowerCase());"animation"!==n&&"animation-name"!==n||this.node.value.children.forEach(n=>{if("Identifier"===n.type){const i=n.name;e.has(i)&&t.overwrite(n.start,n.end,e.get(i))}})}minify(t){if(!this.node.property)return;const e=this.node.start+this.node.property.length;let n=(this.node.value.children?this.node.value.children[0]:this.node.value).start;for(;/\s/.test(t.original[n]);)n+=1;n-e>1&&t.overwrite(e,n,":")}}class ch{constructor(t){this.node=t,this.children=[],this.declarations=[]}apply(t,e){"media"===this.node.name||"supports"===this.node.name?this.children.forEach(n=>{n.apply(t,e)}):rh(this.node)&&this.children.forEach(t=>{t.selectors.forEach(t=>{t.used=!0})})}is_used(t){return!0}minify(t,e){if("media"===this.node.name){const e=t.original[this.node.expression.start];let n=this.node.start+("("===e?6:7);this.node.expression.start>n&&t.remove(n,this.node.expression.start),this.node.expression.children.forEach(t=>{n=t.end}),t.remove(n,this.node.block.start)}else if("supports"===this.node.name){let e=this.node.start+9;this.node.expression.start-e>1&&t.overwrite(e,this.node.expression.start," "),this.node.expression.children.forEach(t=>{e=t.end}),t.remove(e,this.node.block.start)}else{let e=this.node.start+this.node.name.length+1;this.node.expression&&(this.node.expression.start-e>1&&t.overwrite(e,this.node.expression.start," "),e=this.node.expression.end),this.node.block&&this.node.block.start-e>0&&t.remove(e,this.node.block.start)}if(this.node.block){let n=this.node.block.start+1;this.declarations.length&&(n=oh(t,n,this.declarations),this.children.length&&n++),this.children.forEach(i=>{i.is_used(e)&&(t.remove(n,i.node.start),i.minify(t,e),n=i.node.end)}),t.remove(n,this.node.block.end-1)}}transform(t,e,n){rh(this.node)&&this.node.expression.children.forEach(({type:e,name:i,start:s,end:r})=>{"Identifier"===e&&(i.startsWith("-global-")?(t.remove(s,s+8),this.children.forEach(t=>{t.selectors.forEach(t=>{t.used=!0})})):t.overwrite(s,r,n.get(i)))}),this.children.forEach(i=>{i.transform(t,e,n)})}validate(t){this.children.forEach(e=>{e.validate(t)})}warn_on_unused_selector(t){"media"===this.node.name&&this.children.forEach(e=>{e.warn_on_unused_selector(t)})}}class hh{constructor(t,e,n,i){if(this.children=[],this.keyframes=new Map,this.nodes_with_css_class=new Set,this.source=t,this.ast=e,this.filename=n,this.dev=i,e.css&&e.css.children.length){this.id=`svelte-${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return(e>>>0).toString(36)}(e.css.content.styles)}`,this.has_styles=!0;const t=[];let n=0,i=null;Bo(e.css,{enter:e=>{if("Atrule"===e.type){const s=new ch(e);if(t.push(s),i?i.children.push(s):n<=1&&this.children.push(s),rh(e))e.expression.children.forEach(t=>{"Identifier"!==t.type||t.name.startsWith("-global-")||this.keyframes.set(t.name,`${this.id}-${t.name}`)});else if(ah(e)){const t=e.block.children.filter(t=>"Declaration"===t.type).map(t=>new uh(t));s.declarations.push(...t)}i=s}if("Rule"===e.type){const t=new lh(e,this,i);i?i.children.push(t):n<=1&&this.children.push(t)}n+=1},leave:e=>{"Atrule"===e.type&&(t.pop(),i=t[t.length-1]),n-=1}})}else this.has_styles=!1}apply(t){if(!this.has_styles)return;const e=[];let n=t;for(;n=n.parent;)"Element"===n.type&&e.unshift(n);for(let n=0;n<this.children.length;n+=1)this.children[n].apply(t,e)}reify(){this.nodes_with_css_class.forEach(t=>{t.add_css_class()})}render(t,e){if(!this.has_styles)return{code:null,map:null};const n=new Qc(this.source);Bo(this.ast.css,{enter:t=>{n.addSourcemapLocation(t.start),n.addSourcemapLocation(t.end)}}),e&&this.children.forEach(t=>{t.transform(n,this.id,this.keyframes)});let i=0;return this.children.forEach(t=>{t.is_used(this.dev)&&(n.remove(i,t.node.start),t.minify(n,this.dev),i=t.node.end)}),n.remove(i,this.source.length),{code:n.toString(),map:n.generateMap({includeContent:!0,source:this.filename,file:t})}}validate(t){this.children.forEach(e=>{e.validate(t)})}warn_on_unused_selectors(t){this.children.forEach(e=>{e.warn_on_unused_selector(e=>{t.warn(e.node,{code:"css-unused-selector",message:"Unused CSS selector"})})})}}const dh="undefined"!=typeof process&&process.env.TEST;class ph{constructor(t,e,n,i){this.start=i.start,this.end=i.end,this.type=i.type,Object.defineProperties(this,{component:{value:t},parent:{value:e}})}cannot_use_innerhtml(){!1!==this.can_use_innerhtml&&(this.can_use_innerhtml=!1,this.parent&&this.parent.cannot_use_innerhtml())}find_nearest(t){return t.test(this.type)?this:this.parent?this.parent.find_nearest(t):void 0}get_static_attribute_value(t){const e=this.attributes&&this.attributes.find(e=>"Attribute"===e.type&&e.name.toLowerCase()===t);return e?!!e.is_true||(0===e.chunks.length?"":1===e.chunks.length&&"Text"===e.chunks[0].type?e.chunks[0].data:null):null}has_ancestor(t){return!!this.parent&&(this.parent.type===t||this.parent.has_ancestor(t))}}class fh extends ph{constructor(t,e,n,i){super(t,e,n,i)}warn_if_empty_block(){if(!this.children||this.children.length>1)return;const t=this.children[0];t&&("Text"!==t.type||/[^ \r\n\f\v\t]/.test(t.data))||this.component.warn(this,{code:"empty-block",message:"Empty block"})}}class mh extends fh{constructor(t,e,n,i){super(t,e,n,i),this.children=ld(t,e,n,i.children),i.skip||this.warn_if_empty_block()}}class _h extends fh{constructor(t,e,n,i){super(t,e,n,i),this.scope=n.child(),this.scope.add(e.value,e.expression.dependencies,this),this.children=ld(t,e,this.scope,i.children),i.skip||this.warn_if_empty_block()}}class yh extends fh{constructor(t,e,n,i){super(t,e,n,i),this.scope=n.child(),this.scope.add(e.error,e.expression.dependencies,this),this.children=ld(t,e,this.scope,i.children),i.skip||this.warn_if_empty_block()}}class gh{constructor(t,e,n,i,s){this.type="Expression",this.dependencies=new Set,this.contextual_dependencies=new Set,this.declarations=[],this.uses_context=!1,Object.defineProperties(this,{component:{value:t}}),this.node=i,this.template_scope=n,this.owner=e;const{dependencies:r,contextual_dependencies:a}=this;let{map:o,scope:l}=kc(i);this.scope=l,this.scope_map=o;const u=this;let c;Bo(i,{enter(e,i,h){if("value"===h&&i.shorthand)return;if(o.has(e)&&(l=o.get(e)),!c&&/FunctionExpression/.test(e.type)&&(c=e),Bl(e,i)){const{name:i,nodes:o}=Ku(e);if(l.has(i))return;if("$"===i[0]&&n.names.has(i.slice(1))&&t.error(e,{code:"contextual-store",message:"Stores must be declared at the top level of the component (this may change in a future version of Svelte)"}),n.is_let(i))c||(a.add(i),r.add(i));else if(n.names.has(i)){u.uses_context=!0,a.add(i);const t=n.get_owner(i),e="EachBlock"===t.type&&t.key&&i===t.index;s&&!e||n.dependencies_for_name.get(i).forEach(t=>r.add(t))}else s||r.add(i),t.add_reference(i),t.warn_if_undefined(i,o[0],n);this.skip()}let d,p=!1;if(c)if("AssignmentExpression"===e.type)p="MemberExpression"===e.left.type,d=p?[Ju(e.left).name]:Ul(e.left);else if("UpdateExpression"===e.type){const{name:t}=Ju(e.argument);d=[t]}d&&d.forEach(e=>{if(n.names.has(e))n.dependencies_for_name.get(e).forEach(e=>{const n=t.var_lookup.get(e);n&&(n[p?"mutated":"reassigned"]=!0)});else{t.add_reference(e);const n=t.var_lookup.get(e);n&&(n[p?"mutated":"reassigned"]=!0)}})},leave(t){o.has(t)&&(l=l.parent),t===c&&(c=null)}})}dynamic_dependencies(){return Array.from(this.dependencies).filter(t=>!!this.template_scope.is_let(t)||("$$props"===t||lc(this.component.var_lookup.get(t))))}manipulate(t){if(this.manipulated)return this.manipulated;const{component:e,declarations:n,scope_map:i,template_scope:s,owner:r}=this;let a,o,l,u=this.scope;const c=Bo(this.node,{enter(n,r){if("Property"===n.type&&n.shorthand&&(n.value=JSON.parse(JSON.stringify(n.value)),n.shorthand=!1),i.has(n)&&(u=i.get(n)),Bl(n,r)){const{name:i}=Ku(n);if(u.has(i))return;if(a)s.names.has(i)?(l.add(i),s.dependencies_for_name.get(i).forEach(t=>{o.add(t)})):(o.add(i),e.add_reference(i));else if(function(t,e,n){if("$$props"===n)return!0;if(!e.is_top_level(n))return!0;const i=t.var_lookup.get(n);return!(!i||i.hoistable)}(e,s,i)){const e=t.renderer.reference(n);this.replace(e)}this.skip()}a||(n.type,"FunctionExpression"!==n.type&&"ArrowFunctionExpression"!==n.type||(a=n,o=new Set,l=new Set))},leave(c,h){if(i.has(c)&&(u=u.parent),c===a){const i=e.get_unique_name(al(function(t,e){return"EventHandler"===e.type?`${e.name}_handler`:"Action"===e.type?`${e.name}_function`:"func"}(0,r))),s=vu`const ${i} = ${c}`;if(0===o.size&&0===l.size)e.fully_hoisted.push(s),this.replace(i),e.add_var({name:i.name,internal:!0,hoistable:!0,referenced:!0});else if(0===l.size)e.partly_hoisted.push(s),t.renderer.add_to_context(i.name),this.replace(t.renderer.reference(i));else{const r=Array.from(l);c.params=[...r.map(t=>({type:"Identifier",name:t})),...c.params];const a=r.map(e=>t.renderer.reference(e));e.partly_hoisted.push(s),t.renderer.add_to_context(i.name);const o=t.renderer.reference(i);this.replace(i),c.params.length>0?n.push(vu`
								function ${i}(...args) {
									return ${o}(${a}, ...args);
								}
							`):n.push(vu`
								function ${i}() {
									return ${o}(${a});
								}
							`)}a=null,o=null,l=null,h&&"Property"===h.type&&(h.method=!1)}if("AssignmentExpression"===c.type||"UpdateExpression"===c.type){const e="AssignmentExpression"===c.type?c.left:c.argument,n=new Set(Ul(e)),i=new Set;n.forEach(t=>{const e=s.dependencies_for_name.get(t);e?e.forEach(t=>i.add(t)):i.add(t)}),this.replace(wc(t.renderer,u,c,i))}}});return n.length>0&&(t.maintain_context=!0,n.forEach(e=>{t.chunks.init.push(e)})),this.manipulated=c}}class vh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.expression=new gh(t,this,n,i.expression),this.value=i.value,this.error=i.error,this.pending=new mh(t,this,n,i.pending),this.then=new _h(t,this,n,i.then),this.catch=new yh(t,this,n,i.catch)}}class bh extends ph{constructor(t,e,n,i){if(super(t,e,n,i),this.uses_context=!1,this.can_make_passive=!1,this.name=i.name,this.modifiers=new Set(i.modifiers),i.expression)if(this.expression=new gh(t,this,n,i.expression),this.uses_context=this.expression.uses_context,/FunctionExpression/.test(i.expression.type)&&0===i.expression.params.length)this.can_make_passive=!0;else if("Identifier"===i.expression.type){let e=t.node_for_declaration.get(i.expression.name);if(e){if("VariableDeclaration"===e.type){const t=e.declarations.find(t=>t.id.name===i.expression.name);e=t&&t.init}!e||"FunctionExpression"!==e.type&&"FunctionDeclaration"!==e.type&&"ArrowFunctionExpression"!==e.type||0!==e.params.length||(this.can_make_passive=!0),this.reassigned=t.var_lookup.get(i.expression.name).reassigned}}else this.expression.dynamic_dependencies().length>0&&(this.reassigned=!0);else this.handler_name=t.get_unique_name(`${al(this.name)}_handler`)}}class xh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.handlers=[],i.attributes.forEach(e=>{"EventHandler"===e.type&&this.handlers.push(new bh(t,this,n,e))})}}const kh=/^\s*svelte-ignore\s+([\s\S]+)\s*$/m;class wh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.data=i.data;const s=kh.exec(this.data);this.ignores=s?s[1].split(/[^\S]/).map(t=>t.trim()).filter(Boolean):[]}}class Sh extends fh{constructor(t,e,n,i){super(t,e,n,i),this.children=ld(t,this,n,i.children),this.warn_if_empty_block()}}class $h extends fh{constructor(t,e,n,i){if(super(t,e,n,i),this.has_binding=!1,this.expression=new gh(t,this,n,i.expression),this.context=i.context.name||"each",this.context_node=i.context,this.index=i.index,this.scope=n.child(),this.contexts=[],function t(e,n,i){if(n)if("Identifier"===n.type||"RestIdentifier"===n.type)e.push({key:n,modifier:i});else if("ArrayPattern"===n.type)n.elements.forEach((n,s)=>{n&&"RestIdentifier"===n.type?t(e,n,t=>bu`${i(t)}.slice(${s})`):t(e,n,t=>bu`${i(t)}[${s}]`)});else if("ObjectPattern"===n.type){const s=[];n.properties.forEach((r,a)=>{if("rest"===r.kind){const o={type:"RestElement",argument:r.key};n.properties[a]=o,t(e,r.value,t=>bu`@object_without_properties(${i(t)}, [${s}])`)}else s.push(bu`"${r.key.name}"`),t(e,r.value,t=>bu`${i(t)}.${r.key.name}`)})}}(this.contexts,i.context,t=>t),this.contexts.forEach(t=>{this.scope.add(t.key.name,this.expression.dependencies,this)}),this.index){const t=i.key?this.expression.dependencies:new Set([]);this.scope.add(this.index,t,this)}if(this.key=i.key?new gh(t,this,this.scope,i.key):null,this.has_animation=!1,this.children=ld(t,this,this.scope,i.children),this.has_animation&&1!==this.children.length){const e=this.children.find(t=>!!t.animation);t.error(e.animation,{code:"invalid-animation",message:"An element that use the animate directive must be the sole child of a keyed each block"})}this.warn_if_empty_block(),this.else=i.else?new Sh(t,this,this.scope,i.else):null}}class Th extends ph{constructor(t,e,n,i){super(t,e,n,i),this.scope=n,"Spread"===i.type?(this.name=null,this.is_spread=!0,this.is_true=!1,this.expression=new gh(t,this,n,i.expression),this.dependencies=this.expression.dependencies,this.chunks=null,this.is_static=!1):(this.name=i.name,this.is_true=!0===i.value,this.is_static=!0,this.dependencies=new Set,this.chunks=this.is_true?[]:i.value.map(e=>{if("Text"===e.type)return e;this.is_static=!1;const i=new gh(t,this,n,e.expression);return Ou(this.dependencies,i.dependencies),i}))}get_dependencies(){if(this.is_spread)return this.expression.dynamic_dependencies();const t=new Set;return this.chunks.forEach(e=>{"Expression"===e.type&&Ou(t,e.dynamic_dependencies())}),Array.from(t)}get_value(t){if(this.is_true)return bu`true`;if(0===this.chunks.length)return bu`""`;if(1===this.chunks.length)return"Text"===this.chunks[0].type?Mu(this.chunks[0].data):this.chunks[0].manipulate(t);let e=this.chunks.map(e=>"Text"===e.type?Mu(e.data):e.manipulate(t)).reduce((t,e)=>bu`${t} + ${e}`);return"Text"!==this.chunks[0].type&&(e=bu`"" + ${e}`),e}get_static_value(){return this.is_spread||this.dependencies.size>0?null:!!this.is_true||(this.chunks[0]?this.chunks[0].data:"")}should_cache(){return!this.is_static&&(1!==this.chunks.length||"Identifier"!==this.chunks[0].node.type||this.scope.names.has(this.chunks[0].node.name))}}const Ah=new Set(["duration","buffered","seekable","played","seeking","ended","videoHeight","videoWidth"]);class Eh extends ph{constructor(t,e,n,i){super(t,e,n,i),"Identifier"!==i.expression.type&&"MemberExpression"!==i.expression.type&&t.error(i,{code:"invalid-directive-value",message:"Can only bind to an identifier (e.g. `foo`) or a member expression (e.g. `foo.bar` or `foo[baz]`)"}),this.name=i.name,this.expression=new gh(t,this,n,i.expression),this.raw_expression=JSON.parse(JSON.stringify(i.expression));const{name:s}=Ju(this.expression.node);if(this.is_contextual=n.names.has(s),n.is_let(s))t.error(this,{code:"invalid-binding",message:"Cannot bind to a variable declared with the let: directive"});else if(this.is_contextual)n.dependencies_for_name.get(s).forEach(e=>{const n=t.var_lookup.get(e);n&&(n["MemberExpression"===this.expression.node.type?"mutated":"reassigned"]=!0)});else{const e=t.var_lookup.get(s);e&&!e.global||t.error(this.expression.node,{code:"binding-undeclared",message:`${s} is not declared`}),e["MemberExpression"===this.expression.node.type?"mutated":"reassigned"]=!0}const r=e.get_static_attribute_value("type");this.is_readonly=jt.test(this.name)||e.is_media_node&&e.is_media_node()&&Ah.has(this.name)||"input"===e.name&&"file"===r}is_readonly_media_attribute(){return Ah.has(this.name)}}class Ch extends ph{constructor(t,e,n,i){if(super(t,e,n,i),t.warn_if_undefined(i.name,i,n),this.name=i.name,t.add_reference(i.name.split(".")[0]),this.directive=i.intro&&i.outro?"transition":i.intro?"in":"out",this.is_local=i.modifiers.includes("local"),i.intro&&e.intro||i.outro&&e.outro){const n=e.intro||e.outro,s=this.directive===n.directive?`An element can only have one '${this.directive}' directive`:`An element cannot have both ${Ph(n)} directive and ${Ph(this)} directive`;t.error(i,{code:"duplicate-transition",message:s})}this.expression=i.expression?new gh(t,this,n,i.expression,!0):null}}function Ph(t){return"transition"===t.directive?"a 'transition'":`an '${t.directive}'`}class Oh extends ph{constructor(t,e,n,i){super(t,e,n,i),t.warn_if_undefined(i.name,i,n),this.name=i.name,t.add_reference(i.name.split(".")[0]),e.animation&&t.error(this,{code:"duplicate-animation",message:"An element can only have one 'animate' directive"});const s=e.parent;s&&"EachBlock"===s.type&&s.key||t.error(this,{code:"invalid-animation",message:"An element that use the animate directive must be the immediate child of a keyed each block"}),s.has_animation=!0,this.expression=i.expression?new gh(t,this,n,i.expression,!0):null}}class qh extends ph{constructor(t,e,n,i){super(t,e,n,i),t.warn_if_undefined(i.name,i,n),this.name=i.name,t.add_reference(i.name.split(".")[0]),this.expression=i.expression?new gh(t,this,n,i.expression):null,this.uses_context=this.expression&&this.expression.uses_context}}class Mh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.name=i.name,this.expression=i.expression?new gh(t,this,n,i.expression):null}}class Lh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.data=i.data,this.synthetic=i.synthetic||!1}}const Rh=new Set(["Identifier","ObjectExpression","ArrayExpression","Property"]);class Nh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.names=[],this.name={type:"Identifier",name:i.name};const{names:s}=this;i.expression?(this.value=i.expression,Bo(i.expression,{enter(e){Rh.has(e.type)||t.error(e,{code:"invalid-let",message:"let directive value must be an identifier or an object/array pattern"}),"Identifier"===e.type&&s.push(e.name),"ArrayExpression"===e.type&&(e.type="ArrayPattern"),"ObjectExpression"===e.type&&(e.type="ObjectPattern")}})):s.push(this.name.name)}}const Ih=/^(?:altGlyph|altGlyphDef|altGlyphItem|animate|animateColor|animateMotion|animateTransform|circle|clipPath|color-profile|cursor|defs|desc|discard|ellipse|feBlend|feColorMatrix|feComponentTransfer|feComposite|feConvolveMatrix|feDiffuseLighting|feDisplacementMap|feDistantLight|feDropShadow|feFlood|feFuncA|feFuncB|feFuncG|feFuncR|feGaussianBlur|feImage|feMerge|feMergeNode|feMorphology|feOffset|fePointLight|feSpecularLighting|feSpotLight|feTile|feTurbulence|filter|font|font-face|font-face-format|font-face-name|font-face-src|font-face-uri|foreignObject|g|glyph|glyphRef|hatch|hatchpath|hkern|image|line|linearGradient|marker|mask|mesh|meshgradient|meshpatch|meshrow|metadata|missing-glyph|mpath|path|pattern|polygon|polyline|radialGradient|rect|set|solidcolor|stop|svg|switch|symbol|text|textPath|tref|tspan|unknown|use|view|vkern)$/,Fh="activedescendant atomic autocomplete busy checked colindex controls current describedby details disabled dropeffect errormessage expanded flowto grabbed haspopup hidden invalid keyshortcuts label labelledby level live modal multiline multiselectable orientation owns placeholder posinset pressed readonly relevant required roledescription rowindex selected setsize sort valuemax valuemin valuenow valuetext".split(" "),Dh=new Set(Fh),Bh="alert alertdialog application article banner button cell checkbox columnheader combobox command complementary composite contentinfo definition dialog directory document feed figure form grid gridcell group heading img input landmark link list listbox listitem log main marquee math menu menubar menuitem menuitemcheckbox menuitemradio navigation none note option presentation progressbar radio radiogroup range region roletype row rowgroup rowheader scrollbar search searchbox section sectionhead select separator slider spinbutton status structure switch tab table tablist tabpanel term textbox timer toolbar tooltip tree treegrid treeitem widget window".split(" "),Vh=new Set(Bh),jh={a:["href"],area:["alt","aria-label","aria-labelledby"],html:["lang"],iframe:["title"],img:["alt"],object:["title","aria-label","aria-labelledby"]},Uh=new Set(["blink","marquee"]),Gh=new Set(["a","h1","h2","h3","h4","h5","h6"]),Wh=new Set(["meta","html","script","style"]),zh=new Set(["preventDefault","stopPropagation","capture","once","passive","self"]),Hh=new Set(["wheel","touchstart","touchmove","touchend","touchcancel"]);class Qh extends ph{constructor(t,e,n,i){if(super(t,e,n,i),this.attributes=[],this.actions=[],this.bindings=[],this.classes=[],this.handlers=[],this.lets=[],this.intro=null,this.outro=null,this.animation=null,this.name=i.name,this.namespace=function(t,e,n){const i=t.find_nearest(/^Element/);return i?Ih.test(e.name.toLowerCase())?zu.svg:"foreignobject"===i.name.toLowerCase()?null:i.namespace:n||(Ih.test(e.name)?zu.svg:null)}(e,this,t.namespace),"textarea"===this.name&&i.children.length>0){const e=i.attributes.find(t=>"value"===t.name);e&&t.error(e,{code:"textarea-duplicate-value",message:"A <textarea> can have either a value attribute or (equivalently) child content, but not both"}),i.attributes.push({type:"Attribute",name:"value",value:i.children}),i.children=[]}"option"===this.name&&(i.attributes.find(t=>"value"===t.name)||i.attributes.push({type:"Attribute",name:"value",value:i.children,synthetic:!0}));const s=["Binding"];i.attributes.sort((t,e)=>s.indexOf(t.type)-s.indexOf(e.type)),i.attributes.forEach(e=>{switch(e.type){case"Action":this.actions.push(new qh(t,this,n,e));break;case"Attribute":case"Spread":"xmlns"===e.name&&(this.namespace=e.value[0].data),this.attributes.push(new Th(t,this,n,e));break;case"Binding":this.bindings.push(new Eh(t,this,n,e));break;case"Class":this.classes.push(new Mh(t,this,n,e));break;case"EventHandler":this.handlers.push(new bh(t,this,n,e));break;case"Let":this.lets.push(new Nh(t,this,n,e));break;case"Transition":{const i=new Ch(t,this,n,e);e.intro&&(this.intro=i),e.outro&&(this.outro=i);break}case"Animation":this.animation=new Oh(t,this,n,e);break;default:throw new Error(`Not implemented: ${e.type}`)}}),this.lets.length>0?(this.scope=n.child(),this.lets.forEach(t=>{const e=new Set([t.name.name]);t.names.forEach(t=>{this.scope.add(t,e,this)})})):this.scope=n,this.children=ld(t,this,this.scope,i.children),this.validate(),t.stylesheet.apply(this)}validate(){if(Uh.has(this.name)&&this.component.warn(this,{code:"a11y-distracting-elements",message:`A11y: Avoid <${this.name}> elements`}),"figcaption"===this.name){let{parent:t}=this,e=!1;for(;t;){if("figure"===t.name){e=!0;break}if("Element"===t.type)break;t=t.parent}e||this.component.warn(this,{code:"a11y-structure",message:"A11y: <figcaption> must be an immediate child of <figure>"})}if("figure"===this.name){const t=this.children.filter(t=>"Comment"!==t.type&&("Text"!==t.type||/\S/.test(t.data))),e=t.findIndex(t=>"figcaption"===t.name);-1!==e&&0!==e&&e!==t.length-1&&this.component.warn(t[e],{code:"a11y-structure",message:"A11y: <figcaption> must be first or last child of <figure>"})}this.validate_attributes(),this.validate_bindings(),this.validate_content(),this.validate_event_handlers()}validate_attributes(){const{component:t}=this,e=new Map;if(this.attributes.forEach(n=>{if(n.is_spread)return;const i=n.name.toLowerCase();if(i.startsWith("aria-")){Wh.has(this.name)&&t.warn(n,{code:"a11y-aria-attributes",message:`A11y: <${this.name}> should not have aria-* attributes`});const e=i.slice(5);if(!Dh.has(e)){const i=ol(e,Fh);let s=`A11y: Unknown aria attribute 'aria-${e}'`;i&&(s+=` (did you mean '${i}'?)`),t.warn(n,{code:"a11y-unknown-aria-attribute",message:s})}"aria-hidden"===i&&/^h[1-6]$/.test(this.name)&&t.warn(n,{code:"a11y-hidden",message:`A11y: <${this.name}> element should not be hidden`})}if("role"===i){Wh.has(this.name)&&t.warn(n,{code:"a11y-misplaced-role",message:`A11y: <${this.name}> should not have role attribute`});const e=n.get_static_value();if(e&&!Vh.has(e)){const i=ol(e,Bh);let s=`A11y: Unknown role '${e}'`;i&&(s+=` (did you mean '${i}'?)`),t.warn(n,{code:"a11y-unknown-role",message:s})}}if("accesskey"===i&&t.warn(n,{code:"a11y-accesskey",message:"A11y: Avoid using accesskey"}),"autofocus"===i&&t.warn(n,{code:"a11y-autofocus",message:"A11y: Avoid using autofocus"}),"scope"===i&&"th"!==this.name&&t.warn(n,{code:"a11y-misplaced-scope",message:"A11y: The scope attribute should only be used with <th> elements"}),"tabindex"===i){const e=n.get_static_value();!isNaN(e)&&+e>0&&t.warn(n,{code:"a11y-positive-tabindex",message:"A11y: avoid tabindex values above zero"})}if("slot"===i){n.is_static||t.error(n,{code:"invalid-slot-attribute",message:"slot attribute cannot have a dynamic value"}),t.slot_outlets.has(i)&&(t.error(n,{code:"duplicate-slot-attribute",message:`Duplicate '${i}' slot`}),t.slot_outlets.add(i));let e=this.parent;do{if("InlineComponent"===e.type)break;if("Element"===e.type&&/-/.test(e.name))break;if("IfBlock"===e.type||"EachBlock"===e.type){const i=`Cannot place slotted elements inside an ${"IfBlock"===e.type?"if":"each"}-block`;t.error(n,{code:"invalid-slotted-content",message:i})}}while(e=e.parent);e||t.error(n,{code:"invalid-slotted-content",message:"Element with a slot='...' attribute must be a descendant of a component or custom element"})}"is"===i&&t.warn(n,{code:"avoid-is",message:"The 'is' attribute is not supported cross-browser and should be avoided"}),e.set(n.name,n)}),"a"===this.name){const n=e.get("href")||e.get("xlink:href");if(n){const e=n.get_static_value();""!==e&&"#"!==e||t.warn(n,{code:"a11y-invalid-attribute",message:`A11y: '${e}' is not a valid ${n.name} attribute`})}else t.warn(this,{code:"a11y-missing-attribute",message:"A11y: <a> element should have an href attribute"})}else{const t=jh[this.name];if(t&&(t.some(t=>e.has(t))||Yh(this,t)),"input"===this.name){const t=e.get("type");if(t&&"image"===t.get_static_value()){const t=["alt","aria-label","aria-labelledby"];t.some(t=>e.has(t))||Yh(this,t,'input type="image"')}}}}validate_bindings(){const{component:t}=this,e=()=>{const e=this.attributes.find(t=>"type"===t.name);if(!e)return null;e.is_static||t.error(e,{code:"invalid-type",message:"'type' attribute cannot be dynamic if input uses two-way binding"});const n=e.get_static_value();return!0===n&&t.error(e,{code:"missing-type",message:"'type' attribute must be specified"}),n};this.bindings.forEach(n=>{const{name:i}=n;if("value"===i)if("input"!==this.name&&"textarea"!==this.name&&"select"!==this.name&&t.error(n,{code:"invalid-binding",message:`'value' is not a valid binding on <${this.name}> elements`}),"select"===this.name){const e=this.attributes.find(t=>"multiple"===t.name);e&&!e.is_static&&t.error(e,{code:"dynamic-multiple-attribute",message:"'multiple' attribute cannot be dynamic if select uses two-way binding"})}else e();else if("checked"===i||"indeterminate"===i){"input"!==this.name&&t.error(n,{code:"invalid-binding",message:`'${i}' is not a valid binding on <${this.name}> elements`});const s=e();if("checkbox"!==s){let e=`'${i}' binding can only be used with <input type="checkbox">`;"radio"===s&&(e+=" — for <input type=\"radio\">, use 'group' binding"),t.error(n,{code:"invalid-binding",message:e})}}else if("group"===i){"input"!==this.name&&t.error(n,{code:"invalid-binding",message:`'group' is not a valid binding on <${this.name}> elements`});const i=e();"checkbox"!==i&&"radio"!==i&&t.error(n,{code:"invalid-binding",message:'\'group\' binding can only be used with <input type="checkbox"> or <input type="radio">'})}else if("files"===i)"input"!==this.name&&t.error(n,{code:"invalid-binding",message:`'files' is not a valid binding on <${this.name}> elements`}),"file"!==e()&&t.error(n,{code:"invalid-binding",message:"'files' binding can only be used with <input type=\"file\">"});else if("open"===i)"details"!==this.name&&t.error(n,{code:"invalid-binding",message:`'${i}' binding can only be used with <details>`});else if("currentTime"===i||"duration"===i||"paused"===i||"buffered"===i||"seekable"===i||"played"===i||"volume"===i||"playbackRate"===i||"seeking"===i||"ended"===i)"audio"!==this.name&&"video"!==this.name&&t.error(n,{code:"invalid-binding",message:`'${i}' binding can only be used with <audio> or <video>`});else if("videoHeight"===i||"videoWidth"===i)"video"!==this.name&&t.error(n,{code:"invalid-binding",message:`'${i}' binding can only be used with <video>`});else if(jt.test(i))"svg"!==this.name||"offsetWidth"!==i&&"offsetHeight"!==i?Ih.test(this.name)?t.error(n,{code:"invalid-binding",message:`'${n.name}' is not a valid binding on SVG elements`}):rl(this.name)&&t.error(n,{code:"invalid-binding",message:`'${n.name}' is not a valid binding on void elements like <${this.name}>. Use a wrapper element instead`}):t.error(n,{code:"invalid-binding",message:`'${n.name}' is not a valid binding on <svg>. Use '${i.replace("offset","client")}' instead`});else if("textContent"===i||"innerHTML"===i){const e=this.attributes.find(t=>"contenteditable"===t.name);e?e&&!e.is_static&&t.error(e,{code:"dynamic-contenteditable-attribute",message:"'contenteditable' attribute cannot be dynamic if element uses two-way binding"}):t.error(n,{code:"missing-contenteditable-attribute",message:"'contenteditable' attribute is required for textContent and innerHTML two-way bindings"})}else"this"!==i&&t.error(n,{code:"invalid-binding",message:`'${n.name}' is not a valid binding`})})}validate_content(){Gh.has(this.name)&&0===this.children.length&&this.component.warn(this,{code:"a11y-missing-content",message:`A11y: <${this.name}> element should have child content`})}validate_event_handlers(){const{component:t}=this;this.handlers.forEach(e=>{e.modifiers.has("passive")&&e.modifiers.has("preventDefault")&&t.error(e,{code:"invalid-event-modifier",message:"The 'passive' and 'preventDefault' modifiers cannot be used together"}),e.modifiers.forEach(n=>{zh.has(n)||t.error(e,{code:"invalid-event-modifier",message:`Valid event modifiers are ${ml(Array.from(zh))}`}),"passive"===n&&(Hh.has(e.name)?e.can_make_passive&&t.warn(e,{code:"redundant-event-modifier",message:"Touch event handlers that don't use the 'event' object are passive by default"}):t.warn(e,{code:"redundant-event-modifier",message:"The passive modifier only works with wheel and touch events"})),!t.compile_options.legacy||"once"!==n&&"passive"!==n||t.error(e,{code:"invalid-event-modifier",message:`The '${n}' modifier cannot be used in legacy mode`})}),Hh.has(e.name)&&e.can_make_passive&&!e.modifiers.has("preventDefault")&&e.modifiers.add("passive")})}is_media_node(){return"audio"===this.name||"video"===this.name}add_css_class(){if(this.attributes.some(t=>t.is_spread))return void(this.needs_manual_style_scoping=!0);const{id:t}=this.component.stylesheet,e=this.attributes.find(t=>"class"===t.name);e&&!e.is_true?1===e.chunks.length&&"Text"===e.chunks[0].type?e.chunks[0].data+=` ${t}`:e.chunks.push(new Lh(this.component,this,this.scope,{type:"Text",data:` ${t}`,synthetic:!0})):this.attributes.push(new Th(this.component,this,this.scope,{type:"Attribute",name:"class",value:[{type:"Text",data:t,synthetic:!0}]}))}}function Yh(t,e,n=t.name){const i=/^[aeiou]/.test(e[0])?"an":"a",s=e.length>1?e.slice(0,-1).join(", ")+` or ${e[e.length-1]}`:e[0];t.component.warn(t,{code:"a11y-missing-attribute",message:`A11y: <${n}> element should have ${i} ${s} attribute`})}class Xh extends ph{constructor(t,e,n,i){super(t,e,n,i),i.attributes.length&&t.error(i.attributes[0],{code:"invalid-attribute",message:"<svelte:head> should not have any attributes or directives"}),this.children=ld(t,e,n,i.children.filter(t=>"Text"!==t.type||/\S/.test(t.data)))}}class Zh extends fh{constructor(t,e,n,i){super(t,e,n,i),this.expression=new gh(t,this,n,i.expression),this.children=ld(t,this,n,i.children),this.else=i.else?new Sh(t,this,n,i.else):null,this.warn_if_empty_block()}}class Jh extends ph{constructor(t,e,n,i){if(super(t,e,n,i),this.attributes=[],this.bindings=[],this.handlers=[],this.lets=[],"svelte:component"!==i.name&&"svelte:self"!==i.name){const e=i.name.split(".")[0];t.warn_if_undefined(e,i,n),t.add_reference(e)}this.name=i.name,this.expression="svelte:component"===this.name?new gh(t,this,n,i.expression):null,i.attributes.forEach(e=>{switch(e.type){case"Action":t.error(e,{code:"invalid-action",message:"Actions can only be applied to DOM elements, not components"});case"Attribute":"slot"===e.name&&t.error(e,{code:"invalid-prop",message:"'slot' is reserved for future use in named slots"});case"Spread":this.attributes.push(new Th(t,this,n,e));break;case"Binding":this.bindings.push(new Eh(t,this,n,e));break;case"Class":t.error(e,{code:"invalid-class",message:"Classes can only be applied to DOM elements, not components"});case"EventHandler":this.handlers.push(new bh(t,this,n,e));break;case"Let":this.lets.push(new Nh(t,this,n,e));break;case"Transition":t.error(e,{code:"invalid-transition",message:"Transitions can only be applied to DOM elements, not components"});default:throw new Error(`Not implemented: ${e.type}`)}}),this.lets.length>0?(this.scope=n.child(),this.lets.forEach(t=>{const e=new Set([t.name.name]);t.names.forEach(t=>{this.scope.add(t,e,this)})})):this.scope=n,this.handlers.forEach(e=>{e.modifiers.forEach(n=>{"once"!==n&&t.error(e,{code:"invalid-event-modifier",message:"Event modifiers other than 'once' can only be used on DOM elements"})})}),this.children=ld(t,this,this.scope,i.children)}}class Kh extends ph{constructor(t,e,n,i){super(t,e,n,i),this.expression=new gh(t,this,n,i.expression),this.should_cache="Identifier"!==i.expression.type||this.expression.dependencies.size&&n.names.has(i.expression.name)}}class td extends Kh{}class ed extends ph{}class nd extends Kh{}class id extends ph{constructor(t,e,n,i){super(t,e,n,i),this.expressions=i.identifiers.map(i=>new gh(t,e,n,i))}}class sd extends Qh{constructor(t,e,n,i){super(t,e,n,i),this.values=new Map,i.attributes.forEach(e=>{"Attribute"!==e.type&&t.error(e,{code:"invalid-slot-directive",message:"<slot> cannot have directives"}),"name"===e.name&&(1===e.value.length&&"Text"===e.value[0].type||t.error(e,{code:"dynamic-slot-name",message:"<slot> name cannot be dynamic"}),this.slot_name=e.value[0].data,"default"===this.slot_name&&t.error(e,{code:"invalid-slot-name",message:"default is a reserved word — it cannot be used as a slot name"})),this.values.set(e.name,new Th(t,this,n,e))}),this.slot_name||(this.slot_name="default"),"default"===this.slot_name?t.slots.forEach(t=>{this.values.forEach((e,n)=>{t.values.has(n)||t.values.set(n,e)})}):t.slots.has("default")&&t.slots.get("default").values.forEach((t,e)=>{this.values.has(e)||this.values.set(e,t)}),t.slots.set(this.slot_name,this)}}class rd extends ph{constructor(t,e,n,i){super(t,e,n,i),this.children=ld(t,e,n,i.children),i.attributes.length>0&&t.error(i.attributes[0],{code:"illegal-attribute",message:"<title> cannot have attributes"}),i.children.forEach(e=>{"Text"!==e.type&&"MustacheTag"!==e.type&&t.error(e,{code:"illegal-structure",message:"<title> can only contain text and {tags}"})}),this.should_cache=1!==i.children.length||"Identifier"!==i.children[0].type||n.names.has(i.children[0].name)}}const ad=["innerWidth","innerHeight","outerWidth","outerHeight","scrollX","scrollY","online"];class od extends ph{constructor(t,e,n,i){super(t,e,n,i),this.handlers=[],this.bindings=[],this.actions=[],i.attributes.forEach(e=>{if("EventHandler"===e.type)this.handlers.push(new bh(t,this,n,e));else if("Binding"===e.type){if("Identifier"!==e.expression.type){const{parts:n}=Ku(e.expression);t.error(e.expression,{code:"invalid-binding",message:`Bindings on <svelte:window> must be to top-level properties, e.g. '${n[n.length-1]}' rather than '${n.join(".")}'`})}if(!~ad.indexOf(e.name)){const n="width"===e.name?"innerWidth":"height"===e.name?"innerHeight":ol(e.name,ad),i=`'${e.name}' is not a valid binding on <svelte:window>`;n?t.error(e,{code:"invalid-binding",message:`${i} (did you mean '${n}'?)`}):t.error(e,{code:"invalid-binding",message:`${i} — valid bindings are ${ml(ad)}`})}this.bindings.push(new Eh(t,this,n,e))}else"Action"===e.type&&this.actions.push(new qh(t,this,n,e))})}}function ld(t,e,n,i){let s=null,r=[];return i.map(i=>{const a=function(t){switch(t){case"AwaitBlock":return vh;case"Body":return xh;case"Comment":return wh;case"EachBlock":return $h;case"Element":return Qh;case"Head":return Xh;case"IfBlock":return Zh;case"InlineComponent":return Jh;case"MustacheTag":return td;case"Options":return ed;case"RawMustacheTag":return nd;case"DebugTag":return id;case"Slot":return sd;case"Text":return Lh;case"Title":return rd;case"Window":return od;default:throw new Error(`Not implemented: ${t}`)}}(i.type),o="Text"!==i.type&&"Comment"!==i.type&&r.length;o&&t.push_ignores(r);const l=new a(t,e,n,i);return o&&(t.pop_ignores(),r=[]),"Comment"===l.type&&l.ignores.length&&r.push(...l.ignores),s&&(s.next=l),l.prev=s,s=l,l})}class ud{constructor(t){this.owners=new Map,this.parent=t,this.names=new Set(t?t.names:[]),this.dependencies_for_name=new Map(t?t.dependencies_for_name:[])}add(t,e,n){return this.names.add(t),this.dependencies_for_name.set(t,e),this.owners.set(t,n),this}child(){return new ud(this)}is_top_level(t){return!this.parent||!this.names.has(t)&&this.parent.is_top_level(t)}get_owner(t){return this.owners.get(t)||this.parent&&this.parent.get_owner(t)}is_let(t){const e=this.get_owner(t);return e&&("Element"===e.type||"InlineComponent"===e.type)}}class cd extends ph{constructor(t,e){const n=new ud;super(t,null,n,e),this.scope=n,this.children=ld(t,this,n,e.children)}}var hd=new Set(["HtmlTag","SvelteComponent","SvelteComponentDev","SvelteElement","add_attribute","add_classes","add_flush_callback","add_location","add_render_callback","add_resize_listener","add_transform","afterUpdate","append","append_dev","assign","attr","attr_dev","beforeUpdate","bind","binding_callbacks","blank_object","bubble","check_outros","children","claim_component","claim_element","claim_space","claim_text","clear_loops","component_subscribe","createEventDispatcher","create_animation","create_bidirectional_transition","create_component","create_in_transition","create_out_transition","create_slot","create_ssr_component","current_component","custom_event","dataset_dev","debug","destroy_block","destroy_component","destroy_each","detach","detach_after_dev","detach_before_dev","detach_between_dev","detach_dev","dirty_components","dispatch_dev","each","element","element_is","empty","escape","escaped","exclude_internal_props","fix_and_destroy_block","fix_and_outro_and_destroy_block","fix_position","flush","getContext","get_binding_group_value","get_current_component","get_slot_changes","get_slot_context","get_spread_object","get_spread_update","get_store_value","globals","group_outros","handle_promise","has_prop","identity","init","insert","insert_dev","intros","invalid_attribute_name_character","is_client","is_function","is_promise","listen","listen_dev","loop","loop_guard","measure","missing_component","mount_component","noop","not_equal","now","null_to_empty","object_without_properties","onDestroy","onMount","once","outro_and_destroy_block","prevent_default","prop_dev","raf","run","run_all","safe_not_equal","schedule_update","select_multiple_value","select_option","select_options","select_value","self","setContext","set_attributes","set_current_component","set_custom_element_data","set_data","set_data_dev","set_input_type","set_input_value","set_now","set_raf","set_store_value","set_style","set_svg_attributes","space","spread","stop_propagation","subscribe","svg_element","text","tick","time_ranges_to_array","to_number","toggle_class","transition_in","transition_out","update_keyed_each","validate_component","validate_store","xlink_attr"]);function dd(t){const e=t.reduce((t,e)=>{const[n,i]=e;return t.has(n)||t.set(n,[]),t.has(i)||t.set(i,[]),t.get(n).push(i),t},new Map),n=new Set,i=new Set,s=[];return e.forEach((t,r)=>{n.has(r)||function t(r){n.add(r),i.add(r),e.get(r).forEach(e=>{n.has(e)?i.has(e)&&s.push([...i,e]):t(e)}),i.delete(r)}(r)}),s[0]}class pd{constructor(t,e,n,i,s,r){if(this.ignore_stack=[],this.vars=[],this.var_lookup=new Map,this.imports=[],this.hoistable_nodes=new Set,this.node_for_declaration=new Map,this.partly_hoisted=[],this.fully_hoisted=[],this.reactive_declarations=[],this.reactive_declaration_nodes=new Set,this.has_reactive_assignments=!1,this.injected_reactive_declaration_vars=new Set,this.helpers=new Map,this.globals=new Map,this.indirect_dependencies=new Map,this.aliases=new Map,this.used_names=new Set,this.globally_used_names=new Set,this.slots=new Map,this.slot_outlets=new Set,this.name={type:"Identifier",name:n},this.stats=s,this.warnings=r,this.ast=t,this.source=e,this.compile_options=i,this.original_ast={html:t.html,css:t.css,instance:t.instance&&JSON.parse(JSON.stringify(t.instance)),module:t.module},this.file=i.filename&&("undefined"!=typeof process?i.filename.replace(process.cwd(),"").replace(/^[/\\]/,""):i.filename),this.locate=ql(this.source,{offsetLine:1}),this.stylesheet=new hh(e,t,i.filename,i.dev),this.stylesheet.validate(this),this.component_options=function(t,e){const n={immutable:t.compile_options.immutable||!1,accessors:"accessors"in t.compile_options?t.compile_options.accessors:!!t.compile_options.customElement,preserveWhitespace:!!t.compile_options.preserveWhitespace},i=e.find(t=>"svelte:options"===t.name);function s(e,n,i){const{value:s}=e,r=s[0];return!r||(s.length>1&&t.error(e,{code:n,message:i}),"Text"===r.type?r.data:("Literal"!==r.expression.type&&t.error(e,{code:n,message:i}),r.expression.value))}return i&&i.attributes.forEach(e=>{if("Attribute"===e.type){const{name:i}=e;switch(i){case"tag":{const i="invalid-tag-attribute",r="'tag' must be a string literal",a=s(e,i,r);"string"!=typeof a&&null!==a&&t.error(e,{code:i,message:r}),a&&!/^[a-zA-Z][a-zA-Z0-9]*-[a-zA-Z0-9-]+$/.test(a)&&t.error(e,{code:"invalid-tag-property",message:"tag name must be two or more words joined by the '-' character"}),a&&!t.compile_options.customElement&&t.warn(e,{code:"missing-custom-element-compile-options",message:"The 'tag' option is used when generating a custom element. Did you forget the 'customElement: true' compile option?"}),n.tag=a;break}case"namespace":{const i="invalid-namespace-attribute",r="The 'namespace' attribute must be a string literal representing a valid namespace",a=s(e,i,r);if("string"!=typeof a&&t.error(e,{code:i,message:r}),-1===Wu.indexOf(a)){const n=ol(a,Wu);n?t.error(e,{code:"invalid-namespace-property",message:`Invalid namespace '${a}' (did you mean '${n}'?)`}):t.error(e,{code:"invalid-namespace-property",message:`Invalid namespace '${a}'`})}n.namespace=a;break}case"accessors":case"immutable":case"preserveWhitespace":{const r=`invalid-${i}-value`,a=`${i} attribute must be true or false`,o=s(e,r,a);"boolean"!=typeof o&&t.error(e,{code:r,message:a}),n[i]=o;break}default:t.error(e,{code:"invalid-options-attribute",message:"<svelte:options> unknown attribute"})}}else t.error(e,{code:"invalid-options-attribute",message:"<svelte:options> can only have static 'tag', 'namespace', 'accessors', 'immutable' and 'preserveWhitespace' attributes"})}),n}(this,this.ast.html.children),this.namespace=zu[this.component_options.namespace]||this.component_options.namespace,i.customElement){if(void 0===this.component_options.tag&&void 0===i.tag){const e=t.html.children.find(t=>"svelte:options"===t.name)||{start:0,end:0};this.warn(e,{code:"custom-element-no-tag",message:"No custom element 'tag' option was specified. To automatically register a custom element, specify a name with a hyphen in it, e.g. <svelte:options tag=\"my-thing\"/>. To hide this warning, use <svelte:options tag={null}/>"})}this.tag=this.component_options.tag||i.tag}else this.tag=this.name.name;this.walk_module_js(),this.walk_instance_js_pre_template(),this.fragment=new cd(this,t.html),this.name=this.get_unique_name(n),this.walk_instance_js_post_template(),i.customElement||this.stylesheet.reify(),this.stylesheet.warn_on_unused_selectors(this)}add_var(t){this.vars.push(t),this.var_lookup.set(t.name,t)}add_reference(t){const e=this.var_lookup.get(t);if(e)e.referenced=!0;else if("$$props"===t)this.add_var({name:t,injected:!0,referenced:!0});else if("$"===t[0]){this.add_var({name:t,injected:!0,referenced:!0,mutated:!0,writable:!0});const e=t.slice(1),n=this.var_lookup.get(e);n&&(n.subscribable=!0)}else this.used_names.add(t)}alias(t){return this.aliases.has(t)||this.aliases.set(t,this.get_unique_name(t)),this.aliases.get(t)}global(t){const e=this.alias(t);return this.globals.set(t,e),e}generate(t){let e=null,n=null;if(t){const{compile_options:i,name:s}=this,{format:r="esm"}=i,a=`${this.file?`${this.file} `:""}generated by Svelte v3.16.1`,o={type:"Program",body:t};Bo(o,{enter:(t,e,n)=>{if("Identifier"===t.type)if("@"===t.name[0])if("_"===t.name[1]){const e=this.global(t.name.slice(2));t.name=e.name}else{let e=t.name.slice(1);i.dev&&(hd.has(`${e}_dev`)?e+="_dev":hd.has(`${e}Dev`)&&(e+="Dev"));const n=this.alias(e);this.helpers.set(e,n),t.name=n.name}else if("#"!==t.name[0]&&!function(t){let e=0;for(;e<t.length;){const n=el(t,e);if(!(0===e?f:m)(n,!0))return!1;e+=n<=65535?1:2}return!0}(t.name)){const i={type:"Literal",value:t.name};"Property"===e.type&&"key"===n?e.key=i:"MemberExpression"===e.type&&"property"===n&&(e.property=i,e.computed=!0)}}});const l=Array.from(this.globals,([t,e])=>t!==e.name&&{name:t,alias:e}).filter(Boolean);l.length&&this.helpers.set("globals",this.alias("globals"));const u=Array.from(this.helpers,([t,e])=>({name:t,alias:e}));!function(t,e,n,i,s="svelte",r,a,o,l){const u=`${s}/internal`;if(r.sort((t,e)=>t.name<e.name?-1:1),a.sort((t,e)=>t.name<e.name?-1:1),"esm"===e)return Nc(t,n,i,s,u,r,a,o,l);if("cjs"===e)return Ic(t,n,i,s,u,r,a,o,l);throw new Error(`options.format is invalid (must be ${ml(Object.keys(Mc))})`)}(o,r,s,a,i.sveltePath,u,l,this.imports,this.vars.filter(t=>t.module&&t.export_name).map(t=>({name:t.name,as:t.export_name}))),n=i.customElement?{code:null,map:null}:this.stylesheet.render(i.cssOutputFilename,!0),e=function t(e,n={}){if(Array.isArray(e))return t({type:"Program",body:e},n);const{getName:i=(t=>t)}=n;let{map:s,scope:r}=Vl(e);const a=Zl(e,{indent:"",getName:i,scope:r,scope_map:s,deconflicted:new WeakMap,comments:[]});let o="",l=[],u=[],c=0;for(let t=0;t<a.length;t+=1){const e=a[t];o+=e.content,e.loc&&u.push([c,0,e.loc.start.line-1,e.loc.start.column]);for(let t=0;t<e.content.length;t+=1)"\n"===e.content[t]?(l.push(u),u=[],c=0):c+=1;e.loc&&u.push([c,0,e.loc.end.line-1,e.loc.end.column])}return l.push(u),{code:o,map:{version:3,names:[],sources:[n.sourceMapSource||null],sourcesContent:[n.sourceMapContent||null],mappings:Hl(l)}}}(o,{sourceMapSource:i.filename}),e.map.sources=[i.filename?fd(i.outputFilename||"",i.filename):null],e.map.sourcesContent=[this.source]}return{js:e,css:n,ast:this.original_ast,warnings:this.warnings,vars:this.vars.filter(t=>!t.global&&!t.internal).map(t=>({name:t.name,export_name:t.export_name||null,injected:t.injected||!1,module:t.module||!1,mutated:t.mutated||!1,reassigned:t.reassigned||!1,referenced:t.referenced||!1,writable:t.writable||!1,referenced_from_script:t.referenced_from_script||!1})),stats:this.stats.render()}}get_unique_name(t,e){dh&&(t=`${t}$`);let n=t;for(let i=1;il.has(n)||this.var_lookup.has(n)||this.used_names.has(n)||this.globally_used_names.has(n)||e&&e.has(n);n=`${t}_${i++}`);return this.used_names.add(n),{type:"Identifier",name:n}}get_unique_name_maker(){const t=new Set;function e(e){t.add(e)}return il.forEach(e),hd.forEach(e),this.var_lookup.forEach((t,n)=>e(n)),e=>{dh&&(e=`${e}$`);let n=e;for(let i=1;this.used_names.has(n)||t.has(n);n=`${e}_${i++}`);return t.add(n),this.globally_used_names.add(n),{type:"Identifier",name:n}}}error(t,e){Il(e.message,{name:"ValidationError",code:e.code,source:this.source,start:t.start,end:t.end,filename:this.compile_options.filename})}warn(t,e){if(this.ignores&&this.ignores.has(e.code))return;const n=this.locate(t.start),i=this.locate(t.end),s=Rl(this.source,n.line-1,n.column);this.warnings.push({code:e.code,message:e.message,frame:s,start:n,end:i,pos:t.start,filename:this.compile_options.filename,toString:()=>`${e.message} (${n.line}:${n.column})\n${s}`})}extract_imports(t){this.imports.push(t)}extract_exports(t){if("ExportDefaultDeclaration"===t.type&&this.error(t,{code:"default-export",message:"A component cannot have a default export"}),"ExportNamedDeclaration"===t.type){if(t.source&&this.error(t,{code:"not-implemented",message:"A component currently cannot have an export ... from"}),t.declaration){if("VariableDeclaration"===t.declaration.type)t.declaration.declarations.forEach(t=>{Ul(t.id).forEach(e=>{const n=this.var_lookup.get(e);n.export_name=e,n.writable&&!(n.referenced||n.referenced_from_script||n.subscribable)&&this.warn(t,{code:"unused-export-let",message:`${this.name.name} has unused export property '${e}'. If it is for external reference only, please consider using \`export const '${e}'\``})})});else{const{name:e}=t.declaration.id;this.var_lookup.get(e).export_name=e}return t.declaration}return t.specifiers.forEach(t=>{const e=this.var_lookup.get(t.local.name);e&&(e.export_name=t.exported.name,e.writable&&!(e.referenced||e.referenced_from_script||e.subscribable)&&this.warn(t,{code:"unused-export-let",message:`${this.name.name} has unused export property '${t.exported.name}'. If it is for external reference only, please consider using \`export const '${t.exported.name}'\``}))}),null}}extract_javascript(t){return t?t.content.body.filter(t=>!(!t||this.hoistable_nodes.has(t)||this.reactive_declaration_nodes.has(t)||"ImportDeclaration"===t.type||"ExportDeclaration"===t.type&&t.specifiers.length>0)):null}walk_module_js(){const t=this,e=this.ast.module;if(!e)return;Bo(e.content,{enter(e){"LabeledStatement"===e.type&&"$"===e.label.name&&t.warn(e,{code:"module-script-reactive-declaration",message:"$: has no effect in a module script"})}});const{scope:n,globals:i}=kc(e.content);this.module_scope=n,n.declarations.forEach((t,e)=>{"$"===e[0]&&this.error(t,{code:"illegal-declaration",message:"The $ prefix is reserved, and cannot be used for variable and import names"});const n="VariableDeclaration"===t.type&&("var"===t.kind||"let"===t.kind);this.add_var({name:e,module:!0,hoistable:!0,writable:n})}),i.forEach((t,e)=>{"$"===e[0]?this.error(t,{code:"illegal-subscription",message:'Cannot reference store value inside <script context="module">'}):this.add_var({name:e,global:!0,hoistable:!0})});const{body:s}=e.content;let r=s.length;for(;--r>=0;){const t=s[r];if("ImportDeclaration"===t.type&&(this.extract_imports(t),s.splice(r,1)),/^Export/.test(t.type)){const e=this.extract_exports(t);e?s[r]=e:s.splice(r,1)}}}walk_instance_js_pre_template(){const t=this.ast.instance;if(!t)return;t.content.body.forEach(t=>{if("LabeledStatement"!==t.type)return;if("ExpressionStatement"!==t.body.type)return;const{expression:e}=t.body;"AssignmentExpression"===e.type&&Ul(e.left).forEach(t=>{this.var_lookup.has(t)||"$"===t[0]||this.injected_reactive_declaration_vars.add(t)})});const{scope:e,map:n,globals:i}=kc(t.content);this.instance_scope=e,this.instance_scope_map=n,e.declarations.forEach((t,n)=>{"$"===n[0]&&this.error(t,{code:"illegal-declaration",message:"The $ prefix is reserved, and cannot be used for variable and import names"});const i="VariableDeclaration"===t.type&&("var"===t.kind||"let"===t.kind);this.add_var({name:n,initialised:e.initialised_declarations.has(n),hoistable:/^Import/.test(t.type),writable:i}),this.node_for_declaration.set(n,t)}),i.forEach((t,e)=>{if(!this.var_lookup.has(e))if(this.injected_reactive_declaration_vars.has(e))this.add_var({name:e,injected:!0,writable:!0,reassigned:!0,initialised:!0});else if("$$props"===e)this.add_var({name:e,injected:!0});else if("$"===e[0]){"$"!==e&&"$"!==e[1]||this.error(t,{code:"illegal-global",message:`${e} is an illegal variable name`}),this.add_var({name:e,injected:!0,mutated:!0,writable:!0}),this.add_reference(e.slice(1));const n=this.var_lookup.get(e.slice(1));n&&(n.subscribable=!0,n.referenced_from_script=!0)}else this.add_var({name:e,global:!0,hoistable:!0})}),this.track_references_and_mutations()}walk_instance_js_post_template(){this.ast.instance&&(this.post_template_walk(),this.hoist_instance_declarations(),this.extract_reactive_declarations())}post_template_walk(){const t=this.ast.instance;if(!t)return;const e=this,{content:n}=t,{instance_scope:i,instance_scope_map:s}=this;let r=i;const a=[],o=(t,e,n)=>{a.unshift([t,e,n])};let l=!1;Bo(n,{enter(t,n,i,a){if(s.has(t)&&(r=s.get(t)),"ImportDeclaration"===t.type)return e.extract_imports(t),o(n,i,a),this.skip();if(/^Export/.test(t.type)){const s=e.extract_exports(t);return s?this.replace(s):o(n,i,a),this.skip()}e.warn_on_undefined_store_value_references(t,n,r)},leave(t){if(e.compile_options.dev&&e.compile_options.loopGuardTimeout>0){const n=e.loop_protect(t,r,e.compile_options.loopGuardTimeout);n&&(this.replace(n),l=!0)}s.has(t)&&(r=r.parent)}});for(const[t,e,n]of a)t&&(null!==n?t[e].splice(n,1):delete t[e]);if(l){const{scope:e,map:n}=kc(t.content);this.instance_scope=e,this.instance_scope_map=n}}track_references_and_mutations(){const t=this.ast.instance;if(!t)return;const e=this,{content:n}=t,{instance_scope:i,instance_scope_map:s}=this;let r=i;Bo(n,{enter(t,n){if(s.has(t)&&(r=s.get(t)),"AssignmentExpression"===t.type||"UpdateExpression"===t.type){const n="AssignmentExpression"===t.type?t.left:t.argument,s=Ul(n),a="MemberExpression"===n.type;s.forEach(t=>{r.find_owner(t)===i&&(e.var_lookup.get(t)[a?"mutated":"reassigned"]=!0)})}if(function(t,e){if(!Bl(t,e))return!1;if(!e)return!0;switch(e.type){case"VariableDeclarator":return t!==e.id;case"FunctionDeclaration":case"ImportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ExportSpecifier":return!1;default:return!0}}(t,n)){const n=Ju(t);r.find_owner(n.name)===i&&(e.var_lookup.get(n.name).referenced_from_script=!0)}},leave(t){s.has(t)&&(r=r.parent)}})}warn_on_undefined_store_value_references(t,e,n){if("LabeledStatement"===t.type&&"$"===t.label.name&&"Program"!==e.type&&this.warn(t,{code:"non-top-level-reactive-declaration",message:"$: has no effect outside of the top-level"}),Bl(t,e)){const e=Ju(t),{name:i}=e;"$"!==i[0]||n.has(i)||this.warn_if_undefined(i,e,null)}}loop_protect(t,e,n){if("WhileStatement"===t.type||"ForStatement"===t.type||"DoWhileStatement"===t.type){const i=this.get_unique_name("guard",e);this.used_names.add(i.name);const s=vu`const ${i} = @loop_guard(${n})`,r=vu`${i}();`;return"BlockStatement"!==t.body.type&&(t.body={type:"BlockStatement",body:[t.body]}),t.body.body.push(r[0]),{type:"BlockStatement",body:[s[0],t]}}return null}rewrite_props(t){if(!this.ast.instance)return;const e=this,{instance_scope:n,instance_scope_map:i}=this;let s=n;Bo(this.ast.instance.content,{enter(r,a,o,l){if(/Function/.test(r.type))return this.skip();i.has(r)&&(s=i.get(r)),"VariableDeclaration"===r.type&&("var"!==r.kind&&s!==n||r.declarations.forEach(n=>{if("Identifier"!==n.id.type){const i=[];return Ul(n.id).forEach(s=>{const r=e.var_lookup.get(s);r.export_name&&e.error(n,{code:"destructured-prop",message:"Cannot declare props in destructured declaration"}),r.subscribable&&i.push(t(r))}),void(i.length&&a[o].splice(l+1,0,...i))}const{name:i}=n.id,s=e.var_lookup.get(i);if(s.export_name&&s.writable){const e=s.subscribable?t(s):null;a[o].splice(l+1,0,e),n.id={type:"ObjectPattern",properties:[{type:"Property",method:!1,shorthand:!1,computed:!1,kind:"init",key:{type:"Identifier",name:s.export_name},value:n.init?{type:"AssignmentPattern",left:n.id,right:n.init}:n.id}]},n.init=bu`$$props`}else if(s.subscribable){const e=t(s);a[o].splice(l+1,0,...e)}}))},leave(t,e,n,r){i.has(t)&&(s=s.parent),"ExportNamedDeclaration"===t.type&&t.declaration&&(e.body[r]=t.declaration)}})}hoist_instance_declarations(){const{hoistable_nodes:t,var_lookup:e,injected_reactive_declaration_vars:n}=this,i=new Map,{body:s}=this.ast.instance.content;for(let e=0;e<s.length;e+=1){const n=s[e];"VariableDeclaration"===n.type&&n.declarations.every(t=>{if(!t.init)return!1;if("Literal"!==t.init.type)return!1;if("const"!==n.kind&&this.compile_options.dev)return!1;const{name:e}=t.id,i=this.var_lookup.get(e);return!(i.reassigned||i.export_name||this.var_lookup.get(e).reassigned||this.vars.find(t=>t.name===e&&t.module))})&&(n.declarations.forEach(t=>{this.var_lookup.get(t.id.name).hoistable=!0}),t.add(n),s.splice(e--,1),this.fully_hoisted.push(n)),"ExportNamedDeclaration"===n.type&&n.declaration&&"FunctionDeclaration"===n.declaration.type&&i.set(n.declaration.id.name,n),"FunctionDeclaration"===n.type&&i.set(n.id.name,n)}const r=new Set,a=new Set,o=t=>{"ExportNamedDeclaration"===t.type&&(t=t.declaration);const s=this.instance_scope;let l=this.instance_scope;const u=this.instance_scope_map;let c=!0;return a.add(t),Bo(t,{enter(r,h){if(!c)return this.skip();if(u.has(r)&&(l=u.get(r)),Bl(r,h)){const{name:u}=Ku(r),h=l.find_owner(u);if(n.has(u))c=!1;else if("$"!==u[0]||h){if(h===s){const n=e.get(u);if((n.reassigned||n.mutated)&&(c=!1),u===t.id.name)return;if(n.hoistable)return;if(i.has(u)){const t=i.get(u);a.has(t)?c=!1:"ExportNamedDeclaration"===t.type&&a.has(t.declaration)?c=!1:o(t)||(c=!1)}else c=!1}}else c=!1;this.skip()}},leave(t){u.has(t)&&(l=l.parent)}}),r.add(t),a.delete(t),c};for(const[e,n]of i)if(o(n)){this.var_lookup.get(e).hoistable=!0,t.add(n);const i=s.indexOf(n);s.splice(i,1),this.fully_hoisted.push(n)}}extract_reactive_declarations(){const t=this,e=[];this.ast.instance.content.body.forEach(n=>{if("LabeledStatement"===n.type&&"$"===n.label.name){this.reactive_declaration_nodes.add(n);const i=new Set,s=new Set,r=new Set;let a=this.instance_scope;const o=this.instance_scope_map;Bo(n.body,{enter(e,n){if(o.has(e)&&(a=o.get(e)),"AssignmentExpression"===e.type){const t=Ju(e.left);Gl(t).forEach(t=>{s.add(t),i.add(t.name)}),"="!==e.operator&&r.add(t.name)}else if("UpdateExpression"===e.type){const t=Ju(e.argument);i.add(t.name)}else if(Bl(e,n)){const n=Ju(e);if(!s.has(n)){const{name:e}=n,i=a.find_owner(e),s=t.var_lookup.get(e);s&&(s.is_reactive_dependency=!0);const o=s&&(s.writable||s.mutated);i&&i!==t.instance_scope||"$"!==e[0]&&!o||r.add(e)}this.skip()}},leave(t){o.has(t)&&(a=a.parent)}});const{expression:l}=n.body,u=l&&l.left;e.push({assignees:i,dependencies:r,node:n,declaration:u})}});const n=new Map;let i;e.forEach(t=>{t.assignees.forEach(e=>{n.has(e)||n.set(e,[]),n.get(e).push(t)})});const s=dd(e.reduce((t,e)=>(e.assignees.forEach(n=>{e.dependencies.forEach(i=>{e.assignees.has(i)||t.push([n,i])})}),t),[]));if(s&&s.length){const t=n.get(s[0])[0];this.error(t.node,{code:"cyclical-reactive-declaration",message:`Cyclical dependency detected: ${s.join(" → ")}`})}const r=t=>{-1===this.reactive_declarations.indexOf(t)&&(i.add(t),t.dependencies.forEach(e=>{if(t.assignees.has(e))return;const i=n.get(e);i&&i.forEach(t=>{r(t)})}),this.reactive_declarations.push(t))};e.forEach(t=>{i=new Set,r(t)})}warn_if_undefined(t,e,n){if("$"===t[0]){if(("$"===t||"$"===t[1]&&"$$props"!==t)&&this.error(e,{code:"illegal-global",message:`${t} is an illegal variable name`}),this.has_reactive_assignments=!0,"$$props"===t)return;t=t.slice(1)}if(this.var_lookup.has(t)&&!this.var_lookup.get(t).global)return;if(n&&n.names.has(t))return;if(nl.has(t)&&"InlineComponent"!==e.type)return;let i=`'${t}' is not defined`;this.ast.instance||(i+=`. Consider adding a <script> block with 'export let ${t}' to declare a prop`),this.warn(e,{code:"missing-declaration",message:i})}push_ignores(t){this.ignores=new Set(this.ignores||[]),Ou(this.ignores,t),this.ignore_stack.push(this.ignores)}pop_ignores(){this.ignore_stack.pop(),this.ignores=this.ignore_stack[this.ignore_stack.length-1]}}function fd(t,e){const n=t.split(/[/\\]/),i=e.split(/[/\\]/);for(n.pop();n[0]===i[0];)n.shift(),i.shift();if(n.length){let t=n.length;for(;t--;)n[t]=".."}return n.concat(i).join("/")}const md=["format","name","filename","generate","outputFilename","cssOutputFilename","sveltePath","dev","accessors","immutable","hydratable","legacy","customElement","tag","css","loopGuardTimeout","preserveComments","preserveWhitespace"];function _d(t){const e={};return t.split(/\s+/).filter(Boolean).forEach(t=>{const n=t.indexOf("=");-1===n?e[t]=!0:e[t.slice(0,n)]="'\"".includes(t[n+1])?t.slice(n+2,-1):t.slice(n+1)}),e}async function yd(t,e,n){const i=[];t.replace(e,(...t)=>(i.push(n(...t).then(e=>({offset:t[t.length-2],length:t[0].length,replacement:e}))),""));let s="",r=0;for(const{offset:e,length:n,replacement:a}of await Promise.all(i))s+=t.slice(r,e)+a,r=e+n;return s+=t.slice(r),s}t.VERSION="3.16.1",t.compile=function(t,e={}){e=function(t,e){for(const n in e)t[n]=e[n];return t}({generate:"dom",dev:!1},e);const i=new n,s=[];!function(t,e){const{name:n,filename:i,loopGuardTimeout:s,dev:r}=t;if(Object.keys(t).forEach(t=>{if(-1===md.indexOf(t)){const e=ol(t,md);let n=`Unrecognized option '${t}'`;throw e&&(n+=` (did you mean '${e}'?)`),new Error(n)}}),n&&!/^[a-zA-Z_$][a-zA-Z_$0-9]*$/.test(n))throw new Error(`options.name must be a valid identifier (got '${n}')`);if(n&&/^[a-z]/.test(n)){const t="options.name should be capitalised";e.push({code:"options-lowercase-name",message:t,filename:i,toString:()=>t})}if(s&&!r){const t="options.loopGuardTimeout is for options.dev = true only";e.push({code:"options-loop-guard-timeout",message:t,filename:i,toString:()=>t})}}(e,s),i.start("parse");const r=Dl(t,e);i.stop("parse"),i.start("create component");const a=new pd(r,t,e.name||function(t){if(!t)return null;const e=t.split(/[/\\]/).map(encodeURI);if(e.length>1){const t=e[e.length-1].match(/^index(\.\w+)/);t&&(e.pop(),e[e.length-1]+=t[1])}const n=e.pop().replace(/%/g,"u").replace(/\.[^.]+$/,"").replace(/[^a-zA-Z_$0-9]+/g,"_").replace(/^_/,"").replace(/_$/,"").replace(/^(\d)/,"_$1");if(!n)throw new Error(`Could not derive component name from file ${t}`);return n[0].toUpperCase()+n.slice(1)}(e.filename)||"Component",e,i,s);i.stop("create component");const o=!1===e.generate?null:"ssr"===e.generate?function(t,e){const n=new qc({name:t.name}),{name:i}=t;n.render(function(t){let e=0;for(;e<t.length;e+=1){const n=t[e];if("Text"!==n.type)break;if(n.data=n.data.replace(/^\s+/,""),n.data)break}let n=t.length;for(;n>e;n-=1){const e=t[n-1];if("Text"!==e.type)break;if(e.data=e.data.replace(/\s+$/,""),e.data)break}return t.slice(e,n)}(t.fragment.children),Object.assign({locate:t.locate},e));const s=n.pop(),r=e.customElement?{code:null,map:null}:t.stylesheet.render(e.filename,!0),a=t.vars.filter(t=>"$"===t.name[0]&&"$"!==t.name[1]),o=a.map(({name:e})=>{const n=e.slice(1),i=t.var_lookup.get(n);if(i&&i.hoistable)return null;const s=vu`${e} = @get_store_value(${n});`;return t.compile_options.dev?vu`@validate_store(${n}, '${n}'); ${s}`:s}).filter(Boolean);t.rewrite_props(({name:e})=>{let n=vu`${`$${e}`} = @get_store_value(${e})`;return t.compile_options.dev&&(n=vu`@validate_store(${e}, '${e}'); ${n}`),n});const l=t.extract_javascript(t.ast.instance),u=l?t.vars.filter(t=>!t.module&&t.export_name).map(t=>vu`if ($$props.${t.export_name} === void 0 && $$bindings.${t.export_name} && ${t.name} !== void 0) $$bindings.${t.export_name}(${t.name});`):[],c=t.reactive_declarations.map(e=>{const n=e.node.body;let i=vu`${n}`;if(e.declaration){const s=Ul(e.declaration),r=s.filter(e=>"$"!==e[0]&&t.var_lookup.get(e).injected),a=r.filter(t=>e.dependencies.has(t));if(r.length){const t=a.length>0||s.length>r.length,{left:e,right:o}=n.expression;i=t?vu`
						${r.map(t=>vu`let ${t};`)}
						${i}`:vu`
						let ${e} = ${o}`}}else i=vu`$: { ${i} }`;return i}),h=n.has_bindings?vu`
			let $$settled;
			let $$rendered;

			do {
				$$settled = true;

				${o}

				${c}

				$$rendered = ${s};
			} while (!$$settled);

			return $$rendered;
		`:vu`
			${o}

			${c}

			return ${s};`,d=[...a.map(({name:e})=>{const n=e.slice(1),i=t.var_lookup.get(n);return i&&i.hoistable?vu`let ${e} = @get_store_value(${n});`:vu`let ${e};`}),l,...u,r.code&&vu`$$result.css.add(#css);`,h].filter(Boolean);return vu`
		${r.code?vu`
		const #css = {
			code: "${r.code}",
			map: ${r.map?Mu(r.map.toString()):"null"}
		};`:null}

		${t.extract_javascript(t.ast.module)}

		${t.fully_hoisted}

		const ${i} = @create_ssr_component(($$result, $$props, $$bindings, $$slots) => {
			${d}
		});
	`}(a,e):Sc(a,e);return a.generate(o)},t.parse=Dl,t.preprocess=async function(t,e,n){const i=n&&n.filename||e.filename,s=[],r=Array.isArray(e)?e:[e],a=r.map(t=>t.markup).filter(Boolean),o=r.map(t=>t.script).filter(Boolean),l=r.map(t=>t.style).filter(Boolean);for(const e of a){const n=await e({content:t,filename:i});n&&n.dependencies&&s.push(...n.dependencies),t=n?n.code:t}for(const e of o)t=await yd(t,/<!--[^]*?-->|<script(\s[^]*?)?>([^]*?)<\/script>/gi,async(t,n="",r)=>{if(!n&&!r)return t;n=n||"";const a=await e({content:r,attributes:_d(n),filename:i});return a&&a.dependencies&&s.push(...a.dependencies),a?`<script${n}>${a.code}<\/script>`:t});for(const e of l)t=await yd(t,/<!--[^]*?-->|<style(\s[^]*?)?>([^]*?)<\/style>/gi,async(t,n="",r)=>{if(!n&&!r)return t;const a=await e({content:r,attributes:_d(n),filename:i});return a&&a.dependencies&&s.push(...a.dependencies),a?`<style${n}>${a.code}</style>`:t});return{code:t,dependencies:[...new Set(s)],toString:()=>t}},t.walk=Bo,Object.defineProperty(t,"__esModule",{value:!0})}(e)})));const{app:Ne,Menu:Ie}=require("electron").remote,Fe=require("electron").shell;const De=new class extends at{constructor(t){super(),rt(this,t,null,Re,a,{})}}({target:document.body});return(()=>Ie.setApplicationMenu(Ie.buildFromTemplate((()=>[..."darwin"===process.platform?[{label:Ne.getName(),submenu:[{label:"About",click:()=>Fe.openExternal("https://person0b.itch.io/cassetter")},{label:"Source",click:()=>Fe.openExternal("https://github.com/person0b/cassetter")},{type:"separator"},{role:"togglefullscreen"},{role:"hide"},{type:"separator"},{role:"quit"},{role:"reload"},{role:"toggledevtools"}]}]:[{label:"File",submenu:[{label:"About",click:()=>Fe.openExternal("https://person0b.itch.io/cassetter")},{label:"Source",click:()=>Fe.openExternal("https://github.com/person0b/cassetter")},{type:"separator"},{role:"togglefullscreen"},{role:"hide"},{type:"separator"},{role:"quit"}]}]])())))(),De}();
